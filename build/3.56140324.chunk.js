(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2191:function(e,t,i){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),l=/Edge\/(\d+)/.exec(e),s=n||o||l,r=s&&(n?document.documentMode||6:+(l||o)[1]),a=!l&&/WebKit\//.test(e),c=a&&/Qt\/\d+\.\d+/.test(e),u=!l&&/Chrome\//.test(e),d=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),g=!l&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),b=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),_=/win/i.test(t),x=d&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(d=!1,a=!0);var w=v&&(c||d&&(null==x||x<12.11)),C=i||s&&r>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,A=function(e,t){var i=e.className,n=k(t).exec(i);if(n){var o=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(o?n[1]+o:"")}};function E(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function L(e,t){return E(e).appendChild(t)}function z(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)o.appendChild(t[l]);return o}function N(e,t,i,n){var o=z(e,t,i,n);return o.setAttribute("role","presentation"),o}function T(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function M(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function B(e,t){var i=e.className;k(t).test(i)||(e.className+=(i?" ":"")+t)}function I(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!k(i[n]).test(t)&&(t+=" "+i[n]);return t}S=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(o){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var D=function(e){e.select()};function O(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function R(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function H(e,t,i,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var l=n||0,s=o||0;;){var r=e.indexOf("\t",l);if(r<0||r>=t)return s+(t-l);s+=r-l,s+=i-s%i,l=r+1}}g?D=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(D=function(e){try{e.select()}catch(t){}});var F=function(){this.id=null,this.f=null,this.time=0,this.handler=O(this.onTimeout,this)};function P(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}F.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},F.prototype.set=function(e,t){this.f=t;var i=+new Date+e;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=i)};var U={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},W={origin:"*mouse"},q={origin:"+move"};function Z(e,t,i){for(var n=0,o=0;;){var l=e.indexOf("\t",n);-1==l&&(l=e.length);var s=l-n;if(l==e.length||o+s>=t)return n+Math.min(s,t-o);if(o+=l-n,n=l+1,(o+=i-o%i)>=t)return n}}var j=[""];function G(e){for(;j.length<=e;)j.push(Y(j)+" ");return j[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function $(){}function K(e,t){var i;return Object.create?i=Object.create(e):($.prototype=e,i=new $),t&&R(t,i),i}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return e.charCodeAt(0)>=768&&ie.test(e)}function oe(e,t,i){for(;(i<0?t>0:t<e.length)&&ne(e.charAt(t));)t+=i;return t}function le(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var o=(t+i)/2,l=n<0?Math.ceil(o):Math.floor(o);if(l==t)return e(l)?t:i;e(l)?i=l:t=l+n}}var se=null;function re(e,t,i){var n;se=null;for(var o=0;o<e.length;++o){var l=e[o];if(l.from<t&&l.to>t)return o;l.to==t&&(l.from!=l.to&&"before"==i?n=o:se=o),l.from==t&&(l.from!=l.to&&"before"!=i?n=o:se=o)}return null!=n?n:se}var ae=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,i=/[LRr]/,n=/[Lb1n]/,o=/[1n]/;function l(e,t,i){this.level=e,this.from=t,this.to=i}return function(s,r){var a="ltr"==r?"L":"R";if(0==s.length||"ltr"==r&&!e.test(s))return!1;for(var c,u=s.length,d=[],h=0;h<u;++h)d.push((c=s.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var p=0,f=a;p<u;++p){var g=d[p];"m"==g?d[p]=f:f=g}for(var m=0,b=a;m<u;++m){var v=d[m];"1"==v&&"r"==b?d[m]="n":i.test(v)&&(b=v,"r"==v&&(d[m]="R"))}for(var y=1,_=d[0];y<u-1;++y){var x=d[y];"+"==x&&"1"==_&&"1"==d[y+1]?d[y]="1":","!=x||_!=d[y+1]||"1"!=_&&"n"!=_||(d[y]=_),_=x}for(var w=0;w<u;++w){var C=d[w];if(","==C)d[w]="N";else if("%"==C){var k=void 0;for(k=w+1;k<u&&"%"==d[k];++k);for(var S=w&&"!"==d[w-1]||k<u&&"1"==d[k]?"1":"N",A=w;A<k;++A)d[A]=S;w=k-1}}for(var E=0,L=a;E<u;++E){var z=d[E];"L"==L&&"1"==z?d[E]="L":i.test(z)&&(L=z)}for(var N=0;N<u;++N)if(t.test(d[N])){var T=void 0;for(T=N+1;T<u&&t.test(d[T]);++T);for(var M="L"==(N?d[N-1]:a),B=M==("L"==(T<u?d[T]:a))?M?"L":"R":a,I=N;I<T;++I)d[I]=B;N=T-1}for(var D,O=[],R=0;R<u;)if(n.test(d[R])){var H=R;for(++R;R<u&&n.test(d[R]);++R);O.push(new l(0,H,R))}else{var F=R,P=O.length,U="rtl"==r?1:0;for(++R;R<u&&"L"!=d[R];++R);for(var V=F;V<R;)if(o.test(d[V])){F<V&&(O.splice(P,0,new l(1,F,V)),P+=U);var W=V;for(++V;V<R&&o.test(d[V]);++V);O.splice(P,0,new l(2,W,V)),P+=U,F=V}else++V;F<R&&O.splice(P,0,new l(1,F,R))}return"ltr"==r&&(1==O[0].level&&(D=s.match(/^\s+/))&&(O[0].from=D[0].length,O.unshift(new l(0,0,D[0].length))),1==Y(O).level&&(D=s.match(/\s+$/))&&(Y(O).to-=D[0].length,O.push(new l(0,u-D[0].length,u)))),"rtl"==r?O.reverse():O}}();function ce(e,t){var i=e.order;return null==i&&(i=e.order=ae(e.text,t)),i}var ue=[],de=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ue).concat(i)}};function he(e,t){return e._handlers&&e._handlers[t]||ue}function pe(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,o=n&&n[t];if(o){var l=P(o,i);l>-1&&(n[t]=o.slice(0,l).concat(o.slice(l+1)))}}}function fe(e,t){var i=he(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function ge(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),fe(e,i||t.type,e,t),xe(t)||t.codemirrorIgnore}function me(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==P(i,t[n])&&i.push(t[n])}function be(e,t){return he(e,t).length>0}function ve(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function ye(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _e(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function xe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function we(e){ye(e),_e(e)}function Ce(e){return e.target||e.srcElement}function ke(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var Se,Ae,Ee=function(){if(s&&r<9)return!1;var e=z("div");return"draggable"in e||"dragDrop"in e}();function Le(e){if(null==Se){var t=z("span","\u200b");L(e,z("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Se=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&r<8))}var i=Se?z("span","\u200b"):z("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function ze(e){if(null!=Ae)return Ae;var t=L(e,document.createTextNode("A\u062eA")),i=S(t,0,1).getBoundingClientRect(),n=S(t,1,2).getBoundingClientRect();return E(e),!(!i||i.left==i.right)&&(Ae=n.right-i.right<3)}var Ne=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var l=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),s=l.indexOf("\r");-1!=s?(i.push(l.slice(0,s)),t+=s+1):(i.push(l),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Te=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(i){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Me=function(){var e=z("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Be=null,Ie={},De={};function Oe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ie[e]=t}function Re(e){if("string"==typeof e&&De.hasOwnProperty(e))e=De[e];else if(e&&"string"==typeof e.name&&De.hasOwnProperty(e.name)){var t=De[e.name];"string"==typeof t&&(t={name:t}),(e=K(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Re("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Re("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function He(e,t){t=Re(t);var i=Ie[t.name];if(!i)return He(e,"text/plain");var n=i(e,t);if(Fe.hasOwnProperty(t.name)){var o=Fe[t.name];for(var l in o)o.hasOwnProperty(l)&&(n.hasOwnProperty(l)&&(n["_"+l]=n[l]),n[l]=o[l])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}var Fe={};function Pe(e,t){R(t,Fe.hasOwnProperty(e)?Fe[e]:Fe[e]={})}function Ue(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i}function Ve(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function We(e,t,i){return!e.startState||e.startState(t,i)}var qe=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};function Ze(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],l=o.chunkSize();if(t<l){i=o;break}t-=l}return i.lines[t]}function je(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,(function(e){var l=e.text;o==i.line&&(l=l.slice(0,i.ch)),o==t.line&&(l=l.slice(t.ch)),n.push(l),++o})),n}function Ge(e,t,i){var n=[];return e.iter(t,i,(function(e){n.push(e.text)})),n}function Ye(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function Xe(e){if(null==e.parent)return null;for(var t=e.parent,i=P(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function $e(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],l=o.height;if(t<l){e=o;continue e}t-=l,i+=o.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var r=e.lines[s].height;if(t<r)break;t-=r}return i+s}function Ke(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Je(e,t,i){if(void 0===i&&(i=null),!(this instanceof Je))return new Je(e,t,i);this.line=e,this.ch=t,this.sticky=i}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function it(e){return Je(e.line,e.ch)}function nt(e,t){return et(e,t)<0?t:e}function ot(e,t){return et(e,t)<0?e:t}function lt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function st(e,t){if(t.line<e.first)return Je(e.first,0);var i=e.first+e.size-1;return t.line>i?Je(i,Ze(e,i).text.length):function(e,t){var i=e.ch;return null==i||i>t?Je(e.line,t):i<0?Je(e.line,0):e}(t,Ze(e,t.line).text.length)}function rt(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=st(e,t[n]);return i}qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},qe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},qe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},qe.prototype.skipToEnd=function(){this.pos=this.string.length},qe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},qe.prototype.backUp=function(e){this.pos-=e},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},qe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},qe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var at=function(e,t){this.state=e,this.lookAhead=t},ct=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ut(e,t,i,n){var o=[e.state.modeGen],l={};yt(e,t.text,e.doc.mode,i,(function(e,t){return o.push(e,t)}),l,n);for(var s=i.state,r=function(n){i.baseTokens=o;var r=e.state.overlays[n],a=1,c=0;i.state=!0,yt(e,t.text,r.mode,i,(function(e,t){for(var i=a;c<e;){var n=o[a];n>e&&o.splice(a,1,e,o[a+1],n),a+=2,c=Math.min(e,n)}if(t)if(r.opaque)o.splice(i,a-i,e,"overlay "+t),a=i+2;else for(;i<a;i+=2){var l=o[i+1];o[i+1]=(l?l+" ":"")+"overlay "+t}}),l),i.state=s,i.baseTokens=null,i.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)r(a);return{styles:o,classes:l.bgClass||l.textClass?l:null}}function dt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=ht(e,Xe(t)),o=t.text.length>e.options.maxHighlightLength&&Ue(e.doc.mode,n.state),l=ut(e,t,n);o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ht(e,t,i){var n=e.doc,o=e.display;if(!n.mode.startState)return new ct(n,!0,t);var l=function(e,t,i){for(var n,o,l=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),r=t;r>s;--r){if(r<=l.first)return l.first;var a=Ze(l,r-1),c=a.stateAfter;if(c&&(!i||r+(c instanceof at?c.lookAhead:0)<=l.modeFrontier))return r;var u=H(a.text,null,e.options.tabSize);(null==o||n>u)&&(o=r-1,n=u)}return o}(e,t,i),s=l>n.first&&Ze(n,l-1).stateAfter,r=s?ct.fromSaved(n,s,l):new ct(n,We(n.mode),l);return n.iter(l,t,(function(i){pt(e,i.text,r);var n=r.line;i.stateAfter=n==t-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?r.save():null,r.nextLine()})),i&&(n.modeFrontier=r.line),r}function pt(e,t,i,n){var o=e.doc.mode,l=new qe(t,e.options.tabSize,i);for(l.start=l.pos=n||0,""==t&&ft(o,i.state);!l.eol();)gt(o,l,i.state),l.start=l.pos}function ft(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Ve(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function gt(e,t,i,n){for(var o=0;o<10;o++){n&&(n[0]=Ve(e,i).mode);var l=e.token(t,i);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}ct.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ct.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ct.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ct.fromSaved=function(e,t,i){return t instanceof at?new ct(e,Ue(e.mode,t.state),i,t.lookAhead):new ct(e,Ue(e.mode,t),i)},ct.prototype.save=function(e){var t=!1!==e?Ue(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new at(t,this.maxLookAhead):t};var mt=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function bt(e,t,i,n){var o,l,s=e.doc,r=s.mode,a=Ze(s,(t=st(s,t)).line),c=ht(e,t.line,i),u=new qe(a.text,e.options.tabSize,c);for(n&&(l=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,o=gt(r,u,c.state),n&&l.push(new mt(u,o,Ue(s.mode,c.state)));return n?l:new mt(u,o,c.state)}function vt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|\\s)"+i[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+i[2])}return e}function yt(e,t,i,n,o,l,s){var r=i.flattenSpans;null==r&&(r=e.options.flattenSpans);var a,c=0,u=null,d=new qe(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&vt(ft(i,n.state),l);!d.eol();){if(d.pos>e.options.maxHighlightLength?(r=!1,s&&pt(e,t,n,d.pos),d.pos=t.length,a=null):a=vt(gt(i,d,n.state,h),l),h){var p=h[0].name;p&&(a="m-"+(a?p+" "+a:p))}if(!r||u!=a){for(;c<d.start;)o(c=Math.min(d.start,c+5e3),u);u=a}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);o(f,u),c=f}}var _t=!1,xt=!1;function wt(e,t,i){this.marker=e,this.from=t,this.to=i}function Ct(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function kt(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function St(e,t){if(t.full)return null;var i=Ke(e,t.from.line)&&Ze(e,t.from.line).markedSpans,n=Ke(e,t.to.line)&&Ze(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,l=t.to.ch,s=0==et(t.from,t.to),r=function(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var l=e[o],s=l.marker;if(null==l.from||(s.inclusiveLeft?l.from<=t:l.from<t)||l.from==t&&"bookmark"==s.type&&(!i||!l.marker.insertLeft)){var r=null==l.to||(s.inclusiveRight?l.to>=t:l.to>t);(n||(n=[])).push(new wt(s,l.from,r?null:l.to))}}return n}(i,o,s),a=function(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var l=e[o],s=l.marker;if(null==l.to||(s.inclusiveRight?l.to>=t:l.to>t)||l.from==t&&"bookmark"==s.type&&(!i||l.marker.insertLeft)){var r=null==l.from||(s.inclusiveLeft?l.from<=t:l.from<t);(n||(n=[])).push(new wt(s,r?null:l.from-t,null==l.to?null:l.to-t))}}return n}(n,l,s),c=1==t.text.length,u=Y(t.text).length+(c?o:0);if(r)for(var d=0;d<r.length;++d){var h=r[d];if(null==h.to){var p=Ct(a,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=o}}if(a)for(var f=0;f<a.length;++f){var g=a[f];null!=g.to&&(g.to+=u),null==g.from?Ct(r,g.marker)||(g.from=u,c&&(r||(r=[])).push(g)):(g.from+=u,c&&(r||(r=[])).push(g))}r&&(r=At(r)),a&&a!=r&&(a=At(a));var m=[r];if(!c){var b,v=t.text.length-2;if(v>0&&r)for(var y=0;y<r.length;++y)null==r[y].to&&(b||(b=[])).push(new wt(r[y].marker,null,null));for(var _=0;_<v;++_)m.push(b);m.push(a)}return m}function At(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Et(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Lt(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function zt(e){return e.inclusiveLeft?-1:0}function Nt(e){return e.inclusiveRight?1:0}function Tt(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),o=t.find(),l=et(n.from,o.from)||zt(e)-zt(t);if(l)return-l;var s=et(n.to,o.to)||Nt(e)-Nt(t);return s||t.id-e.id}function Mt(e,t){var i,n=xt&&e.markedSpans;if(n)for(var o=void 0,l=0;l<n.length;++l)(o=n[l]).marker.collapsed&&null==(t?o.from:o.to)&&(!i||Tt(i,o.marker)<0)&&(i=o.marker);return i}function Bt(e){return Mt(e,!0)}function It(e){return Mt(e,!1)}function Dt(e,t){var i,n=xt&&e.markedSpans;if(n)for(var o=0;o<n.length;++o){var l=n[o];l.marker.collapsed&&(null==l.from||l.from<t)&&(null==l.to||l.to>t)&&(!i||Tt(i,l.marker)<0)&&(i=l.marker)}return i}function Ot(e,t,i,n,o){var l=Ze(e,t),s=xt&&l.markedSpans;if(s)for(var r=0;r<s.length;++r){var a=s[r];if(a.marker.collapsed){var c=a.marker.find(0),u=et(c.from,i)||zt(a.marker)-zt(o),d=et(c.to,n)||Nt(a.marker)-Nt(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?et(c.to,i)>=0:et(c.to,i)>0)||u>=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?et(c.from,n)<=0:et(c.from,n)<0)))return!0}}}function Rt(e){for(var t;t=Bt(e);)e=t.find(-1,!0).line;return e}function Ht(e,t){var i=Ze(e,t),n=Rt(i);return i==n?t:Xe(n)}function Ft(e,t){if(t>e.lastLine())return t;var i,n=Ze(e,t);if(!Pt(e,n))return t;for(;i=It(n);)n=i.find(1,!0).line;return Xe(n)+1}function Pt(e,t){var i=xt&&t.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ut(e,t,n))return!0}}function Ut(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return Ut(e,n.line,Ct(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var o=void 0,l=0;l<t.markedSpans.length;++l)if((o=t.markedSpans[l]).marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&Ut(e,t,o))return!0}function Vt(e){for(var t=0,i=(e=Rt(e)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var l=i.parent;l;l=(i=l).parent)for(var s=0;s<l.children.length;++s){var r=l.children[s];if(r==i)break;t+=r.height}return t}function Wt(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Bt(n);){var o=t.find(0,!0);n=o.from.line,i+=o.from.ch-o.to.ch}for(n=e;t=It(n);){var l=t.find(0,!0);i-=n.text.length-l.from.ch,i+=(n=l.to.line).text.length-l.to.ch}return i}function qt(e){var t=e.display,i=e.doc;t.maxLine=Ze(i,i.first),t.maxLineLength=Wt(t.maxLine),t.maxLineChanged=!0,i.iter((function(e){var i=Wt(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)}))}var Zt=function(e,t,i){this.text=e,Lt(this,t),this.height=i?i(this):1};function jt(e){e.parent=null,Et(e)}Zt.prototype.lineNo=function(){return Xe(this)},ve(Zt);var Gt={},Yt={};function Xt(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Yt:Gt;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function $t(e,t){var i=N("span",null,null,a?"padding-right: .1px":null),n={pre:N("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=Qt,ze(e.display.measure)&&(s=ce(l,e.doc.direction))&&(n.addToken=Jt(n.addToken,s)),n.map=[],ti(l,n,dt(e,l,t!=e.display.externalMeasured&&Xe(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=I(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=I(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Le(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(a){var r=n.content.lastChild;(/\bcm-tab\b/.test(r.className)||r.querySelector&&r.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return fe(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=I(n.pre.className,n.textClass||"")),n}function Kt(e){var t=z("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,i,n,o,l,a){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",o=0;o<e.length;o++){var l=e.charAt(o);" "!=l||!i||o!=e.length-1&&32!=e.charCodeAt(o+1)||(l="\xa0"),n+=l,i=" "==l}return n}(t,e.trailingSpace):t,d=e.cm.state.specialChars,h=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(t),g=f?f.index-p:t.length-p;if(g){var m=document.createTextNode(u.slice(p,p+g));s&&r<9?c.appendChild(z("span",[m])):c.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!f)break;p+=g+1;var b=void 0;if("\t"==f[0]){var v=e.cm.options.tabSize,y=v-e.col%v;(b=c.appendChild(z("span",G(y),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?((b=c.appendChild(z("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s&&r<9?c.appendChild(z("span",[b])):c.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&r<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),i||n||o||h||l){var _=i||"";n&&(_+=n),o&&(_+=o);var x=z("span",[c],_,l);if(a)for(var w in a)a.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&x.setAttribute(w,a[w]);return e.content.appendChild(x)}e.content.appendChild(c)}}function Jt(e,t){return function(i,n,o,l,s,r,a){o=o?o+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var d=void 0,h=0;h<t.length&&!((d=t[h]).to>c&&d.from<=c);h++);if(d.to>=u)return e(i,n,o,l,s,r,a);e(i,n.slice(0,d.to-c),o,l,null,r,a),l=null,n=n.slice(d.to-c),c=d.to}}}function ei(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function ti(e,t,i){var n=e.markedSpans,o=e.text,l=0;if(n)for(var s,r,a,c,u,d,h,p=o.length,f=0,g=1,m="",b=0;;){if(b==f){a=c=u=r="",h=null,d=null,b=1/0;for(var v=[],y=void 0,_=0;_<n.length;++_){var x=n[_],w=x.marker;if("bookmark"==w.type&&x.from==f&&w.widgetNode)v.push(w);else if(x.from<=f&&(null==x.to||x.to>f||w.collapsed&&x.to==f&&x.from==f)){if(null!=x.to&&x.to!=f&&b>x.to&&(b=x.to,c=""),w.className&&(a+=" "+w.className),w.css&&(r=(r?r+";":"")+w.css),w.startStyle&&x.from==f&&(u+=" "+w.startStyle),w.endStyle&&x.to==b&&(y||(y=[])).push(w.endStyle,x.to),w.title&&((h||(h={})).title=w.title),w.attributes)for(var C in w.attributes)(h||(h={}))[C]=w.attributes[C];w.collapsed&&(!d||Tt(d.marker,w)<0)&&(d=x)}else x.from>f&&b>x.from&&(b=x.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==b&&(c+=" "+y[k]);if(!d||d.from==f)for(var S=0;S<v.length;++S)ei(t,0,v[S]);if(d&&(d.from||0)==f){if(ei(t,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var A=Math.min(p,b);;){if(m){var E=f+m.length;if(!d){var L=E>A?m.slice(0,A-f):m;t.addToken(t,L,s?s+a:a,u,f+L.length==b?c:"",r,h)}if(E>=A){m=m.slice(A-f),f=A;break}f=E,u=""}m=o.slice(l,l=i[g++]),s=Xt(i[g++],t.cm.options)}}else for(var z=1;z<i.length;z+=2)t.addToken(t,o.slice(l,l=i[z]),Xt(i[z+1],t.cm.options))}function ii(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=It(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}(t),this.size=this.rest?Xe(Y(this.rest))-i+1:1,this.node=this.text=null,this.hidden=Pt(e,t)}function ni(e,t,i){for(var n,o=[],l=t;l<i;l=n){var s=new ii(e.doc,Ze(e.doc,l),l);n=l+s.size,o.push(s)}return o}var oi=null,li=null;function si(e,t){var i=he(e,t);if(i.length){var n,o=Array.prototype.slice.call(arguments,2);oi?n=oi.delayedCallbacks:li?n=li:(n=li=[],setTimeout(ri,0));for(var l=function(e){n.push((function(){return i[e].apply(null,o)}))},s=0;s<i.length;++s)l(s)}}function ri(){var e=li;li=null;for(var t=0;t<e.length;++t)e[t]()}function ai(e,t,i,n){for(var o=0;o<t.changes.length;o++){var l=t.changes[o];"text"==l?di(e,t):"gutter"==l?pi(e,t,i,n):"class"==l?hi(e,t):"widget"==l&&fi(e,t,n)}t.changes=null}function ci(e){return e.node==e.text&&(e.node=z("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&r<8&&(e.node.style.zIndex=2)),e.node}function ui(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):$t(e,t)}function di(e,t){var i=t.text.className,n=ui(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,hi(e,t)):i&&(t.text.className=i)}function hi(e,t){!function(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=ci(t);t.background=n.insertBefore(z("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ci(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function pi(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=ci(t);t.gutterBackground=z("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=ci(t),r=t.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(r),s.insertBefore(r,t.text),t.line.gutterClass&&(r.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=r.appendChild(z("div",Qe(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var a=0;a<e.display.gutterSpecs.length;++a){var c=e.display.gutterSpecs[a].className,u=l.hasOwnProperty(c)&&l[c];u&&r.appendChild(z("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function fi(e,t,i){t.alignable&&(t.alignable=null);for(var n=k("CodeMirror-linewidget"),o=t.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,n.test(o.className)&&t.node.removeChild(o);mi(e,t,i)}function gi(e,t,i,n){var o=ui(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),hi(e,t),pi(e,t,i,n),mi(e,t,n),t.node}function mi(e,t,i){if(bi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)bi(e,t.rest[n],t,i,!1)}function bi(e,t,i,n,o){if(t.widgets)for(var l=ci(i),s=0,r=t.widgets;s<r.length;++s){var a=r[s],c=z("div",[a.node],"CodeMirror-linewidget"+(a.className?" "+a.className:""));a.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),vi(a,c,i,n),e.display.input.setUneditable(c),o&&a.above?l.insertBefore(c,i.gutter||i.text):l.appendChild(c),si(a,"redraw")}}function vi(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function yi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!T(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),L(t.display.measure,z("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function _i(e,t){for(var i=Ce(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function xi(e){return e.lineSpace.offsetTop}function wi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ci(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=L(e.measure,z("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function ki(e){return 50-e.display.nativeBarWidth}function Si(e){return e.display.scroller.clientWidth-ki(e)-e.display.barWidth}function Ai(e){return e.display.scroller.clientHeight-ki(e)-e.display.barHeight}function Ei(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var o=0;o<e.rest.length;o++)if(Xe(e.rest[o])>i)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Li(e,t,i,n){return Ti(e,Ni(e,t),i,n)}function zi(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[cn(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Ni(e,t){var i=Xe(t),n=zi(e,i);n&&!n.text?n=null:n&&n.changes&&(ai(e,n,i,on(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var i=Xe(t=Rt(t)),n=e.display.externalMeasured=new ii(e.doc,t,i);n.lineN=i;var o=n.built=$t(e,n);return n.text=o.pre,L(e.display.lineMeasure,o.pre),n}(e,t));var o=Ei(n,t,i);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Ti(e,t,i,n,o){t.before&&(i=-1);var l,a=i+(n||"");return t.cache.hasOwnProperty(a)?l=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,i){var n=e.options.lineWrapping,o=n&&Si(e);if(!t.measure.heights||n&&t.measure.width!=o){var l=t.measure.heights=[];if(n){t.measure.width=o;for(var s=t.text.firstChild.getClientRects(),r=0;r<s.length-1;r++){var a=s[r],c=s[r+1];Math.abs(a.bottom-c.bottom)>2&&l.push((a.bottom+c.top)/2-i.top)}}l.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(l=function(e,t,i,n){var o,l=Ii(t.map,i,n),a=l.node,c=l.start,u=l.end,d=l.collapse;if(3==a.nodeType){for(var h=0;h<4;h++){for(;c&&ne(t.line.text.charAt(l.coverStart+c));)--c;for(;l.coverStart+u<l.coverEnd&&ne(t.line.text.charAt(l.coverStart+u));)++u;if((o=s&&r<9&&0==c&&u==l.coverEnd-l.coverStart?a.parentNode.getBoundingClientRect():Di(S(a,c,u).getClientRects(),n)).left||o.right||0==c)break;u=c,c-=1,d="right"}s&&r<11&&(o=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Be)return Be;var t=L(e,z("span","x")),i=t.getBoundingClientRect(),n=S(t,0,1).getBoundingClientRect();return Be=Math.abs(i.left-n.left)>1}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,o))}else{var p;c>0&&(d=n="right"),o=e.options.lineWrapping&&(p=a.getClientRects()).length>1?p["right"==n?p.length-1:0]:a.getBoundingClientRect()}if(s&&r<9&&!c&&(!o||!o.left&&!o.right)){var f=a.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+nn(e.display),top:f.top,bottom:f.bottom}:Bi}for(var g=o.top-t.rect.top,m=o.bottom-t.rect.top,b=(g+m)/2,v=t.view.measure.heights,y=0;y<v.length-1&&!(b<v[y]);y++);var _=y?v[y-1]:0,x=v[y],w={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:_,bottom:x};return o.left||o.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=g,w.rbottom=m),w}(e,t,i,n)).bogus||(t.cache[a]=l)),{left:l.left,right:l.right,top:o?l.rtop:l.top,bottom:o?l.rbottom:l.bottom}}var Mi,Bi={left:0,right:0,top:0,bottom:0};function Ii(e,t,i){for(var n,o,l,s,r,a,c=0;c<e.length;c+=3)if(r=e[c],a=e[c+1],t<r?(o=0,l=1,s="left"):t<a?l=1+(o=t-r):(c==e.length-3||t==a&&e[c+3]>t)&&(o=(l=a-r)-1,t>=a&&(s="right")),null!=o){if(n=e[c+2],r==a&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==o)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],s="left";if("right"==i&&o==a-r)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],s="right";break}return{node:n,start:o,end:l,collapse:s,coverStart:r,coverEnd:a}}function Di(e,t){var i=Bi;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var o=e.length-1;o>=0&&(i=e[o]).left==i.right;o--);return i}function Oi(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ri(e){e.display.externalMeasure=null,E(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Oi(e.display.view[t])}function Hi(e){Ri(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Fi(){return u&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Pi(){return u&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ui(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=yi(e.widgets[i]));return t}function Vi(e,t,i,n,o){if(!o){var l=Ui(t);i.top+=l,i.bottom+=l}if("line"==n)return i;n||(n="local");var s=Vt(t);if("local"==n?s+=xi(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var r=e.display.lineSpace.getBoundingClientRect();s+=r.top+("window"==n?0:Pi());var a=r.left+("window"==n?0:Fi());i.left+=a,i.right+=a}return i.top+=s,i.bottom+=s,i}function Wi(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;if("page"==i)n-=Fi(),o-=Pi();else if("local"==i||!i){var l=e.display.sizer.getBoundingClientRect();n+=l.left,o+=l.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:o-s.top}}function qi(e,t,i,n,o){return n||(n=Ze(e.doc,t.line)),Vi(e,n,Li(e,n,t.ch,o),i)}function Zi(e,t,i,n,o,l){function s(t,s){var r=Ti(e,o,t,s?"right":"left",l);return s?r.left=r.right:r.right=r.left,Vi(e,n,r,i)}n=n||Ze(e.doc,t.line),o||(o=Ni(e,n));var r=ce(n,e.doc.direction),a=t.ch,c=t.sticky;if(a>=n.text.length?(a=n.text.length,c="before"):a<=0&&(a=0,c="after"),!r)return s("before"==c?a-1:a,"before"==c);function u(e,t,i){return s(i?e-1:e,1==r[t].level!=i)}var d=re(r,a,c),h=se,p=u(a,d,"before"==c);return null!=h&&(p.other=u(a,h,"before"!=c)),p}function ji(e,t){var i=0;t=st(e.doc,t),e.options.lineWrapping||(i=nn(e.display)*t.ch);var n=Ze(e.doc,t.line),o=Vt(n)+xi(e.display);return{left:i,right:i,top:o,bottom:o+n.height}}function Gi(e,t,i,n,o){var l=Je(e,t,i);return l.xRel=o,n&&(l.outside=n),l}function Yi(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Gi(n.first,0,null,-1,-1);var o=$e(n,i),l=n.first+n.size-1;if(o>l)return Gi(n.first+n.size-1,Ze(n,l).text.length,null,1,1);t<0&&(t=0);for(var s=Ze(n,o);;){var r=Qi(e,s,o,t,i),a=Dt(s,r.ch+(r.xRel>0||r.outside>0?1:0));if(!a)return r;var c=a.find(1);if(c.line==o)return c;s=Ze(n,o=c.line)}}function Xi(e,t,i,n){n-=Ui(t);var o=t.text.length,l=le((function(t){return Ti(e,i,t-1).bottom<=n}),o,0);return{begin:l,end:o=le((function(t){return Ti(e,i,t).top>n}),l,o)}}function $i(e,t,i,n){return i||(i=Ni(e,t)),Xi(e,t,i,Vi(e,t,Ti(e,i,n),"line").top)}function Ki(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Qi(e,t,i,n,o){o-=Vt(t);var l=Ni(e,t),s=Ui(t),r=0,a=t.text.length,c=!0,u=ce(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?en:Ji)(e,t,i,l,u,n,o);r=(c=1!=d.level)?d.from:d.to-1,a=c?d.to:d.from-1}var h,p,f=null,g=null,m=le((function(t){var i=Ti(e,l,t);return i.top+=s,i.bottom+=s,!!Ki(i,n,o,!1)&&(i.top<=o&&i.left<=n&&(f=t,g=i),!0)}),r,a),b=!1;if(g){var v=n-g.left<g.right-n,y=v==c;m=f+(y?0:1),p=y?"after":"before",h=v?g.left:g.right}else{c||m!=a&&m!=r||m++,p=0==m?"after":m==t.text.length?"before":Ti(e,l,m-(c?1:0)).bottom+s<=o==c?"after":"before";var _=Zi(e,Je(i,m,p),"line",t,l);h=_.left,b=o<_.top?-1:o>=_.bottom?1:0}return Gi(i,m=oe(t.text,m,1),p,b,n-h)}function Ji(e,t,i,n,o,l,s){var r=le((function(r){var a=o[r],c=1!=a.level;return Ki(Zi(e,Je(i,c?a.to:a.from,c?"before":"after"),"line",t,n),l,s,!0)}),0,o.length-1),a=o[r];if(r>0){var c=1!=a.level,u=Zi(e,Je(i,c?a.from:a.to,c?"after":"before"),"line",t,n);Ki(u,l,s,!0)&&u.top>s&&(a=o[r-1])}return a}function en(e,t,i,n,o,l,s){var r=Xi(e,t,n,s),a=r.begin,c=r.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<o.length;h++){var p=o[h];if(!(p.from>=c||p.to<=a)){var f=Ti(e,n,1!=p.level?Math.min(c,p.to)-1:Math.max(a,p.from)).right,g=f<l?l-f+1e9:f-l;(!u||d>g)&&(u=p,d=g)}}return u||(u=o[o.length-1]),u.from<a&&(u={from:a,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function tn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Mi){Mi=z("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Mi.appendChild(document.createTextNode("x")),Mi.appendChild(z("br"));Mi.appendChild(document.createTextNode("x"))}L(e.measure,Mi);var i=Mi.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),E(e.measure),i||1}function nn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=z("span","xxxxxxxxxx"),i=z("pre",[t],"CodeMirror-line-like");L(e.measure,i);var n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function on(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,l=t.gutters.firstChild,s=0;l;l=l.nextSibling,++s){var r=e.display.gutterSpecs[s].className;i[r]=l.offsetLeft+l.clientLeft+o,n[r]=l.clientWidth}return{fixedPos:ln(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function ln(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function sn(e){var t=tn(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/nn(e.display)-3);return function(o){if(Pt(e.doc,o))return 0;var l=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(l+=o.widgets[s].height);return i?l+(Math.ceil(o.text.length/n)||1)*t:l+t}}function rn(e){var t=e.doc,i=sn(e);t.iter((function(e){var t=i(e);t!=e.height&&Ye(e,t)}))}function an(e,t,i,n){var o=e.display;if(!i&&"true"==Ce(t).getAttribute("cm-not-content"))return null;var l,s,r=o.lineSpace.getBoundingClientRect();try{l=t.clientX-r.left,s=t.clientY-r.top}catch(d){return null}var a,c=Yi(e,l,s);if(n&&c.xRel>0&&(a=Ze(e.doc,c.line).text).length==c.ch){var u=H(a,a.length,e.options.tabSize)-a.length;c=Je(c.line,Math.max(0,Math.round((l-Ci(e.display).left)/nn(e.display))-u))}return c}function cn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function un(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)xt&&Ht(e.doc,t)<o.viewTo&&hn(e);else if(i<=o.viewFrom)xt&&Ft(e.doc,i+n)>o.viewFrom?hn(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&i>=o.viewTo)hn(e);else if(t<=o.viewFrom){var l=pn(e,i,i+n,1);l?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=n):hn(e)}else if(i>=o.viewTo){var s=pn(e,t,t,-1);s?(o.view=o.view.slice(0,s.index),o.viewTo=s.lineN):hn(e)}else{var r=pn(e,t,t,-1),a=pn(e,i,i+n,1);r&&a?(o.view=o.view.slice(0,r.index).concat(ni(e,r.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=n):hn(e)}var c=o.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(o.externalMeasured=null))}function dn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var l=n.view[cn(e,t)];if(null!=l.node){var s=l.changes||(l.changes=[]);-1==P(s,i)&&s.push(i)}}}function hn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function pn(e,t,i,n){var o,l=cn(e,t),s=e.display.view;if(!xt||i==e.doc.first+e.doc.size)return{index:l,lineN:i};for(var r=e.display.viewFrom,a=0;a<l;a++)r+=s[a].size;if(r!=t){if(n>0){if(l==s.length-1)return null;o=r+s[l].size-t,l++}else o=r-t;t+=o,i+=o}for(;Ht(e.doc,i)!=i;){if(l==(n<0?0:s.length-1))return null;i+=n*s[l-(n<0?1:0)].size,l+=n}return{index:l,lineN:i}}function fn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function gn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mn(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},o=n.cursors=document.createDocumentFragment(),l=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var r=i.sel.ranges[s];if(!(r.from().line>=e.display.viewTo||r.to().line<e.display.viewFrom)){var a=r.empty();(a||e.options.showCursorWhenSelecting)&&bn(e,r.head,o),a||yn(e,r,l)}}return n}function bn(e,t,i){var n=Zi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=i.appendChild(z("div","\xa0","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var l=i.appendChild(z("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=n.other.left+"px",l.style.top=n.other.top+"px",l.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function vn(e,t){return e.top-t.top||e.left-t.left}function yn(e,t,i){var n=e.display,o=e.doc,l=document.createDocumentFragment(),s=Ci(e.display),r=s.left,a=Math.max(n.sizerWidth,Si(e)-n.sizer.offsetLeft)-s.right,c="ltr"==o.direction;function u(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),l.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?a-e:i)+"px;\n                             height: "+(n-t)+"px"))}function d(t,i,n){var l,s,d=Ze(o,t),h=d.text.length;function p(i,n){return qi(e,Je(t,i),"div",d,n)}function f(t,i,n){var o=$i(e,d,null,t),l="ltr"==i==("after"==n)?"left":"right";return p("after"==n?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),l)[l]}var g=ce(d,o.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var o=!1,l=0;l<e.length;++l){var s=e[l];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",l),o=!0)}o||n(t,i,"ltr")}(g,i||0,null==n?h:n,(function(e,t,o,d){var m="ltr"==o,b=p(e,m?"left":"right"),v=p(t-1,m?"right":"left"),y=null==i&&0==e,_=null==n&&t==h,x=0==d,w=!g||d==g.length-1;if(v.top-b.top<=3){var C=(c?_:y)&&w,k=(c?y:_)&&x?r:(m?b:v).left,S=C?a:(m?v:b).right;u(k,b.top,S-k,b.bottom)}else{var A,E,L,z;m?(A=c&&y&&x?r:b.left,E=c?a:f(e,o,"before"),L=c?r:f(t,o,"after"),z=c&&_&&w?a:v.right):(A=c?f(e,o,"before"):r,E=!c&&y&&x?a:b.right,L=!c&&_&&w?r:v.left,z=c?f(t,o,"after"):a),u(A,b.top,E-A,b.bottom),b.bottom<v.top&&u(r,b.bottom,null,v.top),u(L,v.top,z-L,v.bottom)}(!l||vn(b,l)<0)&&(l=b),vn(v,l)<0&&(l=v),(!s||vn(b,s)<0)&&(s=b),vn(v,s)<0&&(s=v)})),{start:l,end:s}}var h=t.from(),p=t.to();if(h.line==p.line)d(h.line,h.ch,p.ch);else{var f=Ze(o,h.line),g=Ze(o,p.line),m=Rt(f)==Rt(g),b=d(h.line,h.ch,m?f.text.length+1:null).end,v=d(p.line,m?0:null,p.ch).start;m&&(b.top<v.top-2?(u(b.right,b.top,null,b.bottom),u(r,v.top,v.left,v.bottom)):u(b.right,b.top,v.left-b.right,b.bottom)),b.bottom<v.top&&u(r,b.bottom,null,v.top)}i.appendChild(l)}function _n(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xn(e){e.state.focused||(e.display.input.focus(),Cn(e))}function wn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,kn(e))}),100)}function Cn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(fe(e,"focus",e,t),e.state.focused=!0,B(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),a&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),_n(e))}function kn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(fe(e,"blur",e,t),e.state.focused=!1,A(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Sn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o=t.view[n],l=e.options.lineWrapping,a=void 0,c=0;if(!o.hidden){if(s&&r<8){var u=o.node.offsetTop+o.node.offsetHeight;a=u-i,i=u}else{var d=o.node.getBoundingClientRect();a=d.bottom-d.top,!l&&o.text.firstChild&&(c=o.text.firstChild.getBoundingClientRect().right-d.left-1)}var h=o.line.height-a;if((h>.005||h<-.005)&&(Ye(o.line,a),An(o.line),o.rest))for(var p=0;p<o.rest.length;p++)An(o.rest[p]);if(c>e.display.sizerWidth){var f=Math.ceil(c/nn(e.display));f>e.display.maxLineLength&&(e.display.maxLineLength=f,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function An(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function En(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-xi(e));var o=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,l=$e(t,n),s=$e(t,o);if(i&&i.ensure){var r=i.ensure.from.line,a=i.ensure.to.line;r<l?(l=r,s=$e(t,Vt(Ze(t,r))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=s&&(l=$e(t,Vt(Ze(t,a))-e.wrapper.clientHeight),s=a)}return{from:l,to:Math.max(s,l+1)}}function Ln(e,t){var i=e.display,n=tn(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,l=Ai(e),s={};t.bottom-t.top>l&&(t.bottom=t.top+l);var r=e.doc.height+wi(i),a=t.top<n,c=t.bottom>r-n;if(t.top<o)s.scrollTop=a?0:t.top;else if(t.bottom>o+l){var u=Math.min(t.top,(c?r:t.bottom)-l);u!=o&&(s.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,h=Si(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?s.scrollLeft=0:t.left<d?s.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+d-3&&(s.scrollLeft=t.right+(p?0:10)-h),s}function zn(e,t){null!=t&&(Mn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Nn(e){Mn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Tn(e,t,i){null==t&&null==i||Mn(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function Mn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Bn(e,ji(e,t.from),ji(e,t.to),t.margin))}function Bn(e,t,i,n){var o=Ln(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});Tn(e,o.scrollLeft,o.scrollTop)}function In(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||ro(e,{top:t}),Dn(e,t,!0),i&&ro(e),io(e,100))}function Dn(e,t,i){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function On(e,t,i,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,uo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Rn(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+wi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+ki(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var Hn=function(e,t,i){this.cm=i;var n=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),de(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),de(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&r<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Hn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},Hn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Hn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Hn.prototype.zeroWidthHack=function(){var e=v&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},Hn.prototype.enableZeroWidthBar=function(e,t,i){e.style.pointerEvents="auto",t.set(1e3,(function n(){var o=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},Hn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Fn=function(){};function Pn(e,t){t||(t=Rn(e));var i=e.display.barWidth,n=e.display.barHeight;Un(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&Sn(e),Un(e,Rn(e)),i=e.display.barWidth,n=e.display.barHeight}function Un(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}Fn.prototype.update=function(){return{bottom:0,right:0}},Fn.prototype.setScrollLeft=function(){},Fn.prototype.setScrollTop=function(){},Fn.prototype.clear=function(){};var Vn={native:Hn,null:Fn};function Wn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Vn[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,i){"horizontal"==i?On(e,t):In(e,t)}),e),e.display.scrollbars.addClass&&B(e.display.wrapper,e.display.scrollbars.addClass)}var qn=0;function Zn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qn},t=e.curOp,oi?oi.ops.push(t):t.ownsGroup=oi={ops:[t],delayedCallbacks:[]}}function jn(e){var t=e.curOp;t&&function(e,t){var i=e.ownsGroup;if(i)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<t.length)}(i)}finally{oi=null,t(i)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)Gn(t[i]);for(var n=0;n<t.length;n++)Yn(t[n]);for(var o=0;o<t.length;o++)Xn(t[o]);for(var l=0;l<t.length;l++)$n(t[l]);for(var s=0;s<t.length;s++)Kn(t[s])}(e)}))}function Gn(e){var t=e.cm,i=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=ki(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=ki(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&qt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new oo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Yn(e){e.updatedDisplay=e.mustUpdate&&lo(e.cm,e.update)}function Xn(e){var t=e.cm,i=t.display;e.updatedDisplay&&Sn(t),e.barMeasure=Rn(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Li(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+ki(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Si(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function $n(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&On(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==M();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Pn(t,e.barMeasure),e.updatedDisplay&&co(t,e.barMeasure),e.selectionChanged&&_n(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&xn(e.cm)}function Kn(e){var t=e.cm,i=t.display,n=t.doc;e.updatedDisplay&&so(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&Dn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&On(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),o=null;if(t.top+n.top<0?o=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!f){var l=z("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-xi(e.display))+"px;\n                         height: "+(t.bottom-t.top+ki(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}(t,function(e,t,i,n){var o;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?Je(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Je(t.line,t.ch+1,"before"):t);for(var l=0;l<5;l++){var s=!1,r=Zi(e,t),a=i&&i!=t?Zi(e,i):r,c=Ln(e,o={left:Math.min(r.left,a.left),top:Math.min(r.top,a.top)-n,right:Math.max(r.left,a.left),bottom:Math.max(r.bottom,a.bottom)+n}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(In(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(On(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(s=!0)),!s)break}return o}(t,st(n,e.scrollToPos.from),st(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||fe(o[s],"hide");if(l)for(var r=0;r<l.length;++r)l[r].lines.length&&fe(l[r],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&fe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Qn(e,t){if(e.curOp)return t();Zn(e);try{return t()}finally{jn(e)}}function Jn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Zn(e);try{return t.apply(e,arguments)}finally{jn(e)}}}function eo(e){return function(){if(this.curOp)return e.apply(this,arguments);Zn(this);try{return e.apply(this,arguments)}finally{jn(this)}}}function to(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Zn(t);try{return e.apply(this,arguments)}finally{jn(t)}}}function io(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,O(no,e))}function no(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=ht(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(l){if(n.line>=e.display.viewFrom){var s=l.styles,r=l.text.length>e.options.maxHighlightLength?Ue(t.mode,n.state):null,a=ut(e,l,n,!0);r&&(n.state=r),l.styles=a.styles;var c=l.styleClasses,u=a.classes;u?l.styleClasses=u:c&&(l.styleClasses=null);for(var d=!s||s.length!=l.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<s.length;++h)d=s[h]!=l.styles[h];d&&o.push(n.line),l.stateAfter=n.save(),n.nextLine()}else l.text.length<=e.options.maxHighlightLength&&pt(e,l.text,n),l.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return io(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&Qn(e,(function(){for(var t=0;t<o.length;t++)dn(e,o[t],"text")}))}}var oo=function(e,t,i){var n=e.display;this.viewport=t,this.visible=En(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Si(e),this.force=i,this.dims=on(e),this.events=[]};function lo(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return hn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==fn(e))return!1;ho(e)&&(hn(e),t.dims=on(e));var o=n.first+n.size,l=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(o,t.visible.to+e.options.viewportMargin);i.viewFrom<l&&l-i.viewFrom<20&&(l=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(o,i.viewTo)),xt&&(l=Ht(e.doc,l),s=Ft(e.doc,s));var r=l!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;!function(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=ni(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=ni(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(cn(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(ni(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,cn(e,i)))),n.viewTo=i}(e,l,s),i.viewOffset=Vt(Ze(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var c=fn(e);if(!r&&0==c&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=M();if(!t||!T(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&T(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}(e);return c>4&&(i.lineDiv.style.display="none"),function(e,t,i){var n=e.display,o=e.options.lineNumbers,l=n.lineDiv,s=l.firstChild;function r(t){var i=t.nextSibling;return a&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var c=n.view,u=n.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==l){for(;s!=h.node;)s=r(s);var p=o&&null!=t&&t<=u&&h.lineNumber;h.changes&&(P(h.changes,"gutter")>-1&&(p=!1),ai(e,h,u,i)),p&&(E(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Qe(e.options,u)))),s=h.node.nextSibling}else{var f=gi(e,h,u,i);l.insertBefore(f,s)}u+=h.size}for(;s;)s=r(s)}(e,i.updateLineNumbers,t.dims),c>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(e){if(e&&e.activeElt&&e.activeElt!=M()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&T(document.body,e.anchorNode)&&T(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}(u),E(i.cursorDiv),E(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,r&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,io(e,400)),i.updateLineNumbers=null,!0}function so(e,t){for(var i=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Si(e))n&&(t.visible=En(e.display,e.doc,i));else if(i&&null!=i.top&&(i={top:Math.min(e.doc.height+wi(e.display)-Ai(e),i.top)}),t.visible=En(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!lo(e,t))break;Sn(e);var o=Rn(e);gn(e),Pn(e,o),co(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ro(e,t){var i=new oo(e,t);if(lo(e,i)){Sn(e),so(e,i);var n=Rn(e);gn(e),Pn(e,n),co(e,n),i.finish()}}function ao(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function co(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+ki(e)+"px"}function uo(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=ln(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,l=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=l),i[s].gutterBackground&&(i[s].gutterBackground.style.left=l));var r=i[s].alignable;if(r)for(var a=0;a<r.length;a++)r[a].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function ho(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=Qe(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(z("div",[z("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(l,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ao(e.display),!0}return!1}function po(e,t){for(var i=[],n=!1,o=0;o<e.length;o++){var l=e[o],s=null;if("string"!=typeof l&&(s=l.style,l=l.className),"CodeMirror-linenumbers"==l){if(!t)continue;n=!0}i.push({className:l,style:s})}return t&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function fo(e){var t=e.gutters,i=e.gutterSpecs;E(t),e.lineGutter=null;for(var n=0;n<i.length;++n){var o=i[n],l=o.className,s=o.style,r=t.appendChild(z("div",null,"CodeMirror-gutter "+l));s&&(r.style.cssText=s),"CodeMirror-linenumbers"==l&&(e.lineGutter=r,r.style.width=(e.lineNumWidth||1)+"px")}t.style.display=i.length?"":"none",ao(e)}function go(e){fo(e.display),un(e),uo(e)}function mo(e,t,n,o){var l=this;this.input=n,l.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=N("div",null,"CodeMirror-code"),l.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=z("div",null,"CodeMirror-cursors"),l.measure=z("div",null,"CodeMirror-measure"),l.lineMeasure=z("div",null,"CodeMirror-measure"),l.lineSpace=N("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none");var c=N("div",[l.lineSpace],"CodeMirror-lines");l.mover=z("div",[c],null,"position: relative"),l.sizer=z("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=z("div",null,null,"position: absolute; height: 50px; width: 1px;"),l.gutters=z("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=z("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=z("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),s&&r<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),a||i&&b||(l.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(l.wrapper):e(l.wrapper)),l.viewFrom=l.viewTo=t.first,l.reportedViewFrom=l.reportedViewTo=t.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,l.gutterSpecs=po(o.gutters,o.lineNumbers),fo(l),n.init(l)}oo.prototype.signal=function(e,t){be(e,t)&&this.events.push(arguments)},oo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)fe.apply(null,this.events[e])};var bo=0,vo=null;function yo(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function _o(e){var t=yo(e);return t.x*=vo,t.y*=vo,t}function xo(e,t){var n=yo(t),o=n.x,l=n.y,s=e.display,r=s.scroller,c=r.scrollWidth>r.clientWidth,u=r.scrollHeight>r.clientHeight;if(o&&c||l&&u){if(l&&v&&a)e:for(var h=t.target,p=s.view;h!=r;h=h.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==h){e.display.currentWheelTarget=h;break e}if(o&&!i&&!d&&null!=vo)return l&&u&&In(e,Math.max(0,r.scrollTop+l*vo)),On(e,Math.max(0,r.scrollLeft+o*vo)),(!l||l&&u)&&ye(t),void(s.wheelStartX=null);if(l&&null!=vo){var g=l*vo,m=e.doc.scrollTop,b=m+s.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):b=Math.min(e.doc.height,b+g+50),ro(e,{top:m,bottom:b})}bo<20&&(null==s.wheelStartX?(s.wheelStartX=r.scrollLeft,s.wheelStartY=r.scrollTop,s.wheelDX=o,s.wheelDY=l,setTimeout((function(){if(null!=s.wheelStartX){var e=r.scrollLeft-s.wheelStartX,t=r.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(vo=(vo*bo+i)/(bo+1),++bo)}}),200)):(s.wheelDX+=o,s.wheelDY+=l))}}s?vo=-.53:i?vo=15:u?vo=-.7:h&&(vo=-1/3);var wo=function(e,t){this.ranges=e,this.primIndex=t};wo.prototype.primary=function(){return this.ranges[this.primIndex]},wo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!tt(i.anchor,n.anchor)||!tt(i.head,n.head))return!1}return!0},wo.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Co(it(this.ranges[t].anchor),it(this.ranges[t].head));return new wo(e,this.primIndex)},wo.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wo.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(et(t,n.from())>=0&&et(e,n.to())<=0)return i}return-1};var Co=function(e,t){this.anchor=e,this.head=t};function ko(e,t,i){var n=e&&e.options.selectionsMayTouch,o=t[i];t.sort((function(e,t){return et(e.from(),t.from())})),i=P(t,o);for(var l=1;l<t.length;l++){var s=t[l],r=t[l-1],a=et(r.to(),s.from());if(n&&!s.empty()?a>0:a>=0){var c=ot(r.from(),s.from()),u=nt(r.to(),s.to()),d=r.empty()?s.from()==s.head:r.from()==r.head;l<=i&&--i,t.splice(--l,2,new Co(d?u:c,d?c:u))}}return new wo(t,i)}function So(e,t){return new wo([new Co(e,t||e)],0)}function Ao(e){return e.text?Je(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Eo(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return Ao(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Ao(t).ch-t.to.ch),Je(i,n)}function Lo(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new Co(Eo(o.anchor,t),Eo(o.head,t)))}return ko(e.cm,i,e.sel.primIndex)}function zo(e,t,i){return e.line==t.line?Je(i.line,e.ch-t.ch+i.ch):Je(i.line+(e.line-t.line),e.ch)}function No(e){e.doc.mode=He(e.options,e.doc.modeOption),To(e)}function To(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,io(e,100),e.state.modeGen++,e.curOp&&un(e)}function Mo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Bo(e,t,i,n){function o(e){return i?i[e]:null}function l(e,i,o){!function(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Et(e),Lt(e,i);var o=n?n(e):1;o!=e.height&&Ye(e,o)}(e,i,o,n),si(e,"change",e,t)}function s(e,t){for(var i=[],l=e;l<t;++l)i.push(new Zt(c[l],o(l),n));return i}var r=t.from,a=t.to,c=t.text,u=Ze(e,r.line),d=Ze(e,a.line),h=Y(c),p=o(c.length-1),f=a.line-r.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Mo(e,t)){var g=s(0,c.length-1);l(d,d.text,p),f&&e.remove(r.line,f),g.length&&e.insert(r.line,g)}else if(u==d)if(1==c.length)l(u,u.text.slice(0,r.ch)+h+u.text.slice(a.ch),p);else{var m=s(1,c.length-1);m.push(new Zt(h+u.text.slice(a.ch),p,n)),l(u,u.text.slice(0,r.ch)+c[0],o(0)),e.insert(r.line+1,m)}else if(1==c.length)l(u,u.text.slice(0,r.ch)+c[0]+d.text.slice(a.ch),o(0)),e.remove(r.line+1,f);else{l(u,u.text.slice(0,r.ch)+c[0],o(0)),l(d,h+d.text.slice(a.ch),p);var b=s(1,c.length-1);f>1&&e.remove(r.line+1,f-1),e.insert(r.line+1,b)}si(e,"change",e,t)}function Io(e,t,i){!function e(n,o,l){if(n.linked)for(var s=0;s<n.linked.length;++s){var r=n.linked[s];if(r.doc!=o){var a=l&&r.sharedHist;i&&!a||(t(r.doc,a),e(r.doc,n,a))}}}(e,null,!0)}function Do(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,rn(e),No(e),Oo(e),e.options.lineWrapping||qt(e),e.options.mode=t.modeOption,un(e)}function Oo(e){("rtl"==e.doc.direction?B:A)(e.display.lineDiv,"CodeMirror-rtl")}function Ro(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ho(e,t){var i={from:it(t.from),to:Ao(t),text:je(e,t.from,t.to)};return Wo(e,i,t.from.line,t.to.line+1),Io(e,(function(e){return Wo(e,i,t.from.line,t.to.line+1)}),!0),i}function Fo(e){for(;e.length&&Y(e).ranges;)e.pop()}function Po(e,t,i,n){var o=e.history;o.undone.length=0;var l,s,r=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>r-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(l=function(e,t){return t?(Fo(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(o,o.lastOp==n)))s=Y(l.changes),0==et(t.from,t.to)&&0==et(t.from,s.to)?s.to=Ao(t):l.changes.push(Ho(e,t));else{var a=Y(o.done);for(a&&a.ranges||Vo(e.sel,o.done),l={changes:[Ho(e,t)],generation:o.generation},o.done.push(l);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=r,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,s||fe(e,"historyAdded")}function Uo(e,t,i,n){var o=e.history,l=n&&n.origin;i==o.lastSelOp||l&&o.lastSelOrigin==l&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==l||function(e,t,i,n){var o=t.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,l,Y(o.done),t))?o.done[o.done.length-1]=t:Vo(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=l,o.lastSelOp=i,n&&!1!==n.clearRedo&&Fo(o.undone)}function Vo(e,t){var i=Y(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Wo(e,t,i,n){var o=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),(function(i){i.markedSpans&&((o||(o=t["spans_"+e.id]={}))[l]=i.markedSpans),++l}))}function qo(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Zo(e,t){var i=function(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],o=0;o<t.text.length;++o)n.push(qo(i[o]));return n}(e,t),n=St(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var l=i[o],s=n[o];if(l&&s)e:for(var r=0;r<s.length;++r){for(var a=s[r],c=0;c<l.length;++c)if(l[c].marker==a.marker)continue e;l.push(a)}else s&&(i[o]=s)}return i}function jo(e,t,i){for(var n=[],o=0;o<e.length;++o){var l=e[o];if(l.ranges)n.push(i?wo.prototype.deepCopy.call(l):l);else{var s=l.changes,r=[];n.push({changes:r});for(var a=0;a<s.length;++a){var c=s[a],u=void 0;if(r.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&P(t,Number(u[1]))>-1&&(Y(r)[d]=c[d],delete c[d])}}}return n}function Go(e,t,i,n){if(n){var o=e.anchor;if(i){var l=et(t,o)<0;l!=et(i,o)<0?(o=t,t=i):l!=et(t,i)<0&&(t=i)}return new Co(o,t)}return new Co(i||t,t)}function Yo(e,t,i,n,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Jo(e,new wo([Go(e.sel.primary(),t,i,o)],0),n)}function Xo(e,t,i){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)n[l]=Go(e.sel.ranges[l],t[l],null,o);Jo(e,ko(e.cm,n,e.sel.primIndex),i)}function $o(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,Jo(e,ko(e.cm,o,e.sel.primIndex),n)}function Ko(e,t,i,n){Jo(e,So(t,i),n)}function Qo(e,t,i){var n=e.history.done,o=Y(n);o&&o.ranges?(n[n.length-1]=t,el(e,t,i)):Jo(e,t,i)}function Jo(e,t,i){el(e,t,i),Uo(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function el(e,t,i){(be(e,"beforeSelectionChange")||e.cm&&be(e.cm,"beforeSelectionChange"))&&(t=function(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new Co(st(e,t[i].anchor),st(e,t[i].head))},origin:i&&i.origin};return fe(e,"beforeSelectionChange",e,n),e.cm&&fe(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?ko(e.cm,n.ranges,n.ranges.length-1):t}(e,t,i));var n=i&&i.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);tl(e,nl(e,t,n,!0)),i&&!1===i.scroll||!e.cm||Nn(e.cm)}function tl(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,me(e.cm)),si(e,"cursorActivity",e))}function il(e){tl(e,nl(e,e.sel,null,!1))}function nl(e,t,i,n){for(var o,l=0;l<t.ranges.length;l++){var s=t.ranges[l],r=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],a=ll(e,s.anchor,r&&r.anchor,i,n),c=ll(e,s.head,r&&r.head,i,n);(o||a!=s.anchor||c!=s.head)&&(o||(o=t.ranges.slice(0,l)),o[l]=new Co(a,c))}return o?ko(e.cm,o,t.primIndex):t}function ol(e,t,i,n,o){var l=Ze(e,t.line);if(l.markedSpans)for(var s=0;s<l.markedSpans.length;++s){var r=l.markedSpans[s],a=r.marker,c="selectLeft"in a?!a.selectLeft:a.inclusiveLeft,u="selectRight"in a?!a.selectRight:a.inclusiveRight;if((null==r.from||(c?r.from<=t.ch:r.from<t.ch))&&(null==r.to||(u?r.to>=t.ch:r.to>t.ch))){if(o&&(fe(a,"beforeCursorEnter"),a.explicitlyCleared)){if(l.markedSpans){--s;continue}break}if(!a.atomic)continue;if(i){var d=a.find(n<0?1:-1),h=void 0;if((n<0?u:c)&&(d=sl(e,d,-n,d&&d.line==t.line?l:null)),d&&d.line==t.line&&(h=et(d,i))&&(n<0?h<0:h>0))return ol(e,d,t,n,o)}var p=a.find(n<0?-1:1);return(n<0?c:u)&&(p=sl(e,p,n,p.line==t.line?l:null)),p?ol(e,p,t,n,o):null}}return t}function ll(e,t,i,n,o){var l=n||1,s=ol(e,t,i,l,o)||!o&&ol(e,t,i,l,!0)||ol(e,t,i,-l,o)||!o&&ol(e,t,i,-l,!0);return s||(e.cantEdit=!0,Je(e.first,0))}function sl(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?st(e,Je(t.line-1)):null:i>0&&t.ch==(n||Ze(e,t.line)).text.length?t.line<e.first+e.size-1?Je(t.line+1,0):null:new Je(t.line,t.ch+i)}function rl(e){e.setSelection(Je(e.firstLine(),0),Je(e.lastLine()),V)}function al(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,o,l){t&&(n.from=st(e,t)),i&&(n.to=st(e,i)),o&&(n.text=o),void 0!==l&&(n.origin=l)}),fe(e,"beforeChange",e,n),e.cm&&fe(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function cl(e,t,i){if(e.cm){if(!e.cm.curOp)return Jn(e.cm,cl)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"))||(t=al(e,t,!0))){var n=_t&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=P(n,i)||(n||(n=[])).push(i)}})),!n)return null;for(var o=[{from:t,to:i}],l=0;l<n.length;++l)for(var s=n[l],r=s.find(0),a=0;a<o.length;++a){var c=o[a];if(!(et(c.to,r.from)<0||et(c.from,r.to)>0)){var u=[a,1],d=et(c.from,r.from),h=et(c.to,r.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:r.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:r.to,to:c.to}),o.splice.apply(o,u),a+=u.length-3}}return o}(e,t.from,t.to);if(n)for(var o=n.length-1;o>=0;--o)ul(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else ul(e,t)}}function ul(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var i=Lo(e,t);Po(e,t,i,e.cm?e.cm.curOp.id:NaN),pl(e,t,i,St(e,t));var n=[];Io(e,(function(e,i){i||-1!=P(n,e.history)||(bl(e.history,t),n.push(e.history)),pl(e,t,null,St(e,t))}))}}function dl(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var o,l=e.history,s=e.sel,r="undo"==t?l.done:l.undone,a="undo"==t?l.undone:l.done,c=0;c<r.length&&(o=r[c],i?!o.ranges||o.equals(e.sel):o.ranges);c++);if(c!=r.length){for(l.lastOrigin=l.lastSelOrigin=null;;){if(!(o=r.pop()).ranges){if(n)return void r.push(o);break}if(Vo(o,a),i&&!o.equals(e.sel))return void Jo(e,o,{clearRedo:!1});s=o}var u=[];Vo(s,a),a.push({changes:u,generation:l.generation}),l.generation=o.generation||++l.maxGeneration;for(var d=be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"),h=function(i){var n=o.changes[i];if(n.origin=t,d&&!al(e,n,!1))return r.length=0,{};u.push(Ho(e,n));var l=i?Lo(e,n):Y(r);pl(e,n,l,Zo(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Ao(n)});var s=[];Io(e,(function(e,t){t||-1!=P(s,e.history)||(bl(e.history,n),s.push(e.history)),pl(e,n,null,Zo(e,n))}))},p=o.changes.length-1;p>=0;--p){var f=h(p);if(f)return f.v}}}}function hl(e,t){if(0!=t&&(e.first+=t,e.sel=new wo(X(e.sel.ranges,(function(e){return new Co(Je(e.anchor.line+t,e.anchor.ch),Je(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){un(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)dn(e.cm,n,"gutter")}}function pl(e,t,i,n){if(e.cm&&!e.cm.curOp)return Jn(e.cm,pl)(e,t,i,n);if(t.to.line<e.first)hl(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);hl(e,o),t={from:Je(e.first,0),to:Je(t.to.line+o,t.to.ch),text:[Y(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:Je(l,Ze(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=je(e,t.from,t.to),i||(i=Lo(e,t)),e.cm?function(e,t,i){var n=e.doc,o=e.display,l=t.from,s=t.to,r=!1,a=l.line;e.options.lineWrapping||(a=Xe(Rt(Ze(n,l.line))),n.iter(a,s.line+1,(function(e){if(e==o.maxLine)return r=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&me(e),Bo(n,t,i,sn(e)),e.options.lineWrapping||(n.iter(a,l.line+t.text.length,(function(e){var t=Wt(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,r=!1)})),r&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var o=Ze(e,n).stateAfter;if(o&&(!(o instanceof at)||n+o.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}(n,l.line),io(e,400);var c=t.text.length-(s.line-l.line)-1;t.full?un(e):l.line!=s.line||1!=t.text.length||Mo(e.doc,t)?un(e,l.line,s.line+1,c):dn(e,l.line,"text");var u=be(e,"changes"),d=be(e,"change");if(d||u){var h={from:l,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&si(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,n):Bo(e,t,n),el(e,i,V),e.cantEdit&&ll(e,Je(e.firstLine(),0))&&(e.cantEdit=!1)}}function fl(e,t,i,n,o){var l;n||(n=i),et(n,i)<0&&(i=(l=[n,i])[0],n=l[1]),"string"==typeof t&&(t=e.splitLines(t)),cl(e,{from:i,to:n,text:t,origin:o})}function gl(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ml(e,t,i,n){for(var o=0;o<e.length;++o){var l=e[o],s=!0;if(l.ranges){l.copied||((l=e[o]=l.deepCopy()).copied=!0);for(var r=0;r<l.ranges.length;r++)gl(l.ranges[r].anchor,t,i,n),gl(l.ranges[r].head,t,i,n)}else{for(var a=0;a<l.changes.length;++a){var c=l.changes[a];if(i<c.from.line)c.from=Je(c.from.line+n,c.from.ch),c.to=Je(c.to.line+n,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,o+1),o=0)}}}function bl(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;ml(e.done,i,n,o),ml(e.undone,i,n,o)}function vl(e,t,i,n){var o=t,l=t;return"number"==typeof t?l=Ze(e,lt(e,t)):o=Xe(t),null==o?null:(n(l,o)&&e.cm&&dn(e.cm,o,i),l)}function yl(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function _l(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),i+=o.height,o.parent=this}this.size=t,this.height=i,this.parent=null}Co.prototype.from=function(){return ot(this.anchor,this.head)},Co.prototype.to=function(){return nt(this.anchor,this.head)},Co.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},yl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var o=this.lines[i];this.height-=o.height,jt(o),si(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},_l.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var l=Math.min(t,o-e),s=n.height;if(n.removeInner(e,l),this.height-=s-n.height,o==l&&(this.children.splice(i--,1),n.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof yl))){var r=[];this.collapse(r),this.children=[new yl(r)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,i),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,r=s;r<o.lines.length;){var a=new yl(o.lines.slice(r,r+=25));o.height-=a.height,this.children.splice(++n,0,a),a.parent=this}o.lines=o.lines.slice(0,s),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new _l(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=P(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new _l(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=l}}};var xl=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function wl(e,t,i){Vt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zn(e,i)}xl.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=Xe(i);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(i.widgets=null);var l=yi(this);Ye(i,Math.max(0,i.height-l)),e&&(Qn(e,(function(){wl(e,i,-l),dn(e,n,"widget")})),si(e,"lineWidgetCleared",e,this,n))}},xl.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var o=yi(this)-t;o&&(Pt(this.doc,n)||Ye(n,n.height+o),i&&Qn(i,(function(){i.curOp.forceUpdate=!0,wl(i,n,o),si(i,"lineWidgetChanged",i,e,Xe(n))})))},ve(xl);var Cl=0,kl=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Cl};function Sl(e,t,i,n,o){if(n&&n.shared)return function(e,t,i,n,o){(n=R(n)).shared=!1;var l=[Sl(e,t,i,n,o)],s=l[0],r=n.widgetNode;return Io(e,(function(e){r&&(n.widgetNode=r.cloneNode(!0)),l.push(Sl(e,st(e,t),st(e,i),n,o));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;s=Y(l)})),new Al(l,s)}(e,t,i,n,o);if(e.cm&&!e.cm.curOp)return Jn(e.cm,Sl)(e,t,i,n,o);var l=new kl(e,o),s=et(t,i);if(n&&R(n,l,!1),s>0||0==s&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=N("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(Ot(e,t.line,t,i,l)||t.line!=i.line&&Ot(e,i.line,t,i,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");xt=!0}l.addToHistory&&Po(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var r,a=t.line,c=e.cm;if(e.iter(a,i.line+1,(function(e){c&&l.collapsed&&!c.options.lineWrapping&&Rt(e)==c.display.maxLine&&(r=!0),l.collapsed&&a!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new wt(l,a==t.line?t.ch:null,a==i.line?i.ch:null)),++a})),l.collapsed&&e.iter(t.line,i.line+1,(function(t){Pt(e,t)&&Ye(t,0)})),l.clearOnEnter&&de(l,"beforeCursorEnter",(function(){return l.clear()})),l.readOnly&&(_t=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Cl,l.atomic=!0),c){if(r&&(c.curOp.updateMaxLine=!0),l.collapsed)un(c,t.line,i.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var u=t.line;u<=i.line;u++)dn(c,u,"text");l.atomic&&il(c.doc),si(c,"markerAdded",c,l)}return l}kl.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Zn(e),be(this,"clear")){var i=this.find();i&&si(this,"clear",i.from,i.to)}for(var n=null,o=null,l=0;l<this.lines.length;++l){var s=this.lines[l],r=Ct(s.markedSpans,this);e&&!this.collapsed?dn(e,Xe(s),"text"):e&&(null!=r.to&&(o=Xe(s)),null!=r.from&&(n=Xe(s))),s.markedSpans=kt(s.markedSpans,r),null==r.from&&this.collapsed&&!Pt(this.doc,s)&&e&&Ye(s,tn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var c=Rt(this.lines[a]),u=Wt(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&un(e,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&il(e.doc)),e&&si(e,"markerCleared",e,this,n,o),t&&jn(e),this.parent&&this.parent.clear()}},kl.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var l=this.lines[o],s=Ct(l.markedSpans,this);if(null!=s.from&&(i=Je(t?l:Xe(l),s.from),-1==e))return i;if(null!=s.to&&(n=Je(t?l:Xe(l),s.to),1==e))return n}return i&&{from:i,to:n}},kl.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Qn(n,(function(){var o=t.line,l=Xe(t.line),s=zi(n,l);if(s&&(Oi(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Pt(i.doc,o)&&null!=i.height){var r=i.height;i.height=null;var a=yi(i)-r;a&&Ye(o,o.height+a)}si(n,"markerChanged",n,e)}))},kl.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=P(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},kl.prototype.detachLine=function(e){if(this.lines.splice(P(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ve(kl);var Al=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function El(e){return e.findMarks(Je(e.first,0),e.clipPos(Je(e.lastLine())),(function(e){return e.parent}))}function Ll(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];Io(i.primary.doc,(function(e){return n.push(e)}));for(var o=0;o<i.markers.length;o++){var l=i.markers[o];-1==P(n,l.doc)&&(l.parent=null,i.markers.splice(o--,1))}},i=0;i<e.length;i++)t(i)}Al.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();si(this,"clear")}},Al.prototype.find=function(e,t){return this.primary.find(e,t)},ve(Al);var zl=0,Nl=function(e,t,i,n,o){if(!(this instanceof Nl))return new Nl(e,t,i,n,o);null==i&&(i=0),_l.call(this,[new yl([new Zt("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var l=Je(i,0);this.sel=So(l),this.history=new Ro(null),this.id=++zl,this.modeOption=t,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Bo(this,{from:l,to:l,text:e}),Jo(this,So(l),V)};Nl.prototype=K(_l.prototype,{constructor:Nl,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ge(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:to((function(e){var t=Je(this.first,0),i=this.first+this.size-1;cl(this,{from:t,to:Je(i,Ze(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Tn(this.cm,0,0),Jo(this,So(t),V)})),replaceRange:function(e,t,i,n){fl(this,e,t=st(this,t),i=i?st(this,i):t,n)},getRange:function(e,t,i){var n=je(this,st(this,e),st(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ke(this,e))return Ze(this,e)},getLineNumber:function(e){return Xe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ze(this,e)),Rt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return st(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:to((function(e,t,i){Ko(this,st(this,"number"==typeof e?Je(e,t||0):e),null,i)})),setSelection:to((function(e,t,i){Ko(this,st(this,e),st(this,t||e),i)})),extendSelection:to((function(e,t,i){Yo(this,st(this,e),t&&st(this,t),i)})),extendSelections:to((function(e,t){Xo(this,rt(this,e),t)})),extendSelectionsBy:to((function(e,t){Xo(this,rt(this,X(this.sel.ranges,e)),t)})),setSelections:to((function(e,t,i){if(e.length){for(var n=[],o=0;o<e.length;o++)n[o]=new Co(st(this,e[o].anchor),st(this,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Jo(this,ko(this.cm,n,t),i)}})),addSelection:to((function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new Co(st(this,e),st(this,t||e))),Jo(this,ko(this.cm,n,n.length-1),i)})),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var o=je(this,i[n].from(),i[n].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=je(this,i[n].from(),i[n].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:to((function(e,t,i){for(var n=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];n[l]={from:s.from(),to:s.to(),text:this.splitLines(e[l]),origin:i}}for(var r=t&&"end"!=t&&function(e,t,i){for(var n=[],o=Je(e.first,0),l=o,s=0;s<t.length;s++){var r=t[s],a=zo(r.from,o,l),c=zo(Ao(r),o,l);if(o=r.to,l=c,"around"==i){var u=e.sel.ranges[s],d=et(u.head,u.anchor)<0;n[s]=new Co(d?c:a,d?a:c)}else n[s]=new Co(a,a)}return new wo(n,e.sel.primIndex)}(this,n,t),a=n.length-1;a>=0;a--)cl(this,n[a]);r?Qo(this,r):this.cm&&Nn(this.cm)})),undo:to((function(){dl(this,"undo")})),redo:to((function(){dl(this,"redo")})),undoSelection:to((function(){dl(this,"undo",!0)})),redoSelection:to((function(){dl(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){var e=this;this.history=new Ro(this.history.maxGeneration),Io(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:jo(this.history.done),undone:jo(this.history.undone)}},setHistory:function(e){var t=this.history=new Ro(this.history.maxGeneration);t.done=jo(e.done.slice(0),null,!0),t.undone=jo(e.undone.slice(0),null,!0)},setGutterMarker:to((function(e,t,i){return vl(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&te(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:to((function(e){var t=this;this.iter((function(i){i.gutterMarkers&&i.gutterMarkers[e]&&vl(t,i,"gutter",(function(){return i.gutterMarkers[e]=null,te(i.gutterMarkers)&&(i.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ke(this,e))return null;if(t=e,!(e=Ze(this,e)))return null}else if(null==(t=Xe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:to((function(e,t,i){return vl(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(k(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0}))})),removeLineClass:to((function(e,t,i){return vl(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[n];if(!o)return!1;if(null==i)e[n]=null;else{var l=o.match(k(i));if(!l)return!1;var s=l.index+l[0].length;e[n]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0}))})),addLineWidget:to((function(e,t,i){return function(e,t,i,n){var o=new xl(e,i,n),l=e.cm;return l&&o.noHScroll&&(l.display.alignWidgets=!0),vl(e,t,"widget",(function(t){var i=t.widgets||(t.widgets=[]);if(null==o.insertAt?i.push(o):i.splice(Math.min(i.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,l&&!Pt(e,t)){var n=Vt(t)<e.scrollTop;Ye(t,t.height+yi(o)),n&&zn(l,o.height),l.curOp.forceUpdate=!0}return!0})),l&&si(l,"lineWidgetAdded",l,o,"number"==typeof t?t:Xe(t)),o}(this,e,t,i)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Sl(this,st(this,e),st(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Sl(this,e=st(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=Ze(this,(e=st(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,i){e=st(this,e),t=st(this,t);var n=[],o=e.line;return this.iter(e.line,t.line+1,(function(l){var s=l.markedSpans;if(s)for(var r=0;r<s.length;r++){var a=s[r];null!=a.to&&o==e.line&&e.ch>=a.to||null==a.from&&o!=e.line||null!=a.from&&o==t.line&&a.from>=t.ch||i&&!i(a.marker)||n.push(a.marker.parent||a.marker)}++o})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)})),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter((function(o){var l=o.text.length+n;if(l>e)return t=e,!0;e-=l,++i})),st(this,Je(i,t))},indexFromPos:function(e){var t=(e=st(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+i})),t},copy:function(e){var t=new Nl(Ge(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Nl(Ge(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],o=n.find(),l=e.clipPos(o.from),s=e.clipPos(o.to);if(et(l,s)){var r=Sl(e,l,s,n.primary,n.primary.type);n.markers.push(r),r.parent=n}}}(n,El(this)),n},unlinkDoc:function(e){if(e instanceof As&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ll(El(this));break}if(e.history==this.history){var i=[e.id];Io(e,(function(e){return i.push(e.id)}),!0),e.history=new Ro(null),e.history.done=jo(this.history.done,i),e.history.undone=jo(this.history.undone,i)}},iterLinkedDocs:function(e){Io(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ne(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:to((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Qn(t=this.cm,(function(){Oo(t),un(t)})))}))}),Nl.prototype.eachLine=Nl.prototype.iter;var Tl=0;function Ml(e){var t=this;if(Bl(t),!ge(t,e)&&!_i(t.display,e)){ye(e),s&&(Tl=+new Date);var i=an(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,l=Array(o),r=0,a=function(){++r==o&&Jn(t,(function(){var e={from:i=st(t.doc,i),to:i,text:t.doc.splitLines(l.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};cl(t.doc,e),Qo(t.doc,So(st(t.doc,i),st(t.doc,Ao(e))))}))()},c=function(e,i){if(t.options.allowDropFileTypes&&-1==P(t.options.allowDropFileTypes,e.type))a();else{var n=new FileReader;n.onerror=function(){return a()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(l[i]=e),a()},n.readAsText(e)}},u=0;u<n.length;u++)c(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),el(t.doc,So(i,i)),h)for(var p=0;p<h.length;++p)fl(t.doc,"",h[p].anchor,h[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(f){}}}}function Bl(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Il(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var o=t[n].CodeMirror;o&&i.push(o)}i.length&&i[0].operation((function(){for(var t=0;t<i.length;t++)e(i[t])}))}}var Dl=!1;function Ol(){Dl||(function(){var e;de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Il(Rl)}),100))})),de(window,"blur",(function(){return Il(kn)}))}(),Dl=!0)}function Rl(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Hl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fl=0;Fl<10;Fl++)Hl[Fl+48]=Hl[Fl+96]=String(Fl);for(var Pl=65;Pl<=90;Pl++)Hl[Pl]=String.fromCharCode(Pl);for(var Ul=1;Ul<=12;Ul++)Hl[Ul+111]=Hl[Ul+63235]="F"+Ul;var Vl={};function Wl(e){var t,i,n,o,l=e.split(/-(?!$)/);e=l[l.length-1];for(var s=0;s<l.length-1;s++){var r=l[s];if(/^(cmd|meta|m)$/i.test(r))o=!0;else if(/^a(lt)?$/i.test(r))t=!0;else if(/^(c|ctrl|control)$/i.test(r))i=!0;else{if(!/^s(hift)?$/i.test(r))throw new Error("Unrecognized modifier name: "+r);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function ql(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var o=X(i.split(" "),Wl),l=0;l<o.length;l++){var s=void 0,r=void 0;l==o.length-1?(r=o.join(" "),s=n):(r=o.slice(0,l+1).join(" "),s="...");var a=t[r];if(a){if(a!=s)throw new Error("Inconsistent bindings for "+r)}else t[r]=s}delete e[i]}for(var c in t)e[c]=t[c];return e}function Zl(e,t,i,n){var o=(t=Xl(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Zl(e,t.fallthrough,i,n);for(var l=0;l<t.fallthrough.length;l++){var s=Zl(e,t.fallthrough[l],i,n);if(s)return s}}}function jl(e){var t="string"==typeof e?e:Hl[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Gl(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Yl(e,t){if(d&&34==e.keyCode&&e.char)return!1;var i=Hl[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),Gl(i,e,t))}function Xl(e){return"string"==typeof e?Vl[e]:e}function $l(e,t){for(var i=e.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var l=t(i[o]);n.length&&et(l.from,Y(n).to)<=0;){var s=n.pop();if(et(s.from,l.from)<0){l.from=s.from;break}}n.push(l)}Qn(e,(function(){for(var t=n.length-1;t>=0;t--)fl(e.doc,"",n[t].from,n[t].to,"+delete");Nn(e)}))}function Kl(e,t,i){var n=oe(e.text,t+i,i);return n<0||n>e.text.length?null:n}function Ql(e,t,i){var n=Kl(e,t.ch,i);return null==n?null:new Je(t.line,n,i<0?"after":"before")}function Jl(e,t,i,n,o){if(e){"rtl"==t.doc.direction&&(o=-o);var l=ce(i,t.doc.direction);if(l){var s,r=o<0?Y(l):l[0],a=o<0==(1==r.level)?"after":"before";if(r.level>0||"rtl"==t.doc.direction){var c=Ni(t,i);s=o<0?i.text.length-1:0;var u=Ti(t,c,s).top;s=le((function(e){return Ti(t,c,e).top==u}),o<0==(1==r.level)?r.from:r.to-1,s),"before"==a&&(s=Kl(i,s,1))}else s=o<0?r.to:r.from;return new Je(n,s,a)}}return new Je(n,o<0?i.text.length:0,o<0?"before":"after")}Vl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vl.default=v?Vl.macDefault:Vl.pcDefault;var es={selectAll:rl,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return $l(e,(function(t){if(t.empty()){var i=Ze(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:Je(t.head.line+1,0)}:{from:t.head,to:Je(t.head.line,i)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return $l(e,(function(t){return{from:Je(t.from().line,0),to:st(e.doc,Je(t.to().line+1,0))}}))},delLineLeft:function(e){return $l(e,(function(e){return{from:Je(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return $l(e,(function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return $l(e,(function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Je(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Je(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ts(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return is(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var i=Ze(e.doc,t),n=function(e){for(var t;t=It(e);)e=t.find(1,!0).line;return e}(i);return n!=i&&(t=Xe(n)),Jl(!0,e,i,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")}),q)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")}),q)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?is(e,t.head):n}),q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var l=i[o].from(),s=H(e.getLine(l.line),l.ch,n);t.push(G(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Qn(e,(function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var o=t[n].head,l=Ze(e.doc,o.line).text;if(l)if(o.ch==l.length&&(o=new Je(o.line,o.ch-1)),o.ch>0)o=new Je(o.line,o.ch+1),e.replaceRange(l.charAt(o.ch-1)+l.charAt(o.ch-2),Je(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var s=Ze(e.doc,o.line-1).text;s&&(o=new Je(o.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),Je(o.line-1,s.length-1),o,"+transpose"))}i.push(new Co(o,o))}e.setSelections(i)}))},newlineAndIndent:function(e){return Qn(e,(function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Nn(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ts(e,t){var i=Ze(e.doc,t),n=Rt(i);return n!=i&&(t=Xe(n)),Jl(!0,e,n,t,1)}function is(e,t){var i=ts(e,t.line),n=Ze(e.doc,i.line),o=ce(n,e.doc.direction);if(!o||0==o[0].level){var l=Math.max(i.ch,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=l&&t.ch;return Je(i.line,s?0:l,i.sticky)}return i}function ns(e,t,i){if("string"==typeof t&&!(t=es[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=U}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}var os=new F;function ls(e,t,i,n){var o=e.state.keySeq;if(o){if(jl(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:os.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),ss(e,o+" "+t,i,n))return!0}return ss(e,t,i,n)}function ss(e,t,i,n){var o=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=Zl(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&Zl(t,e.options.extraKeys,i,e)||Zl(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&si(e,"keyHandled",e,t,i),"handled"!=o&&"multi"!=o||(ye(i),_n(e)),!!o}function rs(e,t){var i=Yl(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?ls(e,"Shift-"+i,t,(function(t){return ns(e,t,!0)}))||ls(e,i,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ns(e,t)})):ls(e,i,t,(function(t){return ns(e,t)})))}var as=null;function cs(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=M(),!ge(t,e))){s&&r<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var o=rs(t,e);d&&(as=o?n:null,o||88!=n||Me||!(v?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),i&&!v&&!o&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(A(t,"CodeMirror-crosshair"),pe(document,"keyup",i),pe(document,"mouseover",i))}B(t,"CodeMirror-crosshair"),de(document,"keyup",i),de(document,"mouseover",i)}(t)}}function us(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function ds(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(_i(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(d&&i==as)return as=null,void ye(e);if(!d||e.which&&!(e.which<10)||!rs(t,e)){var o=String.fromCharCode(null==n?i:n);"\b"!=o&&(function(e,t,i){return ls(e,"'"+i+"'",t,(function(t){return ns(e,t,!0)}))}(t,e,o)||t.display.input.onKeyPress(e))}}}var hs,ps,fs=function(e,t,i){this.time=e,this.pos=t,this.button=i};function gs(e){var t=this,i=t.display;if(!(ge(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,_i(i,e))a||(i.scroller.draggable=!1,setTimeout((function(){return i.scroller.draggable=!0}),100));else if(!vs(t,e)){var n=an(t,e),o=ke(e),l=n?function(e,t){var i=+new Date;return ps&&ps.compare(i,e,t)?(hs=ps=null,"triple"):hs&&hs.compare(i,e,t)?(ps=new fs(i,e,t),hs=null,"double"):(hs=new fs(i,e,t),ps=null,"single")}(n,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,i,n,o){var l="Click";return"double"==n?l="Double"+l:"triple"==n&&(l="Triple"+l),ls(e,Gl(l=(1==t?"Left":2==t?"Middle":"Right")+l,o),o,(function(t){if("string"==typeof t&&(t=es[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=U}finally{e.state.suppressEdits=!1}return n}))}(t,o,n,l,e)||(1==o?n?function(e,t,i,n){s?setTimeout(O(xn,e),0):e.curOp.focus=M();var o,l=function(e,t,i){var n=e.getOption("configureMouse"),o=n?n(e,t,i):{};if(null==o.unit){var l=y?i.shiftKey&&i.metaKey:i.altKey;o.unit=l?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||i.shiftKey),null==o.addNew&&(o.addNew=v?i.metaKey:i.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(v?i.altKey:i.ctrlKey)),o}(e,i,n),c=e.doc.sel;e.options.dragDrop&&Ee&&!e.isReadOnly()&&"single"==i&&(o=c.contains(t))>-1&&(et((o=c.ranges[o]).from(),t)<0||t.xRel>0)&&(et(o.to(),t)>0||t.xRel<0)?function(e,t,i,n){var o=e.display,l=!1,c=Jn(e,(function(t){a&&(o.scroller.draggable=!1),e.state.draggingText=!1,pe(o.wrapper.ownerDocument,"mouseup",c),pe(o.wrapper.ownerDocument,"mousemove",u),pe(o.scroller,"dragstart",d),pe(o.scroller,"drop",c),l||(ye(t),n.addNew||Yo(e.doc,i,null,null,n.extend),a&&!h||s&&9==r?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),u=function(e){l=l||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return l=!0};a&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!n.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),de(o.wrapper.ownerDocument,"mouseup",c),de(o.wrapper.ownerDocument,"mousemove",u),de(o.scroller,"dragstart",d),de(o.scroller,"drop",c),wn(e),setTimeout((function(){return o.input.focus()}),20)}(e,n,t,l):function(e,t,i,n){var o=e.display,l=e.doc;ye(t);var s,r,a=l.sel,c=a.ranges;if(n.addNew&&!n.extend?(r=l.sel.contains(i),s=r>-1?c[r]:new Co(i,i)):(s=l.sel.primary(),r=l.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new Co(i,i)),i=an(e,t,!0,!0),r=-1;else{var u=ms(e,i,n.unit);s=n.extend?Go(s,u.anchor,u.head,n.extend):u}n.addNew?-1==r?(r=c.length,Jo(l,ko(e,c.concat([s]),r),{scroll:!1,origin:"*mouse"})):c.length>1&&c[r].empty()&&"char"==n.unit&&!n.extend?(Jo(l,ko(e,c.slice(0,r).concat(c.slice(r+1)),0),{scroll:!1,origin:"*mouse"}),a=l.sel):$o(l,r,s,W):(r=0,Jo(l,new wo([s],0),W),a=l.sel);var d=i;function h(t){if(0!=et(d,t))if(d=t,"rectangle"==n.unit){for(var o=[],c=e.options.tabSize,u=H(Ze(l,i.line).text,i.ch,c),h=H(Ze(l,t.line).text,t.ch,c),p=Math.min(u,h),f=Math.max(u,h),g=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));g<=m;g++){var b=Ze(l,g).text,v=Z(b,p,c);p==f?o.push(new Co(Je(g,v),Je(g,v))):b.length>v&&o.push(new Co(Je(g,v),Je(g,Z(b,f,c))))}o.length||o.push(new Co(i,i)),Jo(l,ko(e,a.ranges.slice(0,r).concat(o),r),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,_=s,x=ms(e,t,n.unit),w=_.anchor;et(x.anchor,w)>0?(y=x.head,w=ot(_.from(),x.anchor)):(y=x.anchor,w=nt(_.to(),x.head));var C=a.ranges.slice(0);C[r]=function(e,t){var i=t.anchor,n=t.head,o=Ze(e.doc,i.line);if(0==et(i,n)&&i.sticky==n.sticky)return t;var l=ce(o);if(!l)return t;var s=re(l,i.ch,i.sticky),r=l[s];if(r.from!=i.ch&&r.to!=i.ch)return t;var a,c=s+(r.from==i.ch==(1!=r.level)?0:1);if(0==c||c==l.length)return t;if(n.line!=i.line)a=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=re(l,n.ch,n.sticky),d=u-s||(n.ch-i.ch)*(1==r.level?-1:1);a=u==c-1||u==c?d<0:d>0}var h=l[c+(a?-1:0)],p=a==(1==h.level),f=p?h.from:h.to,g=p?"after":"before";return i.ch==f&&i.sticky==g?t:new Co(new Je(i.line,f,g),n)}(e,new Co(st(l,w),y)),Jo(l,ko(e,C,r),W)}}var p=o.wrapper.getBoundingClientRect(),f=0;function g(t){e.state.selectingText=!1,f=1/0,t&&(ye(t),o.input.focus()),pe(o.wrapper.ownerDocument,"mousemove",m),pe(o.wrapper.ownerDocument,"mouseup",b),l.history.lastSelOrigin=null}var m=Jn(e,(function(t){0!==t.buttons&&ke(t)?function t(i){var s=++f,r=an(e,i,!0,"rectangle"==n.unit);if(r)if(0!=et(r,d)){e.curOp.focus=M(),h(r);var a=En(o,l);(r.line>=a.to||r.line<a.from)&&setTimeout(Jn(e,(function(){f==s&&t(i)})),150)}else{var c=i.clientY<p.top?-20:i.clientY>p.bottom?20:0;c&&setTimeout(Jn(e,(function(){f==s&&(o.scroller.scrollTop+=c,t(i))})),50)}}(t):g(t)})),b=Jn(e,g);e.state.selectingText=b,de(o.wrapper.ownerDocument,"mousemove",m),de(o.wrapper.ownerDocument,"mouseup",b)}(e,n,t,l)}(t,n,l,e):Ce(e)==i.scroller&&ye(e):2==o?(n&&Yo(t.doc,n),setTimeout((function(){return i.input.focus()}),20)):3==o&&(C?t.display.input.onContextMenu(e):wn(t)))}}function ms(e,t,i){if("char"==i)return new Co(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new Co(Je(t.line,0),st(e.doc,Je(t.line+1,0)));var n=i(e,t);return new Co(n.from,n.to)}function bs(e,t,i,n){var o,l;if(t.touches)o=t.touches[0].clientX,l=t.touches[0].clientY;else try{o=t.clientX,l=t.clientY}catch(u){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ye(t);var s=e.display,r=s.lineDiv.getBoundingClientRect();if(l>r.bottom||!be(e,i))return xe(t);l-=r.top-s.viewOffset;for(var a=0;a<e.display.gutterSpecs.length;++a){var c=s.gutters.childNodes[a];if(c&&c.getBoundingClientRect().right>=o)return fe(e,i,e,$e(e.doc,l),e.display.gutterSpecs[a].className,t),xe(t)}}function vs(e,t){return bs(e,t,"gutterClick",!0)}function ys(e,t){_i(e.display,t)||function(e,t){return!!be(e,"gutterContextMenu")&&bs(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function _s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Hi(e)}fs.prototype.compare=function(e,t,i){return this.time+400>e&&0==et(t,this.pos)&&i==this.button};var xs={toString:function(){return"CodeMirror.Init"}},ws={},Cs={};function ks(e,t,i){if(!t!=!(i&&i!=xs)){var n=e.display.dragFunctions,o=t?de:pe;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.enter),o(e.display.scroller,"dragover",n.over),o(e.display.scroller,"dragleave",n.leave),o(e.display.scroller,"drop",n.drop)}}function Ss(e){e.options.lineWrapping?(B(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(A(e.display.wrapper,"CodeMirror-wrap"),qt(e)),rn(e),un(e),Hi(e),setTimeout((function(){return Pn(e)}),100)}function As(e,t){var i=this;if(!(this instanceof As))return new As(e,t);this.options=t=t?R(t):{},R(ws,t,!1);var n=t.value;"string"==typeof n?n=new Nl(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var o=new As.inputStyles[t.inputStyle](this),l=this.display=new mo(e,n,o,t);for(var c in l.wrapper.CodeMirror=this,_s(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},t.autofocus&&!b&&l.input.focus(),s&&r<11&&setTimeout((function(){return i.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",Jn(e,gs)),de(t.scroller,"dblclick",s&&r<11?Jn(e,(function(t){if(!ge(e,t)){var i=an(e,t);if(i&&!vs(e,t)&&!_i(e.display,t)){ye(t);var n=e.findWordAt(i);Yo(e.doc,n.anchor,n.head)}}})):function(t){return ge(e,t)||ye(t)}),de(t.scroller,"contextmenu",(function(t){return ys(e,t)})),de(t.input.getField(),"contextmenu",(function(i){t.scroller.contains(i.target)||ys(e,i)}));var i,n={end:0};function o(){t.activeTouch&&(i=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function l(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}de(t.scroller,"touchstart",(function(o){if(!ge(e,o)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(o)&&!vs(e,o)){t.input.ensurePolled(),clearTimeout(i);var l=+new Date;t.activeTouch={start:l,moved:!1,prev:l-n.end<=300?n:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(i){var n=t.activeTouch;if(n&&!_i(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,r=e.coordsChar(t.activeTouch,"page");s=!n.prev||l(n,n.prev)?new Co(r,r):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(r):new Co(Je(r.line,0),st(e.doc,Je(r.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),ye(i)}o()})),de(t.scroller,"touchcancel",o),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(In(e,t.scroller.scrollTop),On(e,t.scroller.scrollLeft,!0),fe(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return xo(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return xo(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ge(e,t)||we(t)},over:function(t){ge(e,t)||(function(e,t){var i=an(e,t);if(i){var n=document.createDocumentFragment();bn(e,i,n),e.display.dragCursor||(e.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),L(e.display.dragCursor,n)}}(e,t),we(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Tl<100))we(t);else if(!ge(e,t)&&!_i(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var i=z("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),d&&i.parentNode.removeChild(i)}}(e,t)},drop:Jn(e,Ml),leave:function(t){ge(e,t)||Bl(e)}};var a=t.input.getField();de(a,"keyup",(function(t){return us.call(e,t)})),de(a,"keydown",Jn(e,cs)),de(a,"keypress",Jn(e,ds)),de(a,"focus",(function(t){return Cn(e,t)})),de(a,"blur",(function(t){return kn(e,t)}))}(this),Ol(),Zn(this),this.curOp.forceUpdate=!0,Do(this,n),t.autofocus&&!b||this.hasFocus()?setTimeout(O(Cn,this),20):kn(this),Cs)Cs.hasOwnProperty(c)&&Cs[c](this,t[c],xs);ho(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Es.length;++u)Es[u](this);jn(this),a&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}As.defaults=ws,As.optionHandlers=Cs;var Es=[];function Ls(e,t,i,n){var o,l=e.doc;null==i&&(i="add"),"smart"==i&&(l.mode.indent?o=ht(e,t).state:i="prev");var s=e.options.tabSize,r=Ze(l,t),a=H(r.text,null,s);r.stateAfter&&(r.stateAfter=null);var c,u=r.text.match(/^\s*/)[0];if(n||/\S/.test(r.text)){if("smart"==i&&((c=l.mode.indent(o,r.text.slice(u.length),r.text))==U||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>l.first?H(Ze(l,t-1).text,null,s):0:"add"==i?c=a+e.options.indentUnit:"subtract"==i?c=a-e.options.indentUnit:"number"==typeof i&&(c=a+i),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)h+=s,d+="\t";if(h<c&&(d+=G(c-h)),d!=u)return fl(l,d,Je(t,0),Je(t,u.length),"+input"),r.stateAfter=null,!0;for(var f=0;f<l.sel.ranges.length;f++){var g=l.sel.ranges[f];if(g.head.line==t&&g.head.ch<u.length){var m=Je(t,u.length);$o(l,f,new Co(m,m));break}}}As.defineInitHook=function(e){return Es.push(e)};var zs=null;function Ns(e){zs=e}function Ts(e,t,i,n,o){var l=e.doc;e.display.shift=!1,n||(n=l.sel);var s=+new Date-200,r="paste"==o||e.state.pasteIncoming>s,a=Ne(t),c=null;if(r&&n.ranges.length>1)if(zs&&zs.text.join("\n")==t){if(n.ranges.length%zs.text.length==0){c=[];for(var u=0;u<zs.text.length;u++)c.push(l.splitLines(zs.text[u]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(a,(function(e){return[e]})));for(var d=e.curOp.updateInput,h=n.ranges.length-1;h>=0;h--){var p=n.ranges[h],f=p.from(),g=p.to();p.empty()&&(i&&i>0?f=Je(f.line,f.ch-i):e.state.overwrite&&!r?g=Je(g.line,Math.min(Ze(l,g.line).text.length,g.ch+Y(a).length)):r&&zs&&zs.lineWise&&zs.text.join("\n")==a.join("\n")&&(f=g=Je(f.line,0)));var m={from:f,to:g,text:c?c[h%c.length]:a,origin:o||(r?"paste":e.state.cutIncoming>s?"cut":"+input")};cl(e.doc,m),si(e,"inputRead",e,m)}t&&!r&&Bs(e,t),Nn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ms(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Qn(t,(function(){return Ts(t,i,0,null,"paste")})),!0}function Bs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var o=i.ranges[n];if(!(o.head.ch>100||n&&i.ranges[n-1].head.line==o.head.line)){var l=e.getModeAt(o.head),s=!1;if(l.electricChars){for(var r=0;r<l.electricChars.length;r++)if(t.indexOf(l.electricChars.charAt(r))>-1){s=Ls(e,o.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(Ze(e.doc,o.head.line).text.slice(0,o.head.ch))&&(s=Ls(e,o.head.line,"smart"));s&&si(e,"electricInput",e,o.head.line)}}}function Is(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,l={anchor:Je(o,0),head:Je(o+1,0)};i.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:i}}function Ds(e,t,i,n){e.setAttribute("autocorrect",i?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Os(){var e=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=z("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Ds(e),t}function Rs(e,t,i,n,o){var l=t,s=i,r=Ze(e,t.line),a=o&&"rtl"==e.direction?-i:i;function c(n){var l;if(null==(l=o?function(e,t,i,n){var o=ce(t,e.doc.direction);if(!o)return Ql(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var l=re(o,i.ch,i.sticky),s=o[l];if("ltr"==e.doc.direction&&s.level%2==0&&(n>0?s.to>i.ch:s.from<i.ch))return Ql(t,i,n);var r,a=function(e,i){return Kl(t,e instanceof Je?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(r=r||Ni(e,t),$i(e,t,r,i)):{begin:0,end:t.text.length}},u=c("before"==i.sticky?a(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var d=1==s.level==n<0,h=a(i,d?1:-1);if(null!=h&&(d?h<=s.to&&h<=u.end:h>=s.from&&h>=u.begin)){var p=d?"before":"after";return new Je(i.line,h,p)}}var f=function(e,t,n){for(var l=function(e,t){return t?new Je(i.line,a(e,1),"before"):new Je(i.line,e,"after")};e>=0&&e<o.length;e+=t){var s=o[e],r=t>0==(1!=s.level),c=r?n.begin:a(n.end,-1);if(s.from<=c&&c<s.to)return l(c,r);if(c=r?s.from:a(s.to,-1),n.begin<=c&&c<n.end)return l(c,r)}},g=f(l+n,n,u);if(g)return g;var m=n>0?u.end:a(u.begin,-1);return null==m||n>0&&m==t.text.length||!(g=f(n>0?0:o.length-1,n,c(m)))?null:g}(e.cm,r,t,i):Ql(r,t,i))){if(n||!function(){var i=t.line+a;return!(i<e.first||i>=e.first+e.size)&&(t=new Je(i,t.ch,t.sticky),r=Ze(e,i))}())return!1;t=Jl(o,e.cm,r,t.line,a)}else t=l;return!0}if("char"==n)c();else if("column"==n)c(!0);else if("word"==n||"group"==n)for(var u=null,d="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(i<0)||c(!p);p=!1){var f=r.text.charAt(t.ch)||"\n",g=ee(f,h)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(!d||p||g||(g="s"),u&&u!=g){i<0&&(i=1,c(),t.sticky="after");break}if(g&&(u=g),i>0&&!c(!p))break}var m=ll(e,t,l,s,!0);return tt(l,m)&&(m.hitSide=!0),m}function Hs(e,t,i,n){var o,l,s=e.doc,r=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(a-.5*tn(e.display),3);o=(i>0?t.bottom:t.top)+i*c}else"line"==n&&(o=i>0?t.bottom+3:t.top-3);for(;(l=Yi(e,r,o)).outside;){if(i<0?o<=0:o>=s.height){l.hitSide=!0;break}o+=5*i}return l}var Fs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ps(e,t){var i=zi(e,t.line);if(!i||i.hidden)return null;var n=Ze(e.doc,t.line),o=Ei(i,n,t.line),l=ce(n,e.doc.direction),s="left";l&&(s=re(l,t.ch)%2?"right":"left");var r=Ii(o.map,t.ch,s);return r.offset="right"==r.collapse?r.end:r.start,r}function Us(e,t){return t&&(e.bad=!0),e}function Vs(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return Us(e.clipPos(Je(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var l=e.display.view[o];if(l.node==n)return Ws(l,t,i)}}function Ws(e,t,i){var n=e.text.firstChild,o=!1;if(!t||!T(n,t))return Us(Je(Xe(e.line),0),!0);if(t==n&&(o=!0,t=n.childNodes[i],i=0,!t)){var l=e.rest?Y(e.rest):e.line;return Us(Je(Xe(l),l.text.length),o)}var s=3==t.nodeType?t:null,r=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,i&&(i=s.nodeValue.length));r.parentNode!=n;)r=r.parentNode;var a=e.measure,c=a.maps;function u(t,i,n){for(var o=-1;o<(c?c.length:0);o++)for(var l=o<0?a.map:c[o],s=0;s<l.length;s+=3){var r=l[s+2];if(r==t||r==i){var u=Xe(o<0?e.line:e.rest[o]),d=l[s]+n;return(n<0||r!=t)&&(d=l[s+(n?1:0)]),Je(u,d)}}}var d=u(s,r,i);if(d)return Us(d,o);for(var h=r.nextSibling,p=s?s.nodeValue.length-i:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return Us(Je(d.line,d.ch-p),o);p+=h.textContent.length}for(var f=r.previousSibling,g=i;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return Us(Je(d.line,d.ch+g),o);g+=f.textContent.length}}Fs.prototype.init=function(e){var t=this,i=this,n=i.cm,o=i.div=e.lineDiv;function l(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(l(e)&&!ge(n,e)){if(n.somethingSelected())Ns({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Is(n);Ns({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,V),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var s=zs.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var r=Os(),a=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),a.value=zs.text.join("\n");var c=document.activeElement;D(a),setTimeout((function(){n.display.lineSpace.removeChild(r),c.focus(),c==o&&i.showPrimarySelection()}),50)}}Ds(o,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),de(o,"paste",(function(e){!l(e)||ge(n,e)||Ms(e,n)||r<=11&&setTimeout(Jn(n,(function(){return t.updateFromDOM()})),20)})),de(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(o,"touchstart",(function(){return i.forceCompositionEnd()})),de(o,"input",(function(){t.composing||t.readFromDOMSoon()})),de(o,"copy",s),de(o,"cut",s)},Fs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Fs.prototype.prepareSelection=function(){var e=mn(this.cm,!1);return e.focus=document.activeElement==this.div,e},Fs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Fs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Fs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),o=n.from(),l=n.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||l.line<t.display.viewFrom)e.removeAllRanges();else{var s=Vs(t,e.anchorNode,e.anchorOffset),r=Vs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!r||r.bad||0!=et(ot(s,r),o)||0!=et(nt(s,r),l)){var a=t.display.view,c=o.line>=t.display.viewFrom&&Ps(t,o)||{node:a[0].measure.map[2],offset:0},u=l.line<t.display.viewTo&&Ps(t,l);if(!u){var d=a[a.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=S(c.node,c.offset,u.offset,u.node)}catch(g){}p&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Fs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Fs.prototype.showMultipleSelections=function(e){L(this.cm.display.cursorDiv,e.cursors),L(this.cm.display.selectionDiv,e.selection)},Fs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Fs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return T(this.div,t)},Fs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Fs.prototype.blur=function(){this.div.blur()},Fs.prototype.getField=function(){return this.div},Fs.prototype.supportsTouch=function(){return!0},Fs.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Qn(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Fs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Fs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Vs(t,e.anchorNode,e.anchorOffset),n=Vs(t,e.focusNode,e.focusOffset);i&&n&&Qn(t,(function(){Jo(t.doc,So(i,n),V),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Fs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,o=n.display,l=n.doc.sel.primary(),s=l.from(),r=l.to();if(0==s.ch&&s.line>n.firstLine()&&(s=Je(s.line-1,Ze(n.doc,s.line-1).length)),r.ch==Ze(n.doc,r.line).text.length&&r.line<n.lastLine()&&(r=Je(r.line+1,0)),s.line<o.viewFrom||r.line>o.viewTo-1)return!1;s.line==o.viewFrom||0==(e=cn(n,s.line))?(t=Xe(o.view[0].line),i=o.view[0].node):(t=Xe(o.view[e].line),i=o.view[e-1].node.nextSibling);var a,c,u=cn(n,r.line);if(u==o.view.length-1?(a=o.viewTo-1,c=o.lineDiv.lastChild):(a=Xe(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!i)return!1;for(var d=n.doc.splitLines(function(e,t,i,n,o){var l="",s=!1,r=e.doc.lineSeparator(),a=!1;function c(){s&&(l+=r,a&&(l+=r),s=a=!1)}function u(e){e&&(c(),l+=e)}function d(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void u(i);var l,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(Je(n,0),Je(o+1,0),(m=+h,function(e){return e.id==m}));return void(p.length&&(l=p[0].find(0))&&u(je(e.doc,l.from,l.to).join(r)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(a=!0),f&&(s=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;d(t),t!=i;)t=t.nextSibling,a=!1;return l}(n,i,c,t,a)),h=je(n.doc,Je(t,0),Je(a,Ze(n.doc,a).text.length));d.length>1&&h.length>1;)if(Y(d)==Y(h))d.pop(),h.pop(),a--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}for(var p=0,f=0,g=d[0],m=h[0],b=Math.min(g.length,m.length);p<b&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var v=Y(d),y=Y(h),_=Math.min(v.length-(1==d.length?p:0),y.length-(1==h.length?p:0));f<_&&v.charCodeAt(v.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==h.length&&t==s.line)for(;p&&p>s.ch&&v.charCodeAt(v.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;d[d.length-1]=v.slice(0,v.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var x=Je(t,p),w=Je(a,h.length?Y(h).length-f:0);return d.length>1||d[0]||et(x,w)?(fl(n.doc,d,x,w,"+input"),!0):void 0},Fs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Fs.prototype.reset=function(){this.forceCompositionEnd()},Fs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Fs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Fs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Qn(this.cm,(function(){return un(e.cm)}))},Fs.prototype.setUneditable=function(e){e.contentEditable="false"},Fs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Jn(this.cm,Ts)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Fs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Fs.prototype.onContextMenu=function(){},Fs.prototype.resetPosition=function(){},Fs.prototype.needsContentAttribute=!0;var qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};qs.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var o=this.textarea;function l(e){if(!ge(n,e)){if(n.somethingSelected())Ns({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Is(n);Ns({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(i.prevInput="",o.value=t.text.join("\n"),D(o))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(o.style.width="0px"),de(o,"input",(function(){s&&r>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()})),de(o,"paste",(function(e){ge(n,e)||Ms(e,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())})),de(o,"cut",l),de(o,"copy",l),de(e.scroller,"paste",(function(t){if(!_i(e,t)&&!ge(n,t)){if(!o.dispatchEvent)return n.state.pasteIncoming=+new Date,void i.focus();var l=new Event("paste");l.clipboardData=t.clipboardData,o.dispatchEvent(l)}})),de(e.lineSpace,"selectstart",(function(t){_i(e,t)||ye(t)})),de(o,"compositionstart",(function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),de(o,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},qs.prototype.createField=function(e){this.wrapper=Os(),this.textarea=this.wrapper.firstChild},qs.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},qs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=mn(e);if(e.options.moveInputWithCursor){var o=Zi(e,i.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+s.top-l.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+s.left-l.left))}return n},qs.prototype.showSelection=function(e){var t=this.cm.display;L(t.cursorDiv,e.cursors),L(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&D(this.textarea),s&&r>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",s&&r>=9&&(this.hasSelection=null))}},qs.prototype.getField=function(){return this.textarea},qs.prototype.supportsTouch=function(){return!1},qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||M()!=this.textarea))try{this.textarea.focus()}catch(e){}},qs.prototype.blur=function(){this.textarea.blur()},qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qs.prototype.receivedFocus=function(){this.slowPoll()},qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},qs.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))}))},qs.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Te(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=i.value;if(o==n&&!t.somethingSelected())return!1;if(s&&r>=9&&this.hasSelection===o||v&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=o.charCodeAt(0);if(8203!=l||n||(n="\u200b"),8666==l)return this.reset(),this.cm.execCommand("undo")}for(var a=0,c=Math.min(n.length,o.length);a<c&&n.charCodeAt(a)==o.charCodeAt(a);)++a;return Qn(t,(function(){Ts(t,o.slice(a),n.length-a,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qs.prototype.onKeyPress=function(){s&&r>=9&&(this.hasSelection=null),this.fastPoll()},qs.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=an(i,e),c=n.scroller.scrollTop;if(l&&!d){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(l)&&Jn(i,Jo)(i.doc,So(l),V);var u,h=o.style.cssText,p=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",a&&(u=window.scrollY),n.input.focus(),a&&window.scrollTo(null,u),n.input.reset(),i.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=b,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),s&&r>=9&&m(),C){we(e);var g=function(){pe(window,"mouseup",g),setTimeout(b,20)};de(window,"mouseup",g)}else setTimeout(b,50)}function m(){if(null!=o.selectionStart){var e=i.somethingSelected(),l="\u200b"+(e?o.value:"");o.value="\u21da",o.value=l,t.prevInput=e?"":"\u200b",o.selectionStart=1,o.selectionEnd=l.length,n.selForContextMenu=i.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,o.style.cssText=h,s&&r<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=o.selectionStart)){(!s||s&&r<9)&&m();var e=0,l=function(){n.selForContextMenu==i.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"\u200b"==t.prevInput?Jn(i,rl)(i):e++<10?n.detectingSelectAll=setTimeout(l,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(l,200)}}},qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},qs.prototype.setUneditable=function(){},qs.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function i(i,n,o,l){e.defaults[i]=n,o&&(t[i]=l?function(e,t,i){i!=xs&&o(e,t,i)}:o)}e.defineOption=i,e.Init=xs,i("value","",(function(e,t){return e.setValue(t)}),!0),i("mode",null,(function(e,t){e.doc.modeOption=t,No(e)}),!0),i("indentUnit",2,No,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,(function(e){To(e),Hi(e),un(e)}),!0),i("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var l=e.text.indexOf(t,o);if(-1==l)break;o=l+t.length,i.push(Je(n,l))}n++}));for(var o=i.length-1;o>=0;o--)fl(e.doc,t,i[o],Je(i[o].line,i[o].ch+t.length))}})),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=xs&&e.refresh()})),i("specialCharPlaceholder",Kt,(function(e){return e.refresh()}),!0),i("electricChars",!0),i("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),i("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),i("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),i("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),i("rtlMoveVisually",!_),i("wholeLineUpdateBefore",!0),i("theme","default",(function(e){_s(e),go(e)}),!0),i("keyMap","default",(function(e,t,i){var n=Xl(t),o=i!=xs&&Xl(i);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)})),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Ss,!0),i("gutters",[],(function(e,t){e.display.gutterSpecs=po(t,e.options.lineNumbers),go(e)}),!0),i("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?ln(e.display)+"px":"0",e.refresh()}),!0),i("coverGutterNextToScrollbar",!1,(function(e){return Pn(e)}),!0),i("scrollbarStyle","native",(function(e){Wn(e),Pn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),i("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=po(e.options.gutters,t),go(e)}),!0),i("firstLineNumber",1,go,!0),i("lineNumberFormatter",(function(e){return e}),go,!0),i("showCursorWhenSelecting",!1,gn,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,(function(e,t){"nocursor"==t&&(kn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),i("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),i("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),i("dragDrop",!0,ks),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,gn,!0),i("singleCursorHeightPerLine",!0,gn,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,To,!0),i("addModeClass",!1,To,!0),i("pollInterval",100),i("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),i("historyEventDelay",1250),i("viewportMargin",10,(function(e){return e.refresh()}),!0),i("maxHighlightLength",1e4,To,!0),i("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),i("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),i("autofocus",null),i("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),i("phrases",null)}(As),function(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,o=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&Jn(this,t[e])(this,i,o),fe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xl(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:eo((function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var n=0,o=i(t);n<e.length&&i(e[n])<=o;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},(function(e){return e.priority})),this.state.modeGen++,un(this)})),removeOverlay:eo((function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void un(this)}})),indentLine:eo((function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ke(this.doc,e)&&Ls(this,e,t,i)})),indentSelection:eo((function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>i&&(Ls(this,o.head.line,e,!0),i=o.head.line,n==this.doc.sel.primIndex&&Nn(this));else{var l=o.from(),s=o.to(),r=Math.max(i,l.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var a=r;a<i;++a)Ls(this,a,e);var c=this.doc.sel.ranges;0==l.ch&&t.length==c.length&&c[n].from().ch>0&&$o(this.doc,n,new Co(l,c[n].to()),V)}}})),getTokenAt:function(e,t){return bt(this,e,t)},getLineTokens:function(e,t){return bt(this,Je(e),t,!0)},getTokenTypeAt:function(e){e=st(this.doc,e);var t,i=dt(this,Ze(this.doc,e.line)),n=0,o=(i.length-1)/2,l=e.ch;if(0==l)t=i[2];else for(;;){var s=n+o>>1;if((s?i[2*s-1]:0)>=l)o=s;else{if(!(i[2*s+1]<l)){t=i[2*s+2];break}n=s+1}}var r=t?t.indexOf("overlay "):-1;return r<0?t:0==r?null:t.slice(0,r-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!i.hasOwnProperty(t))return n;var o=i[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&n.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var r=o[l[t][s]];r&&n.push(r)}else l.helperType&&o[l.helperType]?n.push(o[l.helperType]):o[l.name]&&n.push(o[l.name]);for(var a=0;a<o._global.length;a++){var c=o._global[a];c.pred(l,this)&&-1==P(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(e,t){var i=this.doc;return ht(this,(e=lt(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Zi(this,null==e?i.head:"object"==typeof e?st(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return qi(this,st(this.doc,e),t||"page")},coordsChar:function(e,t){return Yi(this,(e=Wi(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Wi(this,{top:e,left:0},t||"page").top,$e(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,o=!1;if("number"==typeof e){var l=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>l&&(e=l,o=!0),n=Ze(this.doc,e)}else n=e;return Vi(this,n,{top:0,left:0},t||"page",i||o).top+(o?this.doc.height-Vt(n):0)},defaultTextHeight:function(){return tn(this.display)},defaultCharWidth:function(){return nn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var l=this.display,s=(e=Zi(this,st(this.doc,e))).bottom,r=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==n)s=e.top;else if("above"==n||"near"==n){var a=Math.max(l.wrapper.clientHeight,this.doc.height),c=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(s=e.bottom),r+t.offsetWidth>c&&(r=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==o?(r=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?r=0:"middle"==o&&(r=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=r+"px"),i&&function(e,t){var i=Ln(e,t);null!=i.scrollTop&&In(e,i.scrollTop),null!=i.scrollLeft&&On(e,i.scrollLeft)}(this,{left:r,top:s,right:r+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:eo(cs),triggerOnKeyPress:eo(ds),triggerOnKeyUp:us,triggerOnMouseDown:eo(gs),execCommand:function(e){if(es.hasOwnProperty(e))return es[e].call(null,this)},triggerElectric:eo((function(e){Bs(this,e)})),findPosH:function(e,t,i,n){var o=1;t<0&&(o=-1,t=-t);for(var l=st(this.doc,e),s=0;s<t&&!(l=Rs(this.doc,l,o,i,n)).hitSide;++s);return l},moveH:eo((function(e,t){var i=this;this.extendSelectionsBy((function(n){return i.display.shift||i.doc.extend||n.empty()?Rs(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()}),q)})),deleteH:eo((function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):$l(this,(function(i){var o=Rs(n,i.head,e,t,!1);return e<0?{from:o,to:i.head}:{from:i.head,to:o}}))})),findPosV:function(e,t,i,n){var o=1,l=n;t<0&&(o=-1,t=-t);for(var s=st(this.doc,e),r=0;r<t;++r){var a=Zi(this,s,"div");if(null==l?l=a.left:a.left=l,(s=Hs(this,a,o,i)).hitSide)break}return s},moveV:eo((function(e,t){var i=this,n=this.doc,o=[],l=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(s){if(l)return e<0?s.from():s.to();var r=Zi(i,s.head,"div");null!=s.goalColumn&&(r.left=s.goalColumn),o.push(r.left);var a=Hs(i,r,e,t);return"page"==t&&s==n.sel.primary()&&zn(i,qi(i,a,"div").top-r.top),a}),q),o.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=o[s]})),findWordAt:function(e){var t=Ze(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var l=t.charAt(i),s=ee(l,o)?function(e){return ee(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};i>0&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new Co(Je(e.line,i),Je(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?B(this.display.cursorDiv,"CodeMirror-overwrite"):A(this.display.cursorDiv,"CodeMirror-overwrite"),fe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:eo((function(e,t){Tn(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-ki(this)-this.display.barHeight,width:e.scrollWidth-ki(this)-this.display.barWidth,clientHeight:Ai(this),clientWidth:Si(this)}},scrollIntoView:eo((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Je(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Mn(e),e.curOp.scrollToPos=t}(this,e):Bn(this,e.from,e.to,e.margin)})),setSize:eo((function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Ri(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){dn(i,o,"widget");break}++o})),this.curOp.forceUpdate=!0,fe(this,"refresh",this)})),operation:function(e){return Qn(this,e)},startOperation:function(){return Zn(this)},endOperation:function(){return jn(this)},refresh:eo((function(){var e=this.display.cachedTextHeight;un(this),this.curOp.forceUpdate=!0,Hi(this),Tn(this,this.doc.scrollLeft,this.doc.scrollTop),ao(this.display),(null==e||Math.abs(e-tn(this.display))>.5||this.options.lineWrapping)&&rn(this),fe(this,"refresh",this)})),swapDoc:eo((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Do(this,e),Hi(this),this.display.input.reset(),Tn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,si(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ve(e),e.registerHelper=function(t,n,o){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=o},e.registerGlobalHelper=function(t,n,o,l){e.registerHelper(t,n,l),i[t]._global.push({pred:o,val:l})}}(As);var Zs="iter insert remove copy getEditor constructor".split(" ");for(var js in Nl.prototype)Nl.prototype.hasOwnProperty(js)&&P(Zs,js)<0&&(As.prototype[js]=function(e){return function(){return e.apply(this.doc,arguments)}}(Nl.prototype[js]));return ve(Nl),As.inputStyles={textarea:qs,contenteditable:Fs},As.defineMode=function(e){As.defaults.mode||"null"==e||(As.defaults.mode=e),Oe.apply(this,arguments)},As.defineMIME=function(e,t){De[e]=t},As.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),As.defineMIME("text/plain","null"),As.defineExtension=function(e,t){As.prototype[e]=t},As.defineDocExtension=function(e,t){Nl.prototype[e]=t},As.fromTextArea=function(e,t){if((t=t?R(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=M();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=r.getValue()}var o;if(e.form&&(de(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var l=e.form;o=l.submit;try{var s=l.submit=function(){n(),l.submit=o,l.submit(),l.submit=s}}catch(a){}}t.finishInit=function(i){i.save=n,i.getTextArea=function(){return e},i.toTextArea=function(){i.toTextArea=isNaN,n(),e.parentNode.removeChild(i.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var r=As((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return r},function(e){e.off=pe,e.on=de,e.wheelEventPixels=_o,e.Doc=Nl,e.splitLines=Ne,e.countColumn=H,e.findColumn=Z,e.isWordChar=J,e.Pass=U,e.signal=fe,e.Line=Zt,e.changeEnd=Ao,e.scrollbarModel=Vn,e.Pos=Je,e.cmpPos=et,e.modes=Ie,e.mimeModes=De,e.resolveMode=Re,e.getMode=He,e.modeExtensions=Fe,e.extendMode=Pe,e.copyState=Ue,e.startState=We,e.innerMode=Ve,e.commands=es,e.keyMap=Vl,e.keyName=Yl,e.isModifierKey=jl,e.lookupKey=Zl,e.normalizeKeyMap=ql,e.StringStream=qe,e.SharedTextMarker=Al,e.TextMarker=kl,e.LineWidget=xl,e.e_preventDefault=ye,e.e_stopPropagation=_e,e.e_stop=we,e.addClass=B,e.contains=T,e.rmClass=A,e.keyNames=Hl}(As),As.version="5.57.0",As}()},2193:function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"dialog",add:function(e){const t=e.context;t.dialog={kind:"",updateModal:!1,_closeSignal:!1};let i=e.util.createElement("DIV");i.className="se-dialog sun-editor-common";let n=e.util.createElement("DIV");n.className="se-dialog-back",n.style.display="none";let o=e.util.createElement("DIV");o.className="se-dialog-inner",o.style.display="none",i.appendChild(n),i.appendChild(o),t.dialog.modalArea=i,t.dialog.back=n,t.dialog.modal=o,t.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(e)),t.dialog.modal.addEventListener("click",this._onClick_dialog.bind(e)),t.element.relative.appendChild(i),i=null,n=null,o=null},_onMouseDown_dialog:function(e){/se-dialog-inner/.test(e.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(e){e.stopPropagation(),(/close/.test(e.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(e,t){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=t,"full"===this.context.option.popupDisplay?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=e,this.modalForm=this.context[e].modal;const i=this.context[e].focusElement;"function"===typeof this.plugins[e].on&&this.plugins[e].on.call(this,t),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",i&&i.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const e=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,"function"===typeof this.plugins[e].init&&this.plugins[e].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},2209:function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"component",set_container:function(e,t){const i=this.util.createElement("DIV");return i.className="se-component "+t,i.setAttribute("contenteditable",!1),i.appendChild(e),i},set_cover:function(e){const t=this.util.createElement("FIGURE");return t.appendChild(e),t},create_caption:function(){const e=this.util.createElement("FIGCAPTION");return e.setAttribute("contenteditable",!0),e.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",e}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},2210:function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"fileManager",_xmlHttp:null,upload:function(e,t,i,n,o){this.showLoading();const l=this.plugins.fileManager,s=l._xmlHttp=this.util.getXMLHttpRequest();if(s.onreadystatechange=l._callBackUpload.bind(this,s,n,o),s.open("post",e,!0),null!==t&&"object"===typeof t&&this._w.Object.keys(t).length>0)for(let r in t)s.setRequestHeader(r,t[r]);s.send(i)},_callBackUpload:function(e,t,i){if(4===e.readyState)if(200===e.status)try{t(e)}catch(n){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+n.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const t=e.responseText?JSON.parse(e.responseText):e;if("function"!==typeof i||i("",t,this)){const i="[SUNEDITOR.fileManager.upload.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw this.functions.noticeOpen(i),Error(i)}}},checkInfo:function(e,t,i,n,o){let l=[];for(let h=0,p=t.length;h<p;h++)l=l.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(t[h])));const s=this.context[e],r=s._infoList,a=this.plugins.fileManager.setInfo.bind(this);if(l.length===r.length){if(this._componentsInfoReset){for(let t=0,n=l.length;t<n;t++)a(e,l[t],i,null,o);return}{let e=!1;for(let t,i=0,n=r.length;i<n;i++)if(t=r[i],0===l.filter((function(e){return t.src===e.src&&t.index.toString()===e.getAttribute("data-index")})).length){e=!0;break}if(!e)return}}const c=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=e);const u=[],d=[];for(let h=0,p=r.length;h<p;h++)d[h]=r[h].index;for(let h,p=0,f=l.length;p<f;p++)h=l[p],this.util.getParentElement(h,this.util.isMediaComponent)&&/FIGURE/i.test(h.parentElement.nodeName)?!h.getAttribute("data-index")||d.indexOf(1*h.getAttribute("data-index"))<0?(u.push(s._infoIndex),h.removeAttribute("data-index"),a(e,h,i,null,o)):u.push(1*h.getAttribute("data-index")):(u.push(s._infoIndex),n(h));for(let h,p=0;p<r.length;p++)h=r[p].index,u.indexOf(h)>-1||(r.splice(p,1),"function"===typeof i&&i(null,h,"delete",null,0,this),p--);o&&(this.context.resizing._resize_plugin=c)},setInfo:function(e,t,i,n,o){const l=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=e);const s=this.plugins[e],r=this.context[e],a=r._infoList;let c=t.getAttribute("data-index"),u=null,d="";if(n||(n={name:t.getAttribute("data-file-name")||("string"===typeof t.src?t.src.split("/").pop():""),size:t.getAttribute("data-file-size")||0}),!c||this._componentsInfoInit)d="create",c=r._infoIndex++,t.setAttribute("data-index",c),t.setAttribute("data-file-name",n.name),t.setAttribute("data-file-size",n.size),u={src:t.src,index:1*c,name:n.name,size:n.size},a.push(u);else{d="update",c*=1;for(let e=0,t=a.length;e<t;e++)if(c===a[e].index){u=a[e];break}u||(c=r._infoIndex++,u={index:c},a.push(u)),u.src=t.src,u.name=t.getAttribute("data-file-name"),u.size=1*t.getAttribute("data-file-size")}if(u.element=t,u.delete=s.destroy.bind(this,t),u.select=function(e){e.scrollIntoView(!0),this._w.setTimeout(s.select.bind(this,e))}.bind(this,t),o){if(!t.getAttribute("origin-size")&&t.naturalWidth&&t.setAttribute("origin-size",t.naturalWidth+","+t.naturalHeight),!t.getAttribute("data-origin")){const e=this.util.getParentElement(t,this.util.isMediaComponent),i=this.util.getParentElement(t,"FIGURE"),n=this.plugins.resizing._module_getSizeX.call(this,r,t,i,e),o=this.plugins.resizing._module_getSizeY.call(this,r,t,i,e);t.setAttribute("data-origin",n+","+o),t.setAttribute("data-size",n+","+o)}if(!t.style.width){const e=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");s.onModifyMode.call(this,t,null),s.applySize.call(this,e[0],e[1])}this.context.resizing._resize_plugin=l}"function"===typeof i&&i(t,c,d,u,--r._uploadFileLength<0?0:r._uploadFileLength,this)},deleteInfo:function(e,t,i){if(t>=0){const n=this.context[e]._infoList;for(let e=0,o=n.length;e<o;e++)if(t===n[e].index)return n.splice(e,1),void("function"===typeof i&&i(null,t,"delete",null,0,this))}},resetInfo:function(e,t){const i=this.context[e];if("function"===typeof t){const e=i._infoList;for(let i=0,n=e.length;i<n;i++)t(null,e[i].index,"delete",null,0,this)}i._infoList=[],i._infoIndex=0}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},2226:function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"resizing",add:function(e){const t=e.icons,i=e.context;i.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:t.align_justify,left:t.align_left,right:t.align_right,center:t.align_center}};let n=this.setController_resize.call(e);i.resizing.resizeContainer=n,i.resizing.resizeDiv=n.querySelector(".se-modal-resize"),i.resizing.resizeDot=n.querySelector(".se-resize-dot"),i.resizing.resizeDisplay=n.querySelector(".se-resize-display");let o=this.setController_button.call(e);i.resizing.resizeButton=o;let l=i.resizing.resizeHandles=i.resizing.resizeDot.querySelectorAll("span");i.resizing.resizeButtonGroup=o.querySelector("._se_resizing_btn_group"),i.resizing.rotationButtons=o.querySelectorAll("._se_resizing_btn_group ._se_rotation"),i.resizing.percentageButtons=o.querySelectorAll("._se_resizing_btn_group ._se_percentage"),i.resizing.alignMenu=o.querySelector(".se-resizing-align-list"),i.resizing.alignMenuList=i.resizing.alignMenu.querySelectorAll("button"),i.resizing.alignButton=o.querySelector("._se_resizing_align_button"),i.resizing.autoSizeButton=o.querySelector("._se_resizing_btn_group ._se_auto_size"),i.resizing.captionButton=o.querySelector("._se_resizing_caption_button"),n.addEventListener("mousedown",(function(e){e.preventDefault()})),o.addEventListener("mousedown",e.eventStop),l[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o.addEventListener("click",this.onClick_resizeButton.bind(e)),i.element.relative.appendChild(n),i.element.relative.appendChild(o),n=null,o=null,l=null},setController_resize:function(){const e=this.util.createElement("DIV");return e.className="se-controller se-resizing-container",e.style.display="none",e.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',e},setController_button:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-resizing",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+t.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+t.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+t.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+t.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+t.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+t.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+t.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+t.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+t.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+t.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+t.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+t.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+t.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div>",i},_module_getSizeX:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),t?/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.width,2)||100)+"%":t.style.width:""},_module_getSizeY:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),n&&i?this.util.getNumber(i.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?i.style.height:/%$/.test(t.style.height)&&/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.height,2)||100)+"%":t.style.height:t&&t.style.height||""},_module_setModifyInputSize:function(e,t){const i=e._onlyPercentage&&this.context.resizing._rotateVertical;e.proportion.checked=e._proportionChecked="false"!==e._element.getAttribute("data-proportion");let n=i?"":this.plugins.resizing._module_getSizeX.call(this,e);if(n===e._defaultSizeX&&(n=""),e._onlyPercentage&&(n=this.util.getNumber(n,2)),e.inputX.value=n,t.setInputSize.call(this,"x"),!e._onlyPercentage){let t=i?"":this.plugins.resizing._module_getSizeY.call(this,e);t===e._defaultSizeY&&(t=""),e._onlyPercentage&&(t=this.util.getNumber(t,2)),e.inputY.value=t}e.inputX.disabled=!!i,e.inputY.disabled=!!i,e.proportion.disabled=!!i,t.setRatio.call(this)},_module_setInputSize:function(e,t){if(e._onlyPercentage)"x"===t&&e.inputX.value>100&&(e.inputX.value=100);else if(e.proportion.checked&&e._ratio&&/\d/.test(e.inputX.value)&&/\d/.test(e.inputY.value)){const i=e.inputX.value.replace(/\d+|\./g,"")||e.sizeUnit,n=e.inputY.value.replace(/\d+|\./g,"")||e.sizeUnit;if(i!==n)return;const o="%"===i?2:0;"x"===t?e.inputY.value=this.util.getNumber(e._ratioY*this.util.getNumber(e.inputX.value,o),o)+n:e.inputX.value=this.util.getNumber(e._ratioX*this.util.getNumber(e.inputY.value,o),o)+i}},_module_setRatio:function(e){const t=e.inputX.value,i=e.inputY.value;if(e.proportion.checked&&/\d+/.test(t)&&/\d+/.test(i)){if((t.replace(/\d+|\./g,"")||e.sizeUnit)!==(i.replace(/\d+|\./g,"")||e.sizeUnit))e._ratio=!1;else if(!e._ratio){const n=this.util.getNumber(t,0),o=this.util.getNumber(i,0);e._ratio=!0,e._ratioX=n/o,e._ratioY=o/n}}else e._ratio=!1},_module_sizeRevert:function(e){e._onlyPercentage?e.inputX.value=e._origin_w>100?100:e._origin_w:(e.inputX.value=e._origin_w,e.inputY.value=e._origin_h)},_module_saveCurrentSize:function(e){const t=this.plugins.resizing._module_getSizeX.call(this,e),i=this.plugins.resizing._module_getSizeY.call(this,e);e._element.setAttribute("data-size",t+","+i),e._videoRatio&&(e._videoRatio=i)},call_controller_resize:function(e,t){const i=this.context.resizing,n=this.context[t];i._resize_plugin=t;const o=i.resizeContainer,l=i.resizeDiv,s=this.util.getOffset(e,this.context.element.wysiwygFrame),r=i._rotateVertical=/^(90|270)$/.test(Math.abs(e.getAttribute("data-rotate")).toString()),a=r?e.offsetHeight:e.offsetWidth,c=r?e.offsetWidth:e.offsetHeight,u=s.top,d=s.left-this.context.element.wysiwygFrame.scrollLeft;o.style.top=u+"px",o.style.left=d+"px",o.style.width=a+"px",o.style.height=c+"px",l.style.top="0px",l.style.left="0px",l.style.width=a+"px",l.style.height=c+"px";let h=e.getAttribute("data-align")||"basic";h="none"===h?"basic":h;const p=this.util.getParentElement(e,this.util.isComponent),f=this.util.getParentElement(e,"FIGURE"),g=this.plugins.resizing._module_getSizeX.call(this,n,e,f,p)||"auto",m=n._onlyPercentage&&"image"===t?"":", "+(this.plugins.resizing._module_getSizeY.call(this,n,e,f,p)||"auto");this.util.changeTxt(i.resizeDisplay,this.lang.dialogBox[h]+" ("+g+m+")"),i.resizeButtonGroup.style.display=n._resizing?"":"none";const b=!n._resizing||n._resizeDotHide||n._onlyPercentage?"none":"flex",v=i.resizeHandles;for(let k=0,S=v.length;k<S;k++)v[k].style.display=b;if(n._resizing){const e=i.rotationButtons;e[0].style.display=e[1].style.display=n._rotation?"":"none"}const y=i.alignMenuList;this.util.changeElement(i.alignButton.firstElementChild,i.alignIcons[h]);for(let k=0,S=y.length;k<S;k++)y[k].getAttribute("data-value")===h?this.util.addClass(y[k],"on"):this.util.removeClass(y[k],"on");const _=i.percentageButtons,x=/%$/.test(e.style.width)&&/%$/.test(p.style.width)?this.util.getNumber(p.style.width,0)/100+"":"";for(let k=0,S=_.length;k<S;k++)_[k].getAttribute("data-value")===x?this.util.addClass(_[k],"active"):this.util.removeClass(_[k],"active");n._captionShow?(i.captionButton.style.display="",this.util.getChildElement(e.parentNode,"figcaption")?(this.util.addClass(i.captionButton,"active"),n._captionChecked=!0):(this.util.removeClass(i.captionButton,"active"),n._captionChecked=!1)):i.captionButton.style.display="none",this.currentControllerName!==t&&(this.util.setDisabledButtons(!0,this.resizingDisabledButtons),this.controllersOn(i.resizeContainer,i.resizeButton,this.util.setDisabledButtons.bind(this,!1,this.resizingDisabledButtons),e,t));const w=this.context.element.wysiwygFrame.offsetWidth-d-i.resizeButton.offsetWidth;i.resizeButton.style.top=c+u+60+"px",i.resizeButton.style.left=d+(w<0?w:0)+"px",i.resizeButton.firstElementChild.style.left=w<0?20-w+"px":"20px",i._resize_w=a,i._resize_h=c;const C=(e.getAttribute("origin-size")||"").split(",");return i._origin_w=C[0]||e.naturalWidth,i._origin_h=C[1]||e.naturalHeight,{w:a,h:c,t:u,l:d}},_closeAlignMenu:null,openAlignMenu:function(){this.util.addClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("mousedown",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("mousedown",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(e){e.stopPropagation();const t=e.target,i=t.getAttribute("data-command")||t.parentNode.getAttribute("data-command");if(!i)return;const n=t.getAttribute("data-value")||t.parentNode.getAttribute("data-value"),o=this.context.resizing._resize_plugin,l=this.context[o],s=l._element,r=this.plugins[o];if(e.preventDefault(),"function"!==typeof this.plugins.resizing._closeAlignMenu||(this.plugins.resizing._closeAlignMenu(),"onalign"!==i)){switch(i){case"auto":this.plugins.resizing.resetTransform.call(this,s),r.setAutoSize.call(this),this.selectComponent(s,o);break;case"percent":let e=this.plugins.resizing._module_getSizeY.call(this,l);if(this.context.resizing._rotateVertical){const t=s.getAttribute("data-percentage");t&&(e=t.split(",")[1])}this.plugins.resizing.resetTransform.call(this,s),r.setPercentSize.call(this,100*n,null!==this.util.getNumber(e,0)&&/%$/.test(e)?e:""),this.selectComponent(s,o);break;case"mirror":const t=s.getAttribute("data-rotate")||"0";let i=s.getAttribute("data-rotateX")||"",a=s.getAttribute("data-rotateY")||"";"h"===n&&!this.context.resizing._rotateVertical||"v"===n&&this.context.resizing._rotateVertical?a=a?"":"180":i=i?"":"180",s.setAttribute("data-rotateX",i),s.setAttribute("data-rotateY",a),this.plugins.resizing._setTransForm(s,t,i,a);break;case"rotate":const c=this.context.resizing,u=1*s.getAttribute("data-rotate")+1*n,d=this._w.Math.abs(u)>=360?0:u;s.setAttribute("data-rotate",d),c._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(d).toString()),this.plugins.resizing.setTransformSize.call(this,s,null,null),this.selectComponent(s,o);break;case"onalign":return void this.plugins.resizing.openAlignMenu.call(this);case"align":const h="basic"===n?"none":n;r.setAlign.call(this,h,null,null,null),this.selectComponent(s,o);break;case"caption":const p=!l._captionChecked;if(r.openModify.call(this,!0),l._captionChecked=l.captionCheckEl.checked=p,r.update_image.call(this,!1,!1,!1),p){const e=this.util.getChildElement(l._caption,(function(e){return 3===e.nodeType}));e?this.setRange(e,0,e,e.textContent.length):l._caption.focus(),this.controllersOff()}else this.selectComponent(s,o),r.openModify.call(this,!0);break;case"revert":r.setOriginSize.call(this),this.selectComponent(s,o);break;case"update":r.openModify.call(this),this.controllersOff();break;case"delete":r.destroy.call(this)}this.history.push(!1)}},resetTransform:function(e){const t=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,e.style.maxWidth="",e.style.transform="",e.style.transformOrigin="",e.setAttribute("data-rotate",""),e.setAttribute("data-rotateX",""),e.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,t[0]?t[0]:"auto",t[1]?t[1]:"",!0)},setTransformSize:function(e,t,i){let n=e.getAttribute("data-percentage");const o=this.context.resizing._rotateVertical,l=1*e.getAttribute("data-rotate");let s="";if(n&&!o)n=n.split(","),"auto"===n[0]&&"auto"===n[1]?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,n[0],n[1]);else{const n=this.util.getParentElement(e,"FIGURE"),r=t||e.offsetWidth,a=i||e.offsetHeight,c=(o?a:r)+"px",u=(o?r:a)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,r+"px",a+"px",!0),n.style.width=c,n.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":u,o){let e=r/2+"px "+r/2+"px 0",t=a/2+"px "+a/2+"px 0";s=90===l||-270===l?t:e}}e.style.transformOrigin=s,this.plugins.resizing._setTransForm(e,l.toString(),e.getAttribute("data-rotateX")||"",e.getAttribute("data-rotateY")||""),e.style.maxWidth=o?"none":"",this.plugins.resizing.setCaptionPosition.call(this,e)},_setTransForm:function(e,t,i,n){let o=(e.offsetWidth-e.offsetHeight)*(/-/.test(t)?1:-1),l="";if(/[1-9]/.test(t)&&(i||n))switch(l=i?"Y":"X",t){case"90":l=i&&n?"X":n?l:"";break;case"270":o*=-1,l=i&&n?"Y":i?l:"";break;case"-90":l=i&&n?"Y":i?l:"";break;case"-270":o*=-1,l=i&&n?"X":n?l:"";break;default:l=""}t%180===0&&(e.style.maxWidth=""),e.style.transform="rotate("+t+"deg)"+(i?" rotateX("+i+"deg)":"")+(n?" rotateY("+n+"deg)":"")+(l?" translate"+l+"("+o+"px)":"")},setCaptionPosition:function(e){const t=this.util.getChildElement(this.util.getParentElement(e,"FIGURE"),"FIGCAPTION");t&&(t.style.marginTop=(this.context.resizing._rotateVertical?e.offsetWidth-e.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(e){e.stopPropagation(),e.preventDefault();const t=this.context.resizing,i=t._resize_direction=e.target.classList[0];t._resizeClientX=e.clientX,t._resizeClientY=e.clientY,this.context.element.resizeBackground.style.display="block",t.resizeButton.style.display="none",t.resizeDiv.style.float=/l/.test(i)?"right":/r/.test(i)?"left":"none";const n=function(e){if("keydown"===e.type&&27!==e.keyCode)return;const l=t._isChange;t._isChange=!1,this.removeDocEvent("mousemove",o),this.removeDocEvent("mouseup",n),this.removeDocEvent("keydown",n),"keydown"===e.type?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,i),l&&this.history.push(!1))}.bind(this),o=this.plugins.resizing.resizing_element.bind(this,t,i,this.context[t._resize_plugin]);this.addDocEvent("mousemove",o),this.addDocEvent("mouseup",n),this.addDocEvent("keydown",n)},resizing_element:function(e,t,i,n){const o=n.clientX,l=n.clientY;let s=i._element_w,r=i._element_h;const a=i._element_w+(/r/.test(t)?o-e._resizeClientX:e._resizeClientX-o),c=i._element_h+(/b/.test(t)?l-e._resizeClientY:e._resizeClientY-l),u=i._element_h/i._element_w*a;/t/.test(t)&&(e.resizeDiv.style.top=i._element_h-(/h/.test(t)?c:u)+"px"),/l/.test(t)&&(e.resizeDiv.style.left=i._element_w-a+"px"),/r|l/.test(t)&&(e.resizeDiv.style.width=a+"px",s=a),/^(t|b)[^h]$/.test(t)?(e.resizeDiv.style.height=u+"px",r=u):/^(t|b)h$/.test(t)&&(e.resizeDiv.style.height=c+"px",r=c),e._resize_w=s,e._resize_h=r,this.util.changeTxt(e.resizeDisplay,this._w.Math.round(s)+" x "+this._w.Math.round(r)),e._isChange=!0},cancel_controller_resize:function(e){const t=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let i=this._w.Math.round(t?this.context.resizing._resize_h:this.context.resizing._resize_w),n=this._w.Math.round(t?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!t&&!/%$/.test(i)){const e=16,t=this.context.element.wysiwygFrame.clientWidth-2*e-2;this.util.getNumber(i,0)>t&&(n=this._w.Math.round(n/i*t),i=t)}const o=this.context.resizing._resize_plugin;this.plugins[o].setSize.call(this,i,n,!1,e),this.selectComponent(this.context[o]._element,o)}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},2274:function(e,t,i){!function(e){"use strict";e.defineMode("javascript",(function(t,i){var n,o,l=t.indentUnit,s=i.statementIndent,r=i.jsonld,a=i.json||r,c=i.typescript,u=i.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),o=e("keyword d"),l=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:i,do:i,try:i,finally:i,return:o,break:o,continue:o,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:l,typeof:l,instanceof:l,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),h=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function f(e,t,i){return n=e,o=i,t}function g(e,t){var i,n=e.next();if('"'==n||"'"==n)return t.tokenize=(i=n,function(e,t){var n,o=!1;if(r&&"@"==e.peek()&&e.match(p))return t.tokenize=g,f("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=i||o);)o=!o&&"\\"==n;return o||(t.tokenize=g),f("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return f("number","number");if("."==n&&e.match(".."))return f("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return f(n);if("="==n&&e.eat(">"))return f("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return f("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),f("number","number");if("/"==n)return e.eat("*")?(t.tokenize=m,m(e,t)):e.eat("/")?(e.skipToEnd(),f("comment","comment")):Ge(e,t,1)?(function(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),f("regexp","string-2")):(e.eat("="),f("operator","operator",e.current()));if("`"==n)return t.tokenize=b,b(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),f("meta","meta");if("#"==n&&e.eatWhile(u))return f("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),f("comment","comment");if(h.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?f("."):f("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var o=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(o)){var l=d[o];return f(l.type,l.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return f("async","keyword",o)}return f("variable","variable",o)}}function m(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=g;break}n="*"==i}return f("comment","comment")}function b(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==i}return f("quasi","string-2",e.current())}function v(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(i<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,i));n&&(i=n.index)}for(var o=0,l=!1,s=i-1;s>=0;--s){var r=e.string.charAt(s),a="([{}])".indexOf(r);if(a>=0&&a<3){if(!o){++s;break}if(0==--o){"("==r&&(l=!0);break}}else if(a>=3&&a<6)++o;else if(u.test(r))l=!0;else if(/["'\/`]/.test(r))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==r&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(l&&!o){++s;break}}l&&!o&&(t.fatArrowAt=s)}}var y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function _(e,t,i,n,o,l){this.indented=e,this.column=t,this.type=i,this.prev=o,this.info=l,null!=n&&(this.align=n)}function x(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var n=e.context;n;n=n.prev)for(i=n.vars;i;i=i.next)if(i.name==t)return!0}var w={state:null,column:null,marked:null,cc:null};function C(){for(var e=arguments.length-1;e>=0;e--)w.cc.push(arguments[e])}function k(){return C.apply(null,arguments),!0}function S(e,t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}function A(e){var t=w.state;if(w.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,i){if(i){if(i.block){var n=e(t,i.prev);return n?n==i.prev?i:new L(n,i.vars,!0):null}return S(t,i.vars)?i:new L(i.prev,new z(t,i.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!S(e,t.localVars))return void(t.localVars=new z(e,t.localVars));i.globalVars&&!S(e,t.globalVars)&&(t.globalVars=new z(e,t.globalVars))}function E(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function L(e,t,i){this.prev=e,this.vars=t,this.block=i}function z(e,t){this.name=e,this.next=t}var N=new z("this",new z("arguments",null));function T(){w.state.context=new L(w.state.context,w.state.localVars,!1),w.state.localVars=N}function M(){w.state.context=new L(w.state.context,w.state.localVars,!0),w.state.localVars=null}function B(){w.state.localVars=w.state.context.vars,w.state.context=w.state.context.prev}function I(e,t){var i=function(){var i=w.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var o=i.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;i.lexical=new _(n,w.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function D(){var e=w.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function O(e){return function t(i){return i==e?k():";"==e||"}"==i||")"==i||"]"==i?C():k(t)}}function R(e,t){return"var"==e?k(I("vardef",t),ve,O(";"),D):"keyword a"==e?k(I("form"),U,R,D):"keyword b"==e?k(I("form"),R,D):"keyword d"==e?w.stream.match(/^\s*$/,!1)?k():k(I("stat"),W,O(";"),D):"debugger"==e?k(O(";")):"{"==e?k(I("}"),M,le,D,B):";"==e?k():"if"==e?("else"==w.state.lexical.info&&w.state.cc[w.state.cc.length-1]==D&&w.state.cc.pop()(),k(I("form"),U,R,D,ke)):"function"==e?k(Le):"for"==e?k(I("form"),Se,R,D):"class"==e||c&&"interface"==t?(w.marked="keyword",k(I("form","class"==e?e:t),Be,D)):"variable"==e?c&&"declare"==t?(w.marked="keyword",k(R)):c&&("module"==t||"enum"==t||"type"==t)&&w.stream.match(/^\s*\w/,!1)?(w.marked="keyword","enum"==t?k(Ze):"type"==t?k(Ne,O("operator"),ue,O(";")):k(I("form"),ye,O("{"),I("}"),le,D,D)):c&&"namespace"==t?(w.marked="keyword",k(I("form"),F,R,D)):c&&"abstract"==t?(w.marked="keyword",k(R)):k(I("stat"),Q):"switch"==e?k(I("form"),U,O("{"),I("}","switch"),M,le,D,D,B):"case"==e?k(F,O(":")):"default"==e?k(O(":")):"catch"==e?k(I("form"),T,H,R,D,B):"export"==e?k(I("stat"),Re,D):"import"==e?k(I("stat"),Fe,D):"async"==e?k(R):"@"==t?k(F,R):C(I("stat"),F,O(";"),D)}function H(e){if("("==e)return k(Te,O(")"))}function F(e,t){return V(e,t,!1)}function P(e,t){return V(e,t,!0)}function U(e){return"("!=e?C():k(I(")"),W,O(")"),D)}function V(e,t,i){if(w.state.fatArrowAt==w.stream.start){var n=i?X:Y;if("("==e)return k(T,I(")"),ne(Te,")"),D,O("=>"),n,B);if("variable"==e)return C(T,ye,O("=>"),n,B)}var o=i?Z:q;return y.hasOwnProperty(e)?k(o):"function"==e?k(Le,o):"class"==e||c&&"interface"==t?(w.marked="keyword",k(I("form"),Me,D)):"keyword c"==e||"async"==e?k(i?P:F):"("==e?k(I(")"),W,O(")"),D,o):"operator"==e||"spread"==e?k(i?P:F):"["==e?k(I("]"),qe,D,o):"{"==e?oe(ee,"}",null,o):"quasi"==e?C(j,o):"new"==e?k(function(e){return function(t){return"."==t?k(e?K:$):"variable"==t&&c?k(ge,e?Z:q):C(e?P:F)}}(i)):"import"==e?k(F):k()}function W(e){return e.match(/[;\}\)\],]/)?C():C(F)}function q(e,t){return","==e?k(W):Z(e,t,!1)}function Z(e,t,i){var n=0==i?q:Z,o=0==i?F:P;return"=>"==e?k(T,i?X:Y,B):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?k(n):c&&"<"==t&&w.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?k(I(">"),ne(ue,">"),D,n):"?"==t?k(F,O(":"),o):k(o):"quasi"==e?C(j,n):";"!=e?"("==e?oe(P,")","call",n):"."==e?k(J,n):"["==e?k(I("]"),W,O("]"),D,n):c&&"as"==t?(w.marked="keyword",k(ue,n)):"regexp"==e?(w.state.lastType=w.marked="operator",w.stream.backUp(w.stream.pos-w.stream.start-1),k(o)):void 0:void 0}function j(e,t){return"quasi"!=e?C():"${"!=t.slice(t.length-2)?k(j):k(F,G)}function G(e){if("}"==e)return w.marked="string-2",w.state.tokenize=b,k(j)}function Y(e){return v(w.stream,w.state),C("{"==e?R:F)}function X(e){return v(w.stream,w.state),C("{"==e?R:P)}function $(e,t){if("target"==t)return w.marked="keyword",k(q)}function K(e,t){if("target"==t)return w.marked="keyword",k(Z)}function Q(e){return":"==e?k(D,R):C(q,O(";"),D)}function J(e){if("variable"==e)return w.marked="property",k()}function ee(e,t){return"async"==e?(w.marked="property",k(ee)):"variable"==e||"keyword"==w.style?(w.marked="property","get"==t||"set"==t?k(te):(c&&w.state.fatArrowAt==w.stream.start&&(i=w.stream.match(/^\s*:\s*/,!1))&&(w.state.fatArrowAt=w.stream.pos+i[0].length),k(ie))):"number"==e||"string"==e?(w.marked=r?"property":w.style+" property",k(ie)):"jsonld-keyword"==e?k(ie):c&&E(t)?(w.marked="keyword",k(ee)):"["==e?k(F,se,O("]"),ie):"spread"==e?k(P,ie):"*"==t?(w.marked="keyword",k(ee)):":"==e?C(ie):void 0;var i}function te(e){return"variable"!=e?C(ie):(w.marked="property",k(Le))}function ie(e){return":"==e?k(P):"("==e?C(Le):void 0}function ne(e,t,i){function n(o,l){if(i?i.indexOf(o)>-1:","==o){var s=w.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),k((function(i,n){return i==t||n==t?C():C(e)}),n)}return o==t||l==t?k():i&&i.indexOf(";")>-1?C(e):k(O(t))}return function(i,o){return i==t||o==t?k():C(e,n)}}function oe(e,t,i){for(var n=3;n<arguments.length;n++)w.cc.push(arguments[n]);return k(I(t,i),ne(e,t),D)}function le(e){return"}"==e?k():C(R,le)}function se(e,t){if(c){if(":"==e)return k(ue);if("?"==t)return k(se)}}function re(e,t){if(c&&(":"==e||"in"==t))return k(ue)}function ae(e){if(c&&":"==e)return w.stream.match(/^\s*\w+\s+is\b/,!1)?k(F,ce,ue):k(ue)}function ce(e,t){if("is"==t)return w.marked="keyword",k()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(w.marked="keyword",k("typeof"==t?P:ue)):"variable"==e||"void"==t?(w.marked="type",k(fe)):"|"==t||"&"==t?k(ue):"string"==e||"number"==e||"atom"==e?k(fe):"["==e?k(I("]"),ne(ue,"]",","),D,fe):"{"==e?k(I("}"),ne(he,"}",",;"),D,fe):"("==e?k(ne(pe,")"),de,fe):"<"==e?k(ne(ue,">"),ue):void 0}function de(e){if("=>"==e)return k(ue)}function he(e,t){return"variable"==e||"keyword"==w.style?(w.marked="property",k(he)):"?"==t||"number"==e||"string"==e?k(he):":"==e?k(ue):"["==e?k(O("variable"),re,O("]"),he):"("==e?C(ze,he):void 0}function pe(e,t){return"variable"==e&&w.stream.match(/^\s*[?:]/,!1)||"?"==t?k(pe):":"==e?k(ue):"spread"==e?k(pe):C(ue)}function fe(e,t){return"<"==t?k(I(">"),ne(ue,">"),D,fe):"|"==t||"."==e||"&"==t?k(ue):"["==e?k(ue,O("]"),fe):"extends"==t||"implements"==t?(w.marked="keyword",k(ue)):"?"==t?k(ue,O(":"),ue):void 0}function ge(e,t){if("<"==t)return k(I(">"),ne(ue,">"),D,fe)}function me(){return C(ue,be)}function be(e,t){if("="==t)return k(ue)}function ve(e,t){return"enum"==t?(w.marked="keyword",k(Ze)):C(ye,se,we,Ce)}function ye(e,t){return c&&E(t)?(w.marked="keyword",k(ye)):"variable"==e?(A(t),k()):"spread"==e?k(ye):"["==e?oe(xe,"]"):"{"==e?oe(_e,"}"):void 0}function _e(e,t){return"variable"!=e||w.stream.match(/^\s*:/,!1)?("variable"==e&&(w.marked="property"),"spread"==e?k(ye):"}"==e?C():"["==e?k(F,O("]"),O(":"),_e):k(O(":"),ye,we)):(A(t),k(we))}function xe(){return C(ye,we)}function we(e,t){if("="==t)return k(P)}function Ce(e){if(","==e)return k(ve)}function ke(e,t){if("keyword b"==e&&"else"==t)return k(I("form","else"),R,D)}function Se(e,t){return"await"==t?k(Se):"("==e?k(I(")"),Ae,D):void 0}function Ae(e){return"var"==e?k(ve,Ee):"variable"==e?k(Ee):C(Ee)}function Ee(e,t){return")"==e?k():";"==e?k(Ee):"in"==t||"of"==t?(w.marked="keyword",k(F,Ee)):C(F,Ee)}function Le(e,t){return"*"==t?(w.marked="keyword",k(Le)):"variable"==e?(A(t),k(Le)):"("==e?k(T,I(")"),ne(Te,")"),D,ae,R,B):c&&"<"==t?k(I(">"),ne(me,">"),D,Le):void 0}function ze(e,t){return"*"==t?(w.marked="keyword",k(ze)):"variable"==e?(A(t),k(ze)):"("==e?k(T,I(")"),ne(Te,")"),D,ae,B):c&&"<"==t?k(I(">"),ne(me,">"),D,ze):void 0}function Ne(e,t){return"keyword"==e||"variable"==e?(w.marked="type",k(Ne)):"<"==t?k(I(">"),ne(me,">"),D):void 0}function Te(e,t){return"@"==t&&k(F,Te),"spread"==e?k(Te):c&&E(t)?(w.marked="keyword",k(Te)):c&&"this"==e?k(se,we):C(ye,se,we)}function Me(e,t){return"variable"==e?Be(e,t):Ie(e,t)}function Be(e,t){if("variable"==e)return A(t),k(Ie)}function Ie(e,t){return"<"==t?k(I(">"),ne(me,">"),D,Ie):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(w.marked="keyword"),k(c?ue:F,Ie)):"{"==e?k(I("}"),De,D):void 0}function De(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&E(t))&&w.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(w.marked="keyword",k(De)):"variable"==e||"keyword"==w.style?(w.marked="property",k(Oe,De)):"number"==e||"string"==e?k(Oe,De):"["==e?k(F,se,O("]"),Oe,De):"*"==t?(w.marked="keyword",k(De)):c&&"("==e?C(ze,De):";"==e||","==e?k(De):"}"==e?k():"@"==t?k(F,De):void 0}function Oe(e,t){if("?"==t)return k(Oe);if(":"==e)return k(ue,we);if("="==t)return k(P);var i=w.state.lexical.prev;return C(i&&"interface"==i.info?ze:Le)}function Re(e,t){return"*"==t?(w.marked="keyword",k(We,O(";"))):"default"==t?(w.marked="keyword",k(F,O(";"))):"{"==e?k(ne(He,"}"),We,O(";")):C(R)}function He(e,t){return"as"==t?(w.marked="keyword",k(O("variable"))):"variable"==e?C(P,He):void 0}function Fe(e){return"string"==e?k():"("==e?C(F):C(Pe,Ue,We)}function Pe(e,t){return"{"==e?oe(Pe,"}"):("variable"==e&&A(t),"*"==t&&(w.marked="keyword"),k(Ve))}function Ue(e){if(","==e)return k(Pe,Ue)}function Ve(e,t){if("as"==t)return w.marked="keyword",k(Pe)}function We(e,t){if("from"==t)return w.marked="keyword",k(F)}function qe(e){return"]"==e?k():C(ne(P,"]"))}function Ze(){return C(I("form"),ye,O("{"),I("}"),ne(je,"}"),D,D)}function je(){return C(ye,we)}function Ge(e,t,i){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}return B.lex=!0,D.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new _((e||0)-l,0,"block",!1),localVars:i.localVars,context:i.localVars&&new L(null,null,!1),indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),v(e,t)),t.tokenize!=m&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==n?i:(t.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",function(e,t,i,n,o){var l=e.cc;for(w.state=e,w.stream=o,w.marked=null,w.cc=l,w.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((l.length?l.pop():a?F:R)(i,n)){for(;l.length&&l[l.length-1].lex;)l.pop()();return w.marked?w.marked:"variable"==i&&x(e,n)?"variable-2":t}}(t,i,n,o,e))},indent:function(t,n){if(t.tokenize==m)return e.Pass;if(t.tokenize!=g)return 0;var o,r=n&&n.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==D)a=a.prev;else if(u!=ke)break}for(;("stat"==a.type||"form"==a.type)&&("}"==r||(o=t.cc[t.cc.length-1])&&(o==q||o==Z)&&!/^[,\.=+\-*:?[\(]/.test(n));)a=a.prev;s&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var d=a.type,p=r==d;return"vardef"==d?a.indented+("operator"==t.lastType||","==t.lastType?a.info.length+1:0):"form"==d&&"{"==r?a.indented:"form"==d?a.indented+l:"stat"==d?a.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||h.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?s||l:0):"switch"!=a.info||p||0==i.doubleIndentSwitch?a.align?a.column+(p?0:1):a.indented+(p?0:l):a.indented+(/^(?:case|default)\b/.test(n)?l:2*l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:r,jsonMode:a,expressionAllowed:Ge,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=F&&t!=P||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(i(2191))},2275:function(e,t,i){!function(e){"use strict";var t="CodeMirror-lint-markers";function i(e){e.parentNode&&e.parentNode.removeChild(e)}function n(t,n,o,l){var s=function(t,i,n){var o=document.createElement("div");function l(t){if(!o.parentNode)return e.off(document,"mousemove",l);o.style.top=Math.max(0,t.clientY-o.offsetHeight-5)+"px",o.style.left=t.clientX+5+"px"}return o.className="CodeMirror-lint-tooltip cm-s-"+t.options.theme,o.appendChild(n.cloneNode(!0)),t.state.lint.options.selfContain?t.getWrapperElement().appendChild(o):document.body.appendChild(o),e.on(document,"mousemove",l),l(i),null!=o.style.opacity&&(o.style.opacity=1),o}(t,n,o);function r(){var t;e.off(l,"mouseout",r),s&&((t=s).parentNode&&(null==t.style.opacity&&i(t),t.style.opacity=0,setTimeout((function(){i(t)}),600)),s=null)}var a=setInterval((function(){if(s)for(var e=l;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){r();break}}if(!s)return clearInterval(a)}),400);e.on(l,"mouseout",r)}function o(e,t,i){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=i,this.onMouseOver=function(t){!function(e,t){var i=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(i.className)){for(var o=i.getBoundingClientRect(),l=(o.left+o.right)/2,s=(o.top+o.bottom)/2,a=e.findMarksAt(e.coordsChar({left:l,top:s},"client")),c=[],u=0;u<a.length;++u){var d=a[u].__annotation;d&&c.push(d)}c.length&&function(e,t,i){for(var o=i.target||i.srcElement,l=document.createDocumentFragment(),s=0;s<t.length;s++){var a=t[s];l.appendChild(r(a))}n(e,i,l,o)}(e,c,t)}}(e,t)},this.waitingFor=0}function l(e){var i=e.state.lint;i.hasGutter&&e.clearGutter(t);for(var n=0;n<i.marked.length;++n)i.marked[n].clear();i.marked.length=0}function s(t,i,o,l,s){var r=document.createElement("div"),a=r;return r.className="CodeMirror-lint-marker-"+o,l&&((a=r.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=s&&e.on(a,"mouseover",(function(e){n(t,e,i,a)})),r}function r(e){var t=e.severity;t||(t="error");var i=document.createElement("div");return i.className="CodeMirror-lint-message-"+t,"undefined"!=typeof e.messageHTML?i.innerHTML=e.messageHTML:i.appendChild(document.createTextNode(e.message)),i}function a(t){var i=t.state.lint.options,n=i.options||i,o=i.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(o)if(i.async||o.async)!function(t,i,n){var o=t.state.lint,l=++o.waitingFor;function s(){l=-1,t.off("change",s)}t.on("change",s),i(t.getValue(),(function(i,n){t.off("change",s),o.waitingFor==l&&(n&&i instanceof e&&(i=n),t.operation((function(){c(t,i)})))}),n,t)}(t,o,n);else{var l=o(t.getValue(),n,t);if(!l)return;l.then?l.then((function(e){t.operation((function(){c(t,e)}))})):t.operation((function(){c(t,l)}))}}function c(e,i){l(e);for(var n,o,a=e.state.lint,c=a.options,u=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],o=n.from.line;(t[o]||(t[o]=[])).push(n)}return t}(i),d=0;d<u.length;++d){var h=u[d];if(h){for(var p=null,f=a.hasGutter&&document.createDocumentFragment(),g=0;g<h.length;++g){var m=h[g],b=m.severity;b||(b="error"),o=b,p="error"==(n=p)?n:o,c.formatAnnotation&&(m=c.formatAnnotation(m)),a.hasGutter&&f.appendChild(r(m)),m.to&&a.marked.push(e.markText(m.from,m.to,{className:"CodeMirror-lint-mark-"+b,__annotation:m}))}a.hasGutter&&e.setGutterMarker(d,t,s(e,f,p,h.length>1,a.options.tooltips))}}c.onUpdateLinting&&c.onUpdateLinting(i,u,e)}function u(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){a(e)}),t.options.delay||500))}e.defineOption("lint",!1,(function(i,n,s){if(s&&s!=e.Init&&(l(i),!1!==i.state.lint.options.lintOnChange&&i.off("change",u),e.off(i.getWrapperElement(),"mouseover",i.state.lint.onMouseOver),clearTimeout(i.state.lint.timeout),delete i.state.lint),n){for(var r=i.getOption("gutters"),c=!1,d=0;d<r.length;++d)r[d]==t&&(c=!0);var h=i.state.lint=new o(i,(p=n)instanceof Function?{getAnnotations:p}:(p&&!0!==p||(p={}),p),c);!1!==h.options.lintOnChange&&i.on("change",u),0!=h.options.tooltips&&"gutter"!=h.options.tooltips&&e.on(i.getWrapperElement(),"mouseover",h.onMouseOver),a(i)}var p})),e.defineExtension("performLint",(function(){this.state.lint&&a(this)}))}(i(2191))},2276:function(e,t,i){!function(e){"use strict";e.registerHelper("lint","javascript",(function(t,i){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];i.indent||(i.indent=1),JSHINT(t,i,i.globals);var n=JSHINT.data().errors,o=[];return n&&function(t,i){for(var n=0;n<t.length;n++){var o=t[n];if(o){if(o.line<=0){window.console&&window.console.warn("Cannot display JSHint error (invalid line "+o.line+")",o);continue}var l=o.character-1,s=l+1;if(o.evidence){var r=o.evidence.substring(l).search(/.\b/);r>-1&&(s+=r)}var a={message:o.reason,severity:o.code&&o.code.startsWith("W")?"warning":"error",from:e.Pos(o.line-1,l),to:e.Pos(o.line-1,s)};i.push(a)}}}(n,o),o}))}(i(2191))},2277:function(e,t,i){!function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},i=e.Pos;function n(e,i){return"pairs"==i&&"string"==typeof e?e:"object"==typeof e&&null!=e[i]?e[i]:t[i]}e.defineOption("autoCloseBrackets",!1,(function(t,i,s){s&&s!=e.Init&&(t.removeKeyMap(o),t.state.closeBrackets=null),i&&(l(n(i,"pairs")),t.state.closeBrackets=i,t.addKeyMap(o))}));var o={Backspace:function(t){var o=r(t);if(!o||t.getOption("disableInput"))return e.Pass;for(var l=n(o,"pairs"),s=t.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var u=c(t,s[a].head);if(!u||l.indexOf(u)%2!=0)return e.Pass}for(a=s.length-1;a>=0;a--){var d=s[a].head;t.replaceRange("",i(d.line,d.ch-1),i(d.line,d.ch+1),"+delete")}},Enter:function(t){var i=r(t),o=i&&n(i,"explode");if(!o||t.getOption("disableInput"))return e.Pass;for(var l=t.listSelections(),s=0;s<l.length;s++){if(!l[s].empty())return e.Pass;var a=c(t,l[s].head);if(!a||o.indexOf(a)%2!=0)return e.Pass}t.operation((function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),t.execCommand("goCharLeft"),l=t.listSelections();for(var i=0;i<l.length;i++){var n=l[i].head.line;t.indentLine(n,null,!0),t.indentLine(n+1,null,!0)}}))}};function l(e){for(var t=0;t<e.length;t++){var i=e.charAt(t),n="'"+i+"'";o[n]||(o[n]=s(i))}}function s(t){return function(o){return function(t,o){var l=r(t);if(!l||t.getOption("disableInput"))return e.Pass;var s=n(l,"pairs"),c=s.indexOf(o);if(-1==c)return e.Pass;for(var d,h=n(l,"closeBefore"),p=n(l,"triples"),f=s.charAt(c+1)==o,g=t.listSelections(),m=c%2==0,b=0;b<g.length;b++){var v,y=g[b],_=y.head,x=t.getRange(_,i(_.line,_.ch+1));if(m&&!y.empty())v="surround";else if(!f&&m||x!=o)if(f&&_.ch>1&&p.indexOf(o)>=0&&t.getRange(i(_.line,_.ch-2),_)==o+o){if(_.ch>2&&/\bstring/.test(t.getTokenTypeAt(i(_.line,_.ch-2))))return e.Pass;v="addFour"}else if(f){var w=0==_.ch?" ":t.getRange(i(_.line,_.ch-1),_);if(e.isWordChar(x)||w==o||e.isWordChar(w))return e.Pass;v="both"}else{if(!m||!(0===x.length||/\s/.test(x)||h.indexOf(x)>-1))return e.Pass;v="both"}else v=f&&u(t,_)?"both":p.indexOf(o)>=0&&t.getRange(_,i(_.line,_.ch+3))==o+o+o?"skipThree":"skip";if(d){if(d!=v)return e.Pass}else d=v}var C=c%2?s.charAt(c-1):o,k=c%2?o:s.charAt(c+1);t.operation((function(){if("skip"==d)t.execCommand("goCharRight");else if("skipThree"==d)for(var e=0;e<3;e++)t.execCommand("goCharRight");else if("surround"==d){var i=t.getSelections();for(e=0;e<i.length;e++)i[e]=C+i[e]+k;for(t.replaceSelections(i,"around"),i=t.listSelections().slice(),e=0;e<i.length;e++)i[e]=a(i[e]);t.setSelections(i)}else"both"==d?(t.replaceSelection(C+k,null),t.triggerElectric(C+k),t.execCommand("goCharLeft")):"addFour"==d&&(t.replaceSelection(C+C+C+C,"before"),t.execCommand("goCharRight"))}))}(o,t)}}function r(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function a(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new i(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new i(t.head.line,t.head.ch+(n?1:-1))}}function c(e,t){var n=e.getRange(i(t.line,t.ch-1),i(t.line,t.ch+1));return 2==n.length?n:null}function u(e,t){var n=e.getTokenAt(i(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}l(t.pairs+"`")}(i(2191))},2278:function(e,t,i){!function(e){"use strict";function t(e){e.state.markedSelection&&e.operation((function(){!function(e){if(!e.somethingSelected())return s(e);if(e.listSelections().length>1)return r(e);var t=e.getCursor("start"),i=e.getCursor("end"),n=e.state.markedSelection;if(!n.length)return l(e,t,i);var a=n[0].find(),c=n[n.length-1].find();if(!a||!c||i.line-t.line<=8||o(t,c.to)>=0||o(i,a.from)<=0)return r(e);for(;o(t,a.from)>0;)n.shift().clear(),a=n[0].find();for(o(t,a.from)<0&&(a.to.line-t.line<8?(n.shift().clear(),l(e,t,a.to,0)):l(e,t,a.from,0));o(i,c.to)<0;)n.pop().clear(),c=n[n.length-1].find();o(i,c.to)>0&&(i.line-c.from.line<8?(n.pop().clear(),l(e,c.from,i)):l(e,c.to,i))}(e)}))}function i(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation((function(){s(e)}))}e.defineOption("styleSelectedText",!1,(function(n,o,l){var a=l&&l!=e.Init;o&&!a?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof o?o:"CodeMirror-selectedtext",r(n),n.on("cursorActivity",t),n.on("change",i)):!o&&a&&(n.off("cursorActivity",t),n.off("change",i),s(n),n.state.markedSelection=n.state.markedSelectionStyle=null)}));var n=e.Pos,o=e.cmpPos;function l(e,t,i,l){if(0!=o(t,i))for(var s=e.state.markedSelection,r=e.state.markedSelectionStyle,a=t.line;;){var c=a==t.line?t:n(a,0),u=a+8,d=u>=i.line,h=d?i:n(u,0),p=e.markText(c,h,{className:r});if(null==l?s.push(p):s.splice(l++,0,p),d)break;a=u}}function s(e){for(var t=e.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function r(e){s(e);for(var t=e.listSelections(),i=0;i<t.length;i++)l(e,t[i].from(),t[i].to())}}(i(2191))},2279:function(e,t,i){var n=i(2280);"string"===typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(113)(n,o);n.locals&&(e.exports=n.locals)},2280:function(e,t,i){(e.exports=i(112)(!1)).push([e.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},2281:function(e,t,i){var n=i(2282);"string"===typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(113)(n,o);n.locals&&(e.exports=n.locals)},2282:function(e,t,i){(e.exports=i(112)(!1)).push([e.i,"/*\n\n    Name:       3024 night\n    Author:     Jan T. Sott (http://github.com/idleberg)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-3024-night.CodeMirror { background: #090300; color: #d6d5d4; }\n.cm-s-3024-night div.CodeMirror-selected { background: #3a3432; }\n.cm-s-3024-night .CodeMirror-line::selection, .cm-s-3024-night .CodeMirror-line > span::selection, .cm-s-3024-night .CodeMirror-line > span > span::selection { background: rgba(58, 52, 50, .99); }\n.cm-s-3024-night .CodeMirror-line::-moz-selection, .cm-s-3024-night .CodeMirror-line > span::-moz-selection, .cm-s-3024-night .CodeMirror-line > span > span::-moz-selection { background: rgba(58, 52, 50, .99); }\n.cm-s-3024-night .CodeMirror-gutters { background: #090300; border-right: 0px; }\n.cm-s-3024-night .CodeMirror-guttermarker { color: #db2d20; }\n.cm-s-3024-night .CodeMirror-guttermarker-subtle { color: #5c5855; }\n.cm-s-3024-night .CodeMirror-linenumber { color: #5c5855; }\n\n.cm-s-3024-night .CodeMirror-cursor { border-left: 1px solid #807d7c; }\n\n.cm-s-3024-night span.cm-comment { color: #cdab53; }\n.cm-s-3024-night span.cm-atom { color: #a16a94; }\n.cm-s-3024-night span.cm-number { color: #a16a94; }\n\n.cm-s-3024-night span.cm-property, .cm-s-3024-night span.cm-attribute { color: #01a252; }\n.cm-s-3024-night span.cm-keyword { color: #db2d20; }\n.cm-s-3024-night span.cm-string { color: #fded02; }\n\n.cm-s-3024-night span.cm-variable { color: #01a252; }\n.cm-s-3024-night span.cm-variable-2 { color: #01a0e4; }\n.cm-s-3024-night span.cm-def { color: #e8bbd0; }\n.cm-s-3024-night span.cm-bracket { color: #d6d5d4; }\n.cm-s-3024-night span.cm-tag { color: #db2d20; }\n.cm-s-3024-night span.cm-link { color: #a16a94; }\n.cm-s-3024-night span.cm-error { background: #db2d20; color: #807d7c; }\n\n.cm-s-3024-night .CodeMirror-activeline-background { background: #2F2F2F; }\n.cm-s-3024-night .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n",""])},2292:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=45)}([function(e,t,i){e.exports=i(43)()},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"dialog",add:function(e){const t=e.context;t.dialog={kind:"",updateModal:!1,_closeSignal:!1};let i=e.util.createElement("DIV");i.className="se-dialog sun-editor-common";let n=e.util.createElement("DIV");n.className="se-dialog-back",n.style.display="none";let o=e.util.createElement("DIV");o.className="se-dialog-inner",o.style.display="none",i.appendChild(n),i.appendChild(o),t.dialog.modalArea=i,t.dialog.back=n,t.dialog.modal=o,t.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(e)),t.dialog.modal.addEventListener("click",this._onClick_dialog.bind(e)),t.element.relative.appendChild(i),i=null,n=null,o=null},_onMouseDown_dialog:function(e){/se-dialog-inner/.test(e.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(e){e.stopPropagation(),(/close/.test(e.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(e,t){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=t,"full"===this.context.option.popupDisplay?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=e,this.modalForm=this.context[e].modal;const i=this.context[e].focusElement;"function"===typeof this.plugins[e].on&&this.plugins[e].on.call(this,t),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",i&&i.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const e=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,"function"===typeof this.plugins[e].init&&this.plugins[e].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"component",set_container:function(e,t){const i=this.util.createElement("DIV");return i.className="se-component "+t,i.setAttribute("contenteditable",!1),i.appendChild(e),i},set_cover:function(e){const t=this.util.createElement("FIGURE");return t.appendChild(e),t},create_caption:function(){const e=this.util.createElement("FIGCAPTION");return e.setAttribute("contenteditable",!0),e.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",e}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"fileManager",_xmlHttp:null,upload:function(e,t,i,n,o){this.showLoading();const l=this.plugins.fileManager,s=l._xmlHttp=this.util.getXMLHttpRequest();if(s.onreadystatechange=l._callBackUpload.bind(this,s,n,o),s.open("post",e,!0),null!==t&&"object"===typeof t&&this._w.Object.keys(t).length>0)for(let r in t)s.setRequestHeader(r,t[r]);s.send(i)},_callBackUpload:function(e,t,i){if(4===e.readyState)if(200===e.status)try{t(e)}catch(n){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+n.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const t=e.responseText?JSON.parse(e.responseText):e;if("function"!==typeof i||i("",t,this)){const i="[SUNEDITOR.fileManager.upload.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw this.functions.noticeOpen(i),Error(i)}}},checkInfo:function(e,t,i,n,o){let l=[];for(let h=0,p=t.length;h<p;h++)l=l.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(t[h])));const s=this.context[e],r=s._infoList,a=this.plugins.fileManager.setInfo.bind(this);if(l.length===r.length){if(this._componentsInfoReset){for(let t=0,n=l.length;t<n;t++)a(e,l[t],i,null,o);return}{let e=!1;for(let t,i=0,n=r.length;i<n;i++)if(t=r[i],0===l.filter((function(e){return t.src===e.src&&t.index.toString()===e.getAttribute("data-index")})).length){e=!0;break}if(!e)return}}const c=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=e);const u=[],d=[];for(let h=0,p=r.length;h<p;h++)d[h]=r[h].index;for(let h,p=0,f=l.length;p<f;p++)h=l[p],this.util.getParentElement(h,this.util.isMediaComponent)&&/FIGURE/i.test(h.parentElement.nodeName)?!h.getAttribute("data-index")||d.indexOf(1*h.getAttribute("data-index"))<0?(u.push(s._infoIndex),h.removeAttribute("data-index"),a(e,h,i,null,o)):u.push(1*h.getAttribute("data-index")):(u.push(s._infoIndex),n(h));for(let h,p=0;p<r.length;p++)h=r[p].index,u.indexOf(h)>-1||(r.splice(p,1),"function"===typeof i&&i(null,h,"delete",null,0,this),p--);o&&(this.context.resizing._resize_plugin=c)},setInfo:function(e,t,i,n,o){const l=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=e);const s=this.plugins[e],r=this.context[e],a=r._infoList;let c=t.getAttribute("data-index"),u=null,d="";if(n||(n={name:t.getAttribute("data-file-name")||("string"===typeof t.src?t.src.split("/").pop():""),size:t.getAttribute("data-file-size")||0}),!c||this._componentsInfoInit)d="create",c=r._infoIndex++,t.setAttribute("data-index",c),t.setAttribute("data-file-name",n.name),t.setAttribute("data-file-size",n.size),u={src:t.src,index:1*c,name:n.name,size:n.size},a.push(u);else{d="update",c*=1;for(let e=0,t=a.length;e<t;e++)if(c===a[e].index){u=a[e];break}u||(c=r._infoIndex++,u={index:c},a.push(u)),u.src=t.src,u.name=t.getAttribute("data-file-name"),u.size=1*t.getAttribute("data-file-size")}if(u.element=t,u.delete=s.destroy.bind(this,t),u.select=function(e){e.scrollIntoView(!0),this._w.setTimeout(s.select.bind(this,e))}.bind(this,t),o){if(!t.getAttribute("origin-size")&&t.naturalWidth&&t.setAttribute("origin-size",t.naturalWidth+","+t.naturalHeight),!t.getAttribute("data-origin")){const e=this.util.getParentElement(t,this.util.isMediaComponent),i=this.util.getParentElement(t,"FIGURE"),n=this.plugins.resizing._module_getSizeX.call(this,r,t,i,e),o=this.plugins.resizing._module_getSizeY.call(this,r,t,i,e);t.setAttribute("data-origin",n+","+o),t.setAttribute("data-size",n+","+o)}if(!t.style.width){const e=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");s.onModifyMode.call(this,t,null),s.applySize.call(this,e[0],e[1])}this.context.resizing._resize_plugin=l}"function"===typeof i&&i(t,c,d,u,--r._uploadFileLength<0?0:r._uploadFileLength,this)},deleteInfo:function(e,t,i){if(t>=0){const n=this.context[e]._infoList;for(let e=0,o=n.length;e<o;e++)if(t===n[e].index)return n.splice(e,1),void("function"===typeof i&&i(null,t,"delete",null,0,this))}},resetInfo:function(e,t){const i=this.context[e];if("function"===typeof t){const e=i._infoList;for(let i=0,n=e.length;i<n;i++)t(null,e[i].index,"delete",null,0,this)}i._infoList=[],i._infoIndex=0}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";t.a={name:"colorPicker",add:function(e){const t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]};let i=this.createColorList(e,this._makeColorList);t.colorPicker.colorListHTML=i,i=null},createColorList:function(e,t){const i=e.context.option,n=e.lang,o=i.colorList&&0!==i.colorList.length?i.colorList:["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"];let l=[],s='<div class="se-list-inner">';for(let r,a=0,c=o.length;a<c;a++)r=o[a],r&&("string"===typeof r&&(l.push(r),a<c-1)||(l.length>0&&(s+='<div class="se-selector-color">'+t(l)+"</div>",l=[]),"object"===typeof r&&(s+='<div class="se-selector-color">'+t(r)+"</div>")));return s+='<form class="se-submenu-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",s},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i,n=0,o=e.length;n<o;n++)i=e[n],"string"===typeof i&&(t+='<li><button type="button" data-value="'+i+'" title="'+i+'" style="background-color:'+i+';"></button></li>');return t+="</ul>",t},init:function(e,t){const i=this.plugins.colorPicker;let n=t||(i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor);n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const o=this.context.colorPicker._colorList;if(o)for(let l=0,s=o.length;l<s;l++)n.toLowerCase()===o[l].getAttribute("data-value").toLowerCase()?this.util.addClass(o[l],"active"):this.util.removeClass(o[l],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="";const i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&0===t.length;)1===e.nodeType&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){const t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map((function(e){return parseInt(e,10)}));return this.util.removeItem(t),i.length>=3&&"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1)}}},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"resizing",add:function(e){const t=e.icons,i=e.context;i.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:t.align_justify,left:t.align_left,right:t.align_right,center:t.align_center}};let n=this.setController_resize.call(e);i.resizing.resizeContainer=n,i.resizing.resizeDiv=n.querySelector(".se-modal-resize"),i.resizing.resizeDot=n.querySelector(".se-resize-dot"),i.resizing.resizeDisplay=n.querySelector(".se-resize-display");let o=this.setController_button.call(e);i.resizing.resizeButton=o;let l=i.resizing.resizeHandles=i.resizing.resizeDot.querySelectorAll("span");i.resizing.resizeButtonGroup=o.querySelector("._se_resizing_btn_group"),i.resizing.rotationButtons=o.querySelectorAll("._se_resizing_btn_group ._se_rotation"),i.resizing.percentageButtons=o.querySelectorAll("._se_resizing_btn_group ._se_percentage"),i.resizing.alignMenu=o.querySelector(".se-resizing-align-list"),i.resizing.alignMenuList=i.resizing.alignMenu.querySelectorAll("button"),i.resizing.alignButton=o.querySelector("._se_resizing_align_button"),i.resizing.autoSizeButton=o.querySelector("._se_resizing_btn_group ._se_auto_size"),i.resizing.captionButton=o.querySelector("._se_resizing_caption_button"),n.addEventListener("mousedown",(function(e){e.preventDefault()})),o.addEventListener("mousedown",e.eventStop),l[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o.addEventListener("click",this.onClick_resizeButton.bind(e)),i.element.relative.appendChild(n),i.element.relative.appendChild(o),n=null,o=null,l=null},setController_resize:function(){const e=this.util.createElement("DIV");return e.className="se-controller se-resizing-container",e.style.display="none",e.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',e},setController_button:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-resizing",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+t.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+t.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+t.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+t.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+t.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+t.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+t.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+t.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+t.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+t.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+t.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+t.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+t.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div>",i},_module_getSizeX:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),t?/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.width,2)||100)+"%":t.style.width:""},_module_getSizeY:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),n&&i?this.util.getNumber(i.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?i.style.height:/%$/.test(t.style.height)&&/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.height,2)||100)+"%":t.style.height:t&&t.style.height||""},_module_setModifyInputSize:function(e,t){const i=e._onlyPercentage&&this.context.resizing._rotateVertical;e.proportion.checked=e._proportionChecked="false"!==e._element.getAttribute("data-proportion");let n=i?"":this.plugins.resizing._module_getSizeX.call(this,e);if(n===e._defaultSizeX&&(n=""),e._onlyPercentage&&(n=this.util.getNumber(n,2)),e.inputX.value=n,t.setInputSize.call(this,"x"),!e._onlyPercentage){let t=i?"":this.plugins.resizing._module_getSizeY.call(this,e);t===e._defaultSizeY&&(t=""),e._onlyPercentage&&(t=this.util.getNumber(t,2)),e.inputY.value=t}e.inputX.disabled=!!i,e.inputY.disabled=!!i,e.proportion.disabled=!!i,t.setRatio.call(this)},_module_setInputSize:function(e,t){if(e._onlyPercentage)"x"===t&&e.inputX.value>100&&(e.inputX.value=100);else if(e.proportion.checked&&e._ratio&&/\d/.test(e.inputX.value)&&/\d/.test(e.inputY.value)){const i=e.inputX.value.replace(/\d+|\./g,"")||e.sizeUnit,n=e.inputY.value.replace(/\d+|\./g,"")||e.sizeUnit;if(i!==n)return;const o="%"===i?2:0;"x"===t?e.inputY.value=this.util.getNumber(e._ratioY*this.util.getNumber(e.inputX.value,o),o)+n:e.inputX.value=this.util.getNumber(e._ratioX*this.util.getNumber(e.inputY.value,o),o)+i}},_module_setRatio:function(e){const t=e.inputX.value,i=e.inputY.value;if(e.proportion.checked&&/\d+/.test(t)&&/\d+/.test(i)){if((t.replace(/\d+|\./g,"")||e.sizeUnit)!==(i.replace(/\d+|\./g,"")||e.sizeUnit))e._ratio=!1;else if(!e._ratio){const n=this.util.getNumber(t,0),o=this.util.getNumber(i,0);e._ratio=!0,e._ratioX=n/o,e._ratioY=o/n}}else e._ratio=!1},_module_sizeRevert:function(e){e._onlyPercentage?e.inputX.value=e._origin_w>100?100:e._origin_w:(e.inputX.value=e._origin_w,e.inputY.value=e._origin_h)},_module_saveCurrentSize:function(e){const t=this.plugins.resizing._module_getSizeX.call(this,e),i=this.plugins.resizing._module_getSizeY.call(this,e);e._element.setAttribute("data-size",t+","+i),e._videoRatio&&(e._videoRatio=i)},call_controller_resize:function(e,t){const i=this.context.resizing,n=this.context[t];i._resize_plugin=t;const o=i.resizeContainer,l=i.resizeDiv,s=this.util.getOffset(e,this.context.element.wysiwygFrame),r=i._rotateVertical=/^(90|270)$/.test(Math.abs(e.getAttribute("data-rotate")).toString()),a=r?e.offsetHeight:e.offsetWidth,c=r?e.offsetWidth:e.offsetHeight,u=s.top,d=s.left-this.context.element.wysiwygFrame.scrollLeft;o.style.top=u+"px",o.style.left=d+"px",o.style.width=a+"px",o.style.height=c+"px",l.style.top="0px",l.style.left="0px",l.style.width=a+"px",l.style.height=c+"px";let h=e.getAttribute("data-align")||"basic";h="none"===h?"basic":h;const p=this.util.getParentElement(e,this.util.isComponent),f=this.util.getParentElement(e,"FIGURE"),g=this.plugins.resizing._module_getSizeX.call(this,n,e,f,p)||"auto",m=n._onlyPercentage&&"image"===t?"":", "+(this.plugins.resizing._module_getSizeY.call(this,n,e,f,p)||"auto");this.util.changeTxt(i.resizeDisplay,this.lang.dialogBox[h]+" ("+g+m+")"),i.resizeButtonGroup.style.display=n._resizing?"":"none";const b=!n._resizing||n._resizeDotHide||n._onlyPercentage?"none":"flex",v=i.resizeHandles;for(let k=0,S=v.length;k<S;k++)v[k].style.display=b;if(n._resizing){const e=i.rotationButtons;e[0].style.display=e[1].style.display=n._rotation?"":"none"}const y=i.alignMenuList;this.util.changeElement(i.alignButton.firstElementChild,i.alignIcons[h]);for(let k=0,S=y.length;k<S;k++)y[k].getAttribute("data-value")===h?this.util.addClass(y[k],"on"):this.util.removeClass(y[k],"on");const _=i.percentageButtons,x=/%$/.test(e.style.width)&&/%$/.test(p.style.width)?this.util.getNumber(p.style.width,0)/100+"":"";for(let k=0,S=_.length;k<S;k++)_[k].getAttribute("data-value")===x?this.util.addClass(_[k],"active"):this.util.removeClass(_[k],"active");n._captionShow?(i.captionButton.style.display="",this.util.getChildElement(e.parentNode,"figcaption")?(this.util.addClass(i.captionButton,"active"),n._captionChecked=!0):(this.util.removeClass(i.captionButton,"active"),n._captionChecked=!1)):i.captionButton.style.display="none",this.currentControllerName!==t&&(this.util.setDisabledButtons(!0,this.resizingDisabledButtons),this.controllersOn(i.resizeContainer,i.resizeButton,this.util.setDisabledButtons.bind(this,!1,this.resizingDisabledButtons),e,t));const w=this.context.element.wysiwygFrame.offsetWidth-d-i.resizeButton.offsetWidth;i.resizeButton.style.top=c+u+60+"px",i.resizeButton.style.left=d+(w<0?w:0)+"px",i.resizeButton.firstElementChild.style.left=w<0?20-w+"px":"20px",i._resize_w=a,i._resize_h=c;const C=(e.getAttribute("origin-size")||"").split(",");return i._origin_w=C[0]||e.naturalWidth,i._origin_h=C[1]||e.naturalHeight,{w:a,h:c,t:u,l:d}},_closeAlignMenu:null,openAlignMenu:function(){this.util.addClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("mousedown",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("mousedown",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(e){e.stopPropagation();const t=e.target,i=t.getAttribute("data-command")||t.parentNode.getAttribute("data-command");if(!i)return;const n=t.getAttribute("data-value")||t.parentNode.getAttribute("data-value"),o=this.context.resizing._resize_plugin,l=this.context[o],s=l._element,r=this.plugins[o];if(e.preventDefault(),"function"!==typeof this.plugins.resizing._closeAlignMenu||(this.plugins.resizing._closeAlignMenu(),"onalign"!==i)){switch(i){case"auto":this.plugins.resizing.resetTransform.call(this,s),r.setAutoSize.call(this),this.selectComponent(s,o);break;case"percent":let e=this.plugins.resizing._module_getSizeY.call(this,l);if(this.context.resizing._rotateVertical){const t=s.getAttribute("data-percentage");t&&(e=t.split(",")[1])}this.plugins.resizing.resetTransform.call(this,s),r.setPercentSize.call(this,100*n,null!==this.util.getNumber(e,0)&&/%$/.test(e)?e:""),this.selectComponent(s,o);break;case"mirror":const t=s.getAttribute("data-rotate")||"0";let i=s.getAttribute("data-rotateX")||"",a=s.getAttribute("data-rotateY")||"";"h"===n&&!this.context.resizing._rotateVertical||"v"===n&&this.context.resizing._rotateVertical?a=a?"":"180":i=i?"":"180",s.setAttribute("data-rotateX",i),s.setAttribute("data-rotateY",a),this.plugins.resizing._setTransForm(s,t,i,a);break;case"rotate":const c=this.context.resizing,u=1*s.getAttribute("data-rotate")+1*n,d=this._w.Math.abs(u)>=360?0:u;s.setAttribute("data-rotate",d),c._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(d).toString()),this.plugins.resizing.setTransformSize.call(this,s,null,null),this.selectComponent(s,o);break;case"onalign":return void this.plugins.resizing.openAlignMenu.call(this);case"align":const h="basic"===n?"none":n;r.setAlign.call(this,h,null,null,null),this.selectComponent(s,o);break;case"caption":const p=!l._captionChecked;if(r.openModify.call(this,!0),l._captionChecked=l.captionCheckEl.checked=p,r.update_image.call(this,!1,!1,!1),p){const e=this.util.getChildElement(l._caption,(function(e){return 3===e.nodeType}));e?this.setRange(e,0,e,e.textContent.length):l._caption.focus(),this.controllersOff()}else this.selectComponent(s,o),r.openModify.call(this,!0);break;case"revert":r.setOriginSize.call(this),this.selectComponent(s,o);break;case"update":r.openModify.call(this),this.controllersOff();break;case"delete":r.destroy.call(this)}this.history.push(!1)}},resetTransform:function(e){const t=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,e.style.maxWidth="",e.style.transform="",e.style.transformOrigin="",e.setAttribute("data-rotate",""),e.setAttribute("data-rotateX",""),e.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,t[0]?t[0]:"auto",t[1]?t[1]:"",!0)},setTransformSize:function(e,t,i){let n=e.getAttribute("data-percentage");const o=this.context.resizing._rotateVertical,l=1*e.getAttribute("data-rotate");let s="";if(n&&!o)n=n.split(","),"auto"===n[0]&&"auto"===n[1]?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,n[0],n[1]);else{const n=this.util.getParentElement(e,"FIGURE"),r=t||e.offsetWidth,a=i||e.offsetHeight,c=(o?a:r)+"px",u=(o?r:a)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,r+"px",a+"px",!0),n.style.width=c,n.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":u,o){let e=r/2+"px "+r/2+"px 0",t=a/2+"px "+a/2+"px 0";s=90===l||-270===l?t:e}}e.style.transformOrigin=s,this.plugins.resizing._setTransForm(e,l.toString(),e.getAttribute("data-rotateX")||"",e.getAttribute("data-rotateY")||""),e.style.maxWidth=o?"none":"",this.plugins.resizing.setCaptionPosition.call(this,e)},_setTransForm:function(e,t,i,n){let o=(e.offsetWidth-e.offsetHeight)*(/-/.test(t)?1:-1),l="";if(/[1-9]/.test(t)&&(i||n))switch(l=i?"Y":"X",t){case"90":l=i&&n?"X":n?l:"";break;case"270":o*=-1,l=i&&n?"Y":i?l:"";break;case"-90":l=i&&n?"Y":i?l:"";break;case"-270":o*=-1,l=i&&n?"X":n?l:"";break;default:l=""}t%180===0&&(e.style.maxWidth=""),e.style.transform="rotate("+t+"deg)"+(i?" rotateX("+i+"deg)":"")+(n?" rotateY("+n+"deg)":"")+(l?" translate"+l+"("+o+"px)":"")},setCaptionPosition:function(e){const t=this.util.getChildElement(this.util.getParentElement(e,"FIGURE"),"FIGCAPTION");t&&(t.style.marginTop=(this.context.resizing._rotateVertical?e.offsetWidth-e.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(e){e.stopPropagation(),e.preventDefault();const t=this.context.resizing,i=t._resize_direction=e.target.classList[0];t._resizeClientX=e.clientX,t._resizeClientY=e.clientY,this.context.element.resizeBackground.style.display="block",t.resizeButton.style.display="none",t.resizeDiv.style.float=/l/.test(i)?"right":/r/.test(i)?"left":"none";const n=function(e){if("keydown"===e.type&&27!==e.keyCode)return;const l=t._isChange;t._isChange=!1,this.removeDocEvent("mousemove",o),this.removeDocEvent("mouseup",n),this.removeDocEvent("keydown",n),"keydown"===e.type?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,i),l&&this.history.push(!1))}.bind(this),o=this.plugins.resizing.resizing_element.bind(this,t,i,this.context[t._resize_plugin]);this.addDocEvent("mousemove",o),this.addDocEvent("mouseup",n),this.addDocEvent("keydown",n)},resizing_element:function(e,t,i,n){const o=n.clientX,l=n.clientY;let s=i._element_w,r=i._element_h;const a=i._element_w+(/r/.test(t)?o-e._resizeClientX:e._resizeClientX-o),c=i._element_h+(/b/.test(t)?l-e._resizeClientY:e._resizeClientY-l),u=i._element_h/i._element_w*a;/t/.test(t)&&(e.resizeDiv.style.top=i._element_h-(/h/.test(t)?c:u)+"px"),/l/.test(t)&&(e.resizeDiv.style.left=i._element_w-a+"px"),/r|l/.test(t)&&(e.resizeDiv.style.width=a+"px",s=a),/^(t|b)[^h]$/.test(t)?(e.resizeDiv.style.height=u+"px",r=u):/^(t|b)h$/.test(t)&&(e.resizeDiv.style.height=c+"px",r=c),e._resize_w=s,e._resize_h=r,this.util.changeTxt(e.resizeDisplay,this._w.Math.round(s)+" x "+this._w.Math.round(r)),e._isChange=!0},cancel_controller_resize:function(e){const t=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let i=this._w.Math.round(t?this.context.resizing._resize_h:this.context.resizing._resize_w),n=this._w.Math.round(t?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!t&&!/%$/.test(i)){const e=16,t=this.context.element.wysiwygFrame.clientWidth-2*e-2;this.util.getNumber(i,0)>t&&(n=this._w.Math.round(n/i*t),i=t)}const o=this.context.resizing._resize_plugin;this.plugins[o].setSize.call(this,i,n,!1,e),this.selectComponent(this.context[o]._element,o)}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},function(e,t){e.exports=i(1)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(e){const t=e.context;t.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let i=e.util.createElement("DIV");i.className="se-file-browser sun-editor-common";let n=e.util.createElement("DIV");n.className="se-file-browser-back";let o=e.util.createElement("DIV");o.className="se-file-browser-inner",o.innerHTML=this.set_browser(e),i.appendChild(n),i.appendChild(o),this._loading=i.querySelector(".se-loading-box"),t.fileBrowser.area=i,t.fileBrowser.header=o.querySelector(".se-file-browser-header"),t.fileBrowser.titleArea=o.querySelector(".se-file-browser-title"),t.fileBrowser.tagArea=o.querySelector(".se-file-browser-tags"),t.fileBrowser.body=o.querySelector(".se-file-browser-body"),t.fileBrowser.list=o.querySelector(".se-file-browser-list"),t.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(e)),t.fileBrowser.list.addEventListener("click",this.onClickFile.bind(e)),o.addEventListener("mousedown",this._onMouseDown_browser.bind(e)),o.addEventListener("click",this._onClick_browser.bind(e)),t.element.relative.appendChild(i),i=null,n=null,o=null},set_browser:function(e){return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" aria-label="Close" title="'+e.lang.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(e){/se-file-browser-inner/.test(e.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(e){e.stopPropagation(),(/close/.test(e.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(e,t){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const i=this.context.fileBrowser;i.contextPlugin=e,i.selectorHandler=t;const n=this.context[e],o=n.listClass;this.util.hasClass(i.list,o)||(i.list.className="se-file-browser-list "+o),"full"===this.context.option.popupDisplay?i.area.style.position="fixed":i.area.style.position="absolute",i.titleArea.textContent=n.title,i.area.style.display="block",this.plugins.fileBrowser._drawFileList.call(this,this.context[e].url)},_bindClose:null,close:function(){const e=this.plugins.fileBrowser;e._xmlHttp&&e._xmlHttp.abort(),e._bindClose&&(this._d.removeEventListener("keydown",e._bindClose),e._bindClose=null);const t=this.context.fileBrowser;t.area.style.display="none",t.selectorHandler=null,t.selectedTags=[],t.items=[],t.list.innerHTML=t.tagArea.innerHTML=t.titleArea.textContent="","function"===typeof this.plugins[t.contextPlugin].init&&this.plugins[t.contextPlugin].init.call(this),t.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(e){const t=this.plugins.fileBrowser,i=t._xmlHttp=this.util.getXMLHttpRequest();i.onreadystatechange=t._callBackGet.bind(this,i),i.open("get",e,!0),i.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(e){if(4===e.readyState)if(this.plugins.fileBrowser._xmlHttp=null,200===e.status)try{this.plugins.fileBrowser._drawListItem.call(this,JSON.parse(e.responseText).result,!0)}catch(t){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+t.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),0!==e.status){const t=e.responseText?JSON.parse(e.responseText):e,i="[SUNEDITOR.fileBrowser.get.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw Error(i)}},_drawListItem:function(e,t){const i=this.context.fileBrowser,n=this.context[i.contextPlugin],o=[],l=e.length,s=n.columnSize||i.columnSize,r=s<=1?1:Math.round(l/s)||1,a=n.itemTemplateHandler;let c="",u='<div class="se-file-item-column">',d=1;for(let h,p,f=0;f<l;f++)if(h=e[f],p=h.tag?"string"===typeof h.tag?h.tag.split(","):h.tag:[],p=h.tag=p.map((function(e){return e.trim()})),u+=a(h),(f+1)%r===0&&d<s&&f+1<l&&(d++,u+='</div><div class="se-file-item-column">'),t&&p.length>0)for(let e,t=0,i=p.length;t<i;t++)e=p[t],e&&-1===o.indexOf(e)&&(o.push(e),c+='<a title="'+e+'">'+e+"</a>");u+="</div>",i.list.innerHTML=u,t&&(i.items=e,i.tagArea.innerHTML=c,i.tagElements=i.tagArea.querySelectorAll("A"))},onClickTag:function(e){const t=e.target;if(!this.util.isAnchor(t))return;const i=t.textContent,n=this.plugins.fileBrowser,o=this.context.fileBrowser,l=o.tagArea.querySelector('a[title="'+i+'"]'),s=o.selectedTags,r=s.indexOf(i);r>-1?(s.splice(r,1),this.util.removeClass(l,"on")):(s.push(i),this.util.addClass(l,"on")),n._drawListItem.call(this,0===s.length?o.items:o.items.filter((function(e){return e.tag.some((function(e){return s.indexOf(e)>-1}))})),!1)},onClickFile:function(e){e.preventDefault(),e.stopPropagation();const t=this.context.fileBrowser,i=t.list;let n=e.target,o=null;if(n===i)return;for(;i!==n.parentNode&&(o=n.getAttribute("data-command"),!o);)n=n.parentNode;if(!o)return;const l=t.selectorHandler||this.context[t.contextPlugin].selectorHandler;this.plugins.fileBrowser.close.call(this),l(n)}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";i.r(t),t.default={name:"align",display:"submenu",add:function(e,t){const i=e.icons,n=e.context;n.align={targetButton:t,_alignList:null,currentAlign:"",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let o=this.setSubmenu.call(e),l=o.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),n.align._alignList=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,o),o=null,l=null},setSubmenu:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-submenu se-list-layer se-list-align",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-btn-align" data-command="justifyleft" data-value="left" title="'+e.toolbar.alignLeft+'"><span class="se-list-icon">'+t.align_left+"</span>"+e.toolbar.alignLeft+'</button></li><li><button type="button" class="se-btn-list se-btn-align" data-command="justifycenter" data-value="center" title="'+e.toolbar.alignCenter+'"><span class="se-list-icon">'+t.align_center+"</span>"+e.toolbar.alignCenter+'</button></li><li><button type="button" class="se-btn-list se-btn-align" data-command="justifyright" data-value="right" title="'+e.toolbar.alignRight+'"><span class="se-list-icon">'+t.align_right+"</span>"+e.toolbar.alignRight+'</button></li><li><button type="button" class="se-btn-list se-btn-align" data-command="justifyfull" data-value="justify" title="'+e.toolbar.alignJustify+'"><span class="se-list-icon">'+t.align_justify+"</span>"+e.toolbar.alignJustify+"</button></li></ul></div>",i},active:function(e){const t=this.context.align.targetButton,i=t.firstElementChild;if(e){if(this.util.isFormatElement(e)){const n=e.style.textAlign;if(n)return this.util.changeElement(i,this.context.align.icons[n]),t.setAttribute("data-focus",n),!0}}else this.util.changeElement(i,this.context.align.icons.left),t.removeAttribute("data-focus");return!1},on:function(){const e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||"left";if(i!==e.currentAlign){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentAlign=i}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.getSelectedElements();for(let o=0,l=n.length;o<l;o++)this.util.setStyle(n[o],"textAlign","left"===i?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}}},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n);t.default={name:"math",display:"dialog",add:function(e){e.addModule([o.a]);const t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,_mathExp:null};let i=this.setDialog.call(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener("keyup",this._renderMathExp.bind(e,t.math),!1),t.math.focusElement.addEventListener("change",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",function(e){this.fontSize=e.target.value}.bind(t.math.previewElement.style),!1);let n=this.setController_MathButton.call(e);t.math.mathController=n,t.math._mathExp=null,n.addEventListener("mousedown",e.eventStop),i.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-dialog-content",t.style.display="none",t.innerHTML='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+e.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="https://katex.org/docs/supported.html" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size"><option value="1em">1</option><option value="1.5em">1.5</option><option value="2em">2</option><option value="2.5em">2.5</option></select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t},setController_MathButton:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-controller se-controller-link",t.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+this.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+this.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",t},open:function(){this.plugins.dialog.open.call(this,"math","math"===this.currentControllerName)},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp"))return;const t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML}}},_renderer:function(e){const t=this.context.option.katex;return t.src.renderToString(e,t.options)},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=function(){if(0===this.context.math.focusElement.value.trim().length)return!1;const e=this.context.math,t=e.focusElement.value,i=e.previewElement.querySelector(".katex");if(!i)return!1;if(i.className="__se__katex "+i.className,i.setAttribute("contenteditable",!1),i.setAttribute("data-exp",this.util.HTMLEncoder(t)),i.setAttribute("data-font-size",e.fontSizeElement.value),i.style.fontSize=e.fontSizeElement.value,this.context.dialog.updateModal){const t=this.util.getParentElement(e._mathExp,".katex");t.parentNode.replaceChild(i,t),this.setRange(i,0,i,1)}else{const e=this.getSelectedElements();if(e.length>1){const t=this.util.createElement(e[0].nodeName);if(t.appendChild(i),!this.insertNode(t,null,!0))return!1}else if(!this.insertNode(i,null,!0))return!1;const t=this.util.createTextNode(this.util.zeroWidthSpace);i.parentNode.insertBefore(t,i.nextSibling),this.setRange(i,0,i,1)}return e.focusElement.value="",e.fontSizeElement.value="1em",e.previewElement.style.fontSize="1em",e.previewElement.innerHTML="",!0}.bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch(e){this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(e){if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0}else this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();return!1},on:function(e){if(e){const e=this.context.math;if(e._mathExp){const t=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),i=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=t,e.fontSizeElement.value=i,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t),e.previewElement.style.fontSize=i}}else this.plugins.math.init.call(this)},call_controller:function(e){this.context.math._mathExp=e;const t=this.context.math.mathController,i=this.util.getOffset(e,this.context.element.wysiwygFrame);t.style.top=i.top+e.offsetHeight+10+"px",t.style.left=i.left-this.context.element.wysiwygFrame.scrollLeft+"px",t.style.display="block";const n=this.context.element.wysiwygFrame.offsetWidth-(t.offsetLeft+t.offsetWidth);n<0?(t.style.left=t.offsetLeft+n+"px",t.firstElementChild.style.left=20-n+"px"):t.firstElementChild.style.left="20px",this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}}},function(e,t,i){"use strict";i.r(t);var n=i(8),o=i.n(n);t.default={name:"imageGallery",add:function(e){e.addModule([o.a]);const t=e.context;t.imageGallery={title:e.lang.toolbar.imageGallery,url:t.options.imageGalleryUrl,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){const t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+e.src+'" alt="'+(e.alt||t)+'" data-command="pick"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e){this.callPlugin("image",function(){const t={name:e.parentNode.querySelector(".__se__img_name").textContent,size:0};this.context.image._altText=e.alt,this.plugins.image.create_image.call(this,e.src,"",!1,this.context.image._origin_w,this.context.image._origin_h,"none",t)}.bind(this),null)}}},function(e,t,i){"use strict";i.r(t),t.default={name:"blockquote",display:"command",add:function(e,t){e.context.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(e){if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0}else this.util.removeClass(this.context.blockquote.targetButton,"active");return!1},action:function(){const e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}}},function(e,t,i){"use strict";i.r(t),t.default={name:"font",display:"submenu",add:function(e,t){const i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu.call(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");let n,o,l,s;i.className="se-submenu se-list-layer se-list-font-family";let r=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(l=0,s=r.length;l<s;l++)n=r[l],o=n.split(",")[0],a+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+o+'" title="'+o+'" style="font-family:'+n+';">'+o+"</button></li>";return a+="</ul></div>",i.innerHTML=a,i},active:function(e){const t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){const n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,n),!0}}else{const e=this.lang.toolbar.font;this.util.changeTxt(t,e),this.util.changeTxt(i,e)}return!1},on:function(){const e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontFamily=t,this.nodeChange(e,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}}},function(e,t,i){"use strict";i.r(t);var n=i(5);t.default={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([n.a]);const i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let o=this.setSubmenu.call(e);i.fontColor.colorInput=o.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),o.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),o.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),o.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,o),o=null},setSubmenu:function(){const e=this.context.colorPicker.colorListHTML,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML=e,t},on:function(){const e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput,e._defaultColor="#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}}},function(e,t,i){"use strict";i.r(t),t.default={name:"fontSize",display:"submenu",add:function(e,t){const i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-size";const n=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(let l,s=0,r=e.fontSizeUnit,a=n.length;s<a;s++)l=n[s],o+='<li><button type="button" class="se-btn-list" data-value="'+l+r+'" title="'+l+r+'" style="font-size:'+l+r+';">'+l+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},active:function(e){if(e){if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,e.style.fontSize),!0}else this.util.changeTxt(this.context.fontSize.targetText,this.lang.toolbar.fontSize);return!1},on:function(){const e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontSize=t,this.nodeChange(e,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}}},function(e,t,i){"use strict";i.r(t),t.default={name:"formatBlock",display:"submenu",add:function(e,t){const i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu.call(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.option,t=this.lang.toolbar,i=this.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],o=e.formats&&0!==e.formats.length?e.formats:n;let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let s,r,a,c,u,d,h,p=0,f=o.length;p<f;p++)s=o[p],"string"===typeof s&&n.indexOf(s)>-1?(r=s.toLowerCase(),a="blockquote"===r?"range":"pre"===r?"free":"replace",u=/^h/.test(r)?r.match(/\d+/)[0]:"",c=t["tag_"+(u?"h":r)]+u,h="",d=""):(r=s.tag.toLowerCase(),a=s.command,c=s.name||r,h=s.class,d=h?' class="'+h+'"':""),l+='<li><button type="button" class="se-btn-list" data-command="'+a+'" data-value="'+r+'" data-class="'+h+'" title="'+c+'"><'+r+d+">"+c+"</"+r+"></button></li>";return l+="</ul></div>",i.innerHTML=l,i},active:function(e){let t=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText,n=this.context.formatBlock.targetTooltip;if(e){if(this.util.isFormatElement(e)){const o=this.context.formatBlock._formatList,l=e.nodeName.toLowerCase(),s=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let e,i=0,n=o.length;i<n;i++)if(e=o[i],l===e.getAttribute("data-value")&&s===e.getAttribute("data-class")){t=e.title;break}return this.util.changeTxt(i,t),this.util.changeTxt(n,t),i.setAttribute("data-value",l),i.setAttribute("data-class",s),!0}}else this.util.changeTxt(i,t),this.util.changeTxt(n,t);return!1},on:function(){const e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let e,i=0,o=t.length;i<o;i++)e=t[i],n===e.getAttribute("data-value")+e.getAttribute("data-class")?this.util.addClass(e,"active"):this.util.removeClass(e,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,o=null,l="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),l=t.getAttribute("data-class"),i){o=t.firstChild;break}t=t.parentNode}if(i){if("range"===i){const e=o.cloneNode(!1);this.applyRangeFormatElement(e)}else{let e=this.getRange(),t=this.getSelectedElementsAndComponents(!1);if(0===t.length&&(e=this.getRange_addLine(e),t=this.getSelectedElementsAndComponents(!1),0===t.length))return;const s=e.startOffset,r=e.endOffset,a=this.util;let c=t[0],u=t[t.length-1];const d=a.getNodePath(e.startContainer,c,null,null),h=a.getNodePath(e.endContainer,u,null,null),p=this.detachList(t,!1);p.sc&&(c=p.sc),p.ec&&(u=p.ec),this.setRange(a.getNodeFromPath(d,c),s,a.getNodeFromPath(h,u),r);const f=this.getSelectedElementsAndComponents(!1);if("free"===i){const e=f.length-1;let t=f[e].parentNode,i=o.cloneNode(!1);const n=i;for(let l,s,r,c,u,d,h=e,p=!0;h>=0;h--)if(l=f[h],l!==(f[h+1]?f[h+1].parentNode:null)){if(d=a.isComponent(l),s=d?"":l.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),r=a.getParentElement(l,(function(e){return e.parentNode===t})),(t!==l.parentNode||d)&&(a.isFormatElement(t)?(t.parentNode.insertBefore(i,t.nextSibling),t=t.parentNode):(t.insertBefore(i,r?r.nextSibling:null),t=l.parentNode),c=i.nextSibling,c&&i.nodeName===c.nodeName&&a.isSameAttributes(i,c)&&(i.innerHTML+="<BR>"+c.innerHTML,a.removeItem(c)),i=o.cloneNode(!1),p=!0),u=i.innerHTML,i.innerHTML=(p||!s||!u||/<br>$/i.test(s)?s:s+"<BR>")+u,0===h){t.insertBefore(i,l),c=l.nextSibling,c&&i.nodeName===c.nodeName&&a.isSameAttributes(i,c)&&(i.innerHTML+="<BR>"+c.innerHTML,a.removeItem(c));const e=i.previousSibling;e&&i.nodeName===e.nodeName&&a.isSameAttributes(i,e)&&(e.innerHTML+="<BR>"+i.innerHTML,a.removeItem(i))}d||a.removeItem(l),s&&(p=!1)}this.setRange(n,0,n,0)}else{for(let e,t,i=0,s=f.length;i<s;i++)e=f[i],e.nodeName.toLowerCase()===n.toLowerCase()&&(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()===l||a.isComponent(e)||(t=o.cloneNode(!1),a.copyFormatAttributes(t,e),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)),0===i&&(c=t||e),i===s-1&&(u=t||e),t=null;this.setRange(a.getNodeFromPath(d,c),s,a.getNodeFromPath(h,u),r)}this.history.push(!1)}this.submenuOff()}}}},function(e,t,i){"use strict";i.r(t);var n=i(5);t.default={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([n.a]);const i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let o=this.setSubmenu.call(e);i.hiliteColor.colorInput=o.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),o.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),o.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),o.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,o),o=null},setSubmenu:function(){const e=this.context.colorPicker.colorListHTML,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML=e,t},on:function(){const e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput,e._defaultColor="#FFFFFF",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}}},function(e,t,i){"use strict";i.r(t),t.default={name:"horizontalRule",display:"submenu",add:function(e,t){let i=this.setSubmenu.call(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer se-list-line",t.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="solid" title="'+e.toolbar.hr_solid+'"><hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /></button></li><li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="dotted" title="'+e.toolbar.hr_dotted+'"><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /></button></li><li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="dashed" title="'+e.toolbar.hr_dashed+'"><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" /></button></li></ul></div>',t},appendHr:function(e){const t=this.util.createElement("HR");return t.className=e,this.focus(),this.insertComponent(t,!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,"__se__"+i);n&&(this.setRange(n,0,n,0),this.submenuOff())}}},function(e,t,i){"use strict";i.r(t),t.default={name:"lineHeight",display:"submenu",add:function(e,t){const i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-submenu se-list-layer";const n=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(let l,s=0,r=n.length;s<r;s++)l=n[s],o+='<li><button type="button" class="se-btn-list" data-value="'+l.value+'" title="'+l.text+'">'+l.text+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},on:function(){const e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let e=0,i=t.length;e<i;e++)n===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,o=i.length;n<o;n++)i[n].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}}},function(e,t,i){"use strict";i.r(t),t.default={name:"list",display:"submenu",add:function(e,t){const i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.list._list=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'">'+this.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'">'+this.icons.list_bullets+"</button></li></ul></div>",t},active:function(e){const t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(e){if(n.isList(e)){const o=e.nodeName;return t.setAttribute("data-focus",o),n.addClass(t,"active"),/UL/i.test(o)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}}else t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active");return!1},on:function(){const e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-command")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),o=t||this.getSelectedElementsAndComponents(!1);if(0===o.length){if(t)return;if(n=this.getRange_addLine(n),o=this.getSelectedElementsAndComponents(!1),0===o.length)return}const l=this.util;l.sortByDepth(o,!0);let s=o[0],r=o[o.length-1],a=!l.isListCell(s)&&!l.isComponent(s)||s.previousElementSibling?s.previousElementSibling:s.parentNode.previousElementSibling,c=!l.isListCell(r)&&!l.isComponent(r)||r.nextElementSibling?r.nextElementSibling:r.parentNode.nextElementSibling;const u={sc:n.startContainer,so:n.startOffset,ec:n.endContainer,eo:n.endOffset};let d=!0;for(let h=0,p=o.length;h<p;h++)if(!l.isList(l.getRangeFormatElement(o[h],function(e){return this.getRangeFormatElement(e)&&e!==o[h]}.bind(l)))){d=!1;break}if(!d||a&&s.tagName===a.tagName&&e===a.tagName.toUpperCase()||c&&r.tagName===c.tagName&&e===c.tagName.toUpperCase()){const t=a?a.parentNode:a,i=c?c.parentNode:c;a=t&&!l.isWysiwygDiv(t)&&t.nodeName===e?t:a,c=i&&!l.isWysiwygDiv(i)&&i.nodeName===e?i:c;const n=a&&a.tagName===e,s=c&&c.tagName===e;let r=n?a:l.createElement(e),u=null,d=null,h=null,p=null;const f=function(e){return!this.isComponent(e)&&!this.isList(e)}.bind(l);for(let a,c,g,m,b,v,y,_,x,w=0,C=o.length;w<C;w++)if(c=o[w],0!==c.childNodes.length||l._isIgnoreNodeChange(c)){if(m=o[w+1],b=c.parentNode,v=m?m.parentNode:null,g=l.isListCell(c),x=l.isRangeFormatElement(b)?b:null,y=g&&!l.isWysiwygDiv(b)?b.parentNode:b,_=g&&!l.isWysiwygDiv(b)?!m||l.isListCell(y)?b:b.nextSibling:c.nextSibling,a=l.createElement("LI"),l.copyFormatAttributes(a,c),l.isComponent(c)){const e=/^HR$/i.test(c.nodeName);e||(a.innerHTML="<br>"),a.innerHTML+=c.outerHTML,e&&(a.innerHTML+="<br>")}else{const e=c.childNodes;for(;e[0];)a.appendChild(e[0])}r.appendChild(a),m||(d=r),m&&y===v&&!l.isRangeFormatElement(_)||(u||(u=r),n&&m&&y===v||m&&l.isList(v)&&v===b||r.parentNode!==y&&y.insertBefore(r,_)),l.removeItem(c),n&&null===h&&(h=r.children.length-1),m&&(l.getRangeFormatElement(v,f)!==l.getRangeFormatElement(b,f)||l.isList(v)&&l.isList(b)&&l.getElementDepth(v)!==l.getElementDepth(b))&&(r=l.createElement(e)),x&&0===x.children.length&&l.removeItem(x)}else l.removeItem(c);h&&(u=u.children[h]),s&&(p=r.children.length-1,r.innerHTML+=c.innerHTML,d=r.children[p],l.removeItem(c))}else{if(i)for(let e=0,i=o.length;e<i;e++)for(let t=e-1;t>=0;t--)if(o[t].contains(o[e])){o.splice(e,1),e--,i--;break}const t=l.getRangeFormatElement(s),n=t&&t.tagName===e;let r,a;const c=function(e){return!this.isComponent(e)}.bind(l);n||(a=l.createElement(e));for(let s,u,d=0,h=o.length;d<h;d++)u=l.getRangeFormatElement(o[d],c),u&&l.isList(u)&&(s?s!==u?(i&&l.isListCell(u.parentNode)?this.plugins.list._detachNested.call(this,r.f):this.detachRangeFormatElement(r.f[0].parentNode,r.f,a,!1,!0),u=o[d].parentNode,n||(a=l.createElement(e)),s=u,r={r:s,f:[l.getParentElement(o[d],"LI")]}):r.f.push(l.getParentElement(o[d],"LI")):(s=u,r={r:s,f:[l.getParentElement(o[d],"LI")]}),d===h-1&&(i&&l.isListCell(u.parentNode)?this.plugins.list._detachNested.call(this,r.f):this.detachRangeFormatElement(r.f[0].parentNode,r.f,a,!1,!0)))}return this.effectNode=null,u},_detachNested:function(e){const t=e[0],i=e[e.length-1],n=i.nextElementSibling,o=t.parentNode,l=o.parentNode.nextElementSibling,s=o.parentNode.parentNode;for(let a=0,c=e.length;a<c;a++)s.insertBefore(e[a],l);if(n&&o.children.length>0){const e=o.cloneNode(!1),t=o.childNodes,l=this.util.getPositionIndex(n);for(;t[l];)e.appendChild(t[l]);i.appendChild(e)}0===o.children.length&&this.util.removeItem(o),this.util.mergeSameTags(s);const r=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:r.sc,ec:r.ec}},editInsideList:function(e,t){const i=(t=t||this.getSelectedElements().filter(function(e){return this.isListCell(e)}.bind(this.util))).length;if(0===i||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,o=t[i-1],l=null;if(e){if(n!==o.parentNode&&this.util.isList(o.parentNode.parentNode)&&o.nextElementSibling)for(o=o.nextElementSibling;o;)t.push(o),o=o.nextElementSibling;l=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let e=this.util.createElement(n.nodeName),s=t[0].previousElementSibling,r=o.nextElementSibling;const a={s:null,e:null,sl:n,el:n};for(let o,l=0,d=i;l<d;l++)o=t[l],o.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,e,s,r,a),n=o.parentNode,e=this.util.createElement(n.nodeName)),s=o.previousElementSibling,r=o.nextElementSibling,e.appendChild(o);this.plugins.list._insiedList.call(this,n,e,s,r,a);const c=this.util.getNodeFromPath(a.s,a.sl),u=this.util.getNodeFromPath(a.e,a.el);l={sc:c,so:0,ec:u,eo:u.textContent.length}}return l},_insiedList:function(e,t,i,n,o){let l=!1;if(i&&t.tagName===i.tagName){const e=t.children;for(;e[0];)i.appendChild(e[0]);t=i,l=!0}if(n&&t.tagName===n.tagName){const e=n.children;for(;e[0];)t.appendChild(e[0]);const i=n.nextElementSibling;n.parentNode.removeChild(n),n=i}if(!l){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),o.s||(o.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),o.sl=e);const l=e.contains(o.sl)?this.util.getNodePath(o.sl,e):null;o.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),o.el=e,this.util.mergeSameTags(e,[o.s,o.e,l],!1),this.util.mergeNestedTags(e),l&&(o.sl=this.util.getNodeFromPath(l,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}}},function(e,t,i){"use strict";i.r(t),t.default={name:"paragraphStyle",display:"submenu",add:function(e,t){const i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu.call(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.option,t=this.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-format";const i=this.lang.menu,n={spaced:{name:i.spaced,class:"__se__p-spaced",_class:""},bordered:{name:i.bordered,class:"__se__p-bordered",_class:""},neon:{name:i.neon,class:"__se__p-neon",_class:""}},o=e.paragraphStyles&&0!==e.paragraphStyles.length?e.paragraphStyles:["spaced","bordered","neon"];let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let s,r,a,c,u=0,d=o.length;u<d;u++){if(s=o[u],"string"===typeof s){const e=n[s.toLowerCase()];if(!e)continue;s=e}r=s.name,a=s.class?' class="'+s.class+'"':"",c=s._class,l+='<li><button type="button" class="se-btn-list'+(c?" "+c:"")+'" data-value="'+s.class+'" title="'+r+'"><div'+a+">"+r+"</div></button></li>"}return l+="</ul></div>",t.innerHTML=l,t},on:function(){const e=this.context.paragraphStyle._classList,t=this.util.getFormatElement(this.getSelectionNode());for(let i=0,n=e.length;i<n;i++)this.util.hasClass(t,e[i].getAttribute("data-value"))?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(0===n.length&&(this.getRange_addLine(this.getRange()),n=this.getSelectedElements(),0===n.length))return;const o=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let l=0,s=n.length;l<s;l++)o(n[l],i);this.submenuOff(),this.history.push(!1)}}},function(e,t,i){"use strict";i.r(t),t.default={name:"table",display:"submenu",add:function(e,t){const i=e.context;i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,cellControllerTop:"top"===i.options.tableCellControllerPosition,resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}};let n=this.setSubmenu.call(e),o=n.querySelector(".se-controller-table-picker");i.table.tableHighlight=n.querySelector(".se-table-size-highlighted"),i.table.tableUnHighlight=n.querySelector(".se-table-size-unhighlighted"),i.table.tableDisplay=n.querySelector(".se-table-size-display");let l=this.setController_table.call(e);i.table.tableController=l,i.table.resizeButton=l.querySelector("._se_table_resize"),i.table.resizeText=l.querySelector("._se_table_resize > span > span"),i.table.columnFixedButton=l.querySelector("._se_table_fixed_column"),i.table.headerButton=l.querySelector("._se_table_header"),l.addEventListener("mousedown",e.eventStop);let s=this.setController_tableEditor.call(e,i.table.cellControllerTop);i.table.resizeDiv=s,i.table.splitMenu=s.querySelector(".se-btn-group-sub"),i.table.mergeButton=s.querySelector("._se_table_merge_button"),i.table.splitButton=s.querySelector("._se_table_split_button"),i.table.insertRowAboveButton=s.querySelector("._se_table_insert_row_a"),i.table.insertRowBelowButton=s.querySelector("._se_table_insert_row_b"),s.addEventListener("mousedown",e.eventStop),o.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e)),o.addEventListener("click",this.appendTable.bind(e)),s.addEventListener("click",this.onClick_tableController.bind(e)),l.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,n),i.element.relative.appendChild(s),i.element.relative.appendChild(l),n=null,o=null,s=null,l=null},setSubmenu:function(){const e=this.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-table",i.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+t.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+t.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+t.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},setController_tableEditor:function(e){const t=this.lang,i=this.icons,n=this.util.createElement("DIV");return n.className="se-controller se-controller-table-cell",n.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+i.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+i.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+i.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+i.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+i.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+i.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+i.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+i.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+t.controller.VerticalSplit+'">'+t.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+t.controller.HorizontalSplit+'">'+t.controller.HorizontalSplit+"</li></ul></div></div></div>",n},appendTable:function(){const e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],o="<tbody>";for(;n>0;)o+="<tr>"+t.call(this,"td",i)+"</tr>",--n;o+="</tbody>",e.innerHTML=o;if(this.insertComponent(e,!1,!0,!1)){const t=e.querySelector("td div");this.setRange(t,0,t,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){const t=this.util.createElement(e);return t.innerHTML="<div><br></div>",t}{let i="";for(;t>0;)i+="<"+e+"><div><br></div></"+e+">",t--;return i}},onMouseMove_tablePicker:function(e){e.stopPropagation();let t=this._w.Math.ceil(e.offsetX/18),i=this._w.Math.ceil(e.offsetY/18);t=t<1?1:t,i=i<1?1:i,this.context.table.tableHighlight.style.width=t+"em",this.context.table.tableHighlight.style.height=i+"em";this.context.table.tableUnHighlight.style.width="10em",this.context.table.tableUnHighlight.style.height="10em",this.util.changeTxt(this.context.table.tableDisplay,t+" x "+i),this.context.table._tableXY=[t,i]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){const e=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let t=0,i=e.length;t<i;t++)this.util.removeClass(e[t],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){const t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell)return this.controllersOff(),void this.util.removeClass(e,"se-table-selected-cell");const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");t.setPositionControllerTop.call(this,n),i._maxWidth=this.util.hasClass(n,"se-table-size-100")||"100%"===n.style.width||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||"fixed"===n.style.tableLayout,t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){const t=this.context.table.tableController,i=this.util.getOffset(e,this.context.element.wysiwygFrame);t.style.left=i.left+"px",t.style.display="block",t.style.top=i.top-t.offsetHeight-2+"px"},setPositionControllerDiv:function(e,t){const i=this.context.table,n=i.resizeDiv;if(this.plugins.table.setCellInfo.call(this,e,t),n.style.visibility="hidden",n.style.display="block",i.cellControllerTop){const e=this.util.getOffset(i._element,this.context.element.wysiwygFrame);n.style.top=e.top-n.offsetHeight-2+"px",n.style.left=e.left+i.tableController.offsetWidth+"px"}else{const t=this.util.getOffset(e,this.context.element.wysiwygFrame);n.style.left=t.left-this.context.element.wysiwygFrame.scrollLeft+"px",n.style.top=t.top+e.offsetHeight+12+"px";const i=this.context.element.wysiwygFrame.offsetWidth-(n.offsetLeft+n.offsetWidth);i<0?(n.style.left=n.offsetLeft+i+"px",n.firstElementChild.style.left=20-i+"px"):n.firstElementChild.style.left="20px"}n.style.visibility=""},setCellInfo:function(e,t){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||0===i._physical_cellCnt){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);const t=i._trElements=n.rows,o=e.cellIndex;let l=0;for(let e=0,i=t[0].cells,n=t[0].cells.length;e<n;e++)l+=i[e].colSpan;const s=i._rowIndex=i._trElement.rowIndex;i._rowCnt=t.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=l,i._physical_cellIndex=o,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan,i._trElement.cells[o].rowSpan;let r=[],a=[];for(let e,n,c=0;c<=s;c++){e=t[c].cells,n=0;for(let t,l,u,d,h=0,p=e.length;h<p;h++){if(t=e[h],l=t.colSpan-1,u=t.rowSpan-1,d=h+n,a.length>0)for(let e,t=0;t<a.length;t++)e=a[t],e.row>c||(d>=e.index?(n+=e.cs,d+=e.cs,e.rs-=1,e.row=c+1,e.rs<1&&(a.splice(t,1),t--)):h===p-1&&(e.rs-=1,e.row=c+1,e.rs<1&&(a.splice(t,1),t--)));if(c===s&&h===o){i._logical_cellIndex=d;break}u>0&&r.push({index:d,cs:l+1,rs:u,row:-1}),n+=l}a=a.concat(r).sort((function(e,t){return e.index-t.index})),r=[]}r=null,a=null}},editTable:function(e,t){const i=this.plugins.table,n=this.context.table,o=n._element,l="row"===e;if(l){const e=n._trElement.parentNode;if(/^THEAD$/i.test(e.nodeName)){if("up"===t)return;if(!e.nextElementSibling||!/^TBODY$/i.test(e.nextElementSibling.nodeName))return void(o.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>")}}if(i._ref){const e=n._tdElement,o=i._selectedCells;if(l)if(t)i.setCellInfo.call(this,"up"===t?o[0]:o[o.length-1],!0),i.editRow.call(this,t,e);else{let e=o[0].parentNode;const n=[o[0]];for(let t,i=1,l=o.length;i<l;i++)t=o[i],e!==t.parentNode&&(n.push(t),e=t.parentNode);for(let o=0,l=n.length;o<l;o++)i.setCellInfo.call(this,n[o],!0),i.editRow.call(this,t)}else{const n=o[0].parentNode;if(t){let l=null;for(let e=0,t=o.length-1;e<t;e++)if(n!==o[e+1].parentNode){l=o[e];break}i.setCellInfo.call(this,"left"===t?o[0]:l||o[0],!0),i.editCell.call(this,t,e)}else{const e=[o[0]];for(let t,i=1,l=o.length;i<l&&(t=o[i],n===t.parentNode);i++)e.push(t);for(let n=0,o=e.length;n<o;n++)i.setCellInfo.call(this,e[n],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[l?"editRow":"editCell"].call(this,t);if(!t){const e=o.children;for(let t=0;t<e.length;t++)0===e[t].children.length&&(this.util.removeItem(e[t]),t--);0===o.children.length&&this.util.removeItem(o)}},editRow:function(e,t){const i=this.context.table,n=!e,o="up"===e,l=i._rowIndex,s=n||o?l:l+i._current_rowSpan+1,r=n?-1:1,a=i._trElements;let c=i._logical_cellCnt;for(let u,d=0,h=l+(n?-1:0);d<=h;d++){if(u=a[d].cells,0===u.length)return;for(let e,t,i=0,n=u.length;i<n;i++)e=u[i].rowSpan,t=u[i].colSpan,e<2&&t<2||e+d>s&&s>d&&(u[i].rowSpan=e+r,c-=t)}if(n){const e=a[l+1];if(e){const t=[];let i=a[l].cells,n=0;for(let e,o,l=0,s=i.length;l<s;l++)e=i[l],o=l+n,n+=e.colSpan-1,e.rowSpan>1&&(e.rowSpan-=1,t.push({cell:e.cloneNode(!1),index:o}));if(t.length>0){let o=t.shift();i=e.cells,n=0;for(let l,s,r=0,a=i.length;r<a&&(l=i[r],s=r+n,n+=l.colSpan-1,!(s>=o.index)||(r--,n--,n+=o.cell.colSpan-1,e.insertBefore(o.cell,l),o=t.shift(),o));r++);if(o){e.appendChild(o.cell);for(let i=0,n=t.length;i<n;i++)e.appendChild(t[i].cell)}}}i._element.deleteRow(s)}else{i._element.insertRow(s).innerHTML=this.plugins.table.createCells.call(this,"td",c,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){const i=this.context.table,n=this.util,o=!e,l="left"===e,s=i._current_colSpan,r=o||l?i._logical_cellIndex:i._logical_cellIndex+s+1,a=i._trElements;let c=[],u=[],d=0;const h=[],p=[];for(let f,g,m,b,v,y,_=0,x=i._rowCnt;_<x;_++){f=a[_],g=r,v=!1,m=f.cells,y=0;for(let e,t,i,l,a=0,f=m.length;a<f&&(e=m[a],e);a++)if(t=e.rowSpan-1,i=e.colSpan-1,o){if(l=a+y,u.length>0){const e=!m[a+1];for(let t,i=0;i<u.length;i++)t=u[i],t.row>_||(l>=t.index?(y+=t.cs,l=a+y,t.rs-=1,t.row=_+1,t.rs<1&&(u.splice(i,1),i--)):e&&(t.rs-=1,t.row=_+1,t.rs<1&&(u.splice(i,1),i--)))}t>0&&c.push({rs:t,cs:i+1,index:l,row:-1}),l>=g&&l+i<=g+s?h.push(e):l<=g+s&&l+i>=g?e.colSpan-=n.getOverlapRangeAtIndex(r,r+s,l,l+i):t>0&&(l<g||l+i>g+s)&&p.push({cell:e,i:_,rs:_+t}),y+=i}else{if(a>=g)break;if(i>0){if(d<1&&i+a>=g){e.colSpan+=1,g=null,d=t+1;break}g-=i}if(!v){for(let e,t=0;t<u.length;t++)e=u[t],g-=e.cs,e.rs-=1,e.rs<1&&(u.splice(t,1),t--);v=!0}}if(u=u.concat(c).sort((function(e,t){return e.index-t.index})),c=[],!o){if(d>0){d-=1;continue}null!==g&&m.length>0&&(b=this.plugins.table.createCells.call(this,m[0].nodeName,0,!0),b=f.insertBefore(b,m[g]))}}if(o){let e,t;for(let i,o=0,l=h.length;o<l;o++)i=h[o].parentNode,n.removeItem(h[o]),0===i.cells.length&&(e||(e=n.getArrayIndex(a,i)),t=n.getArrayIndex(a,i),n.removeItem(i));for(let i,o=0,l=p.length;o<l;o++)i=p[o],i.cell.rowSpan=n.getOverlapRangeAtIndex(e,t,i.i,i.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("mousedown",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("mousedown",this.plugins.table._closeSplitMenu)},splitCells:function(e){const t=this.util,i="vertical"===e,n=this.context.table,o=n._tdElement,l=n._trElements,s=n._trElement,r=n._logical_cellIndex,a=n._rowIndex,c=this.plugins.table.createCells.call(this,o.nodeName,0,!0);if(i){const e=o.colSpan;if(c.rowSpan=o.rowSpan,e>1)c.colSpan=this._w.Math.floor(e/2),o.colSpan=e-c.colSpan,s.insertBefore(c,o.nextElementSibling);else{let t=[],i=[];for(let s,a,c=0,u=n._rowCnt;c<u;c++){s=l[c].cells,a=0;for(let n,l,u,d,h=0,p=s.length;h<p;h++){if(n=s[h],l=n.colSpan-1,u=n.rowSpan-1,d=h+a,i.length>0)for(let e,t=0;t<i.length;t++)e=i[t],e.row>c||(d>=e.index?(a+=e.cs,d+=e.cs,e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)):h===p-1&&(e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)));if(d<=r&&u>0&&t.push({index:d,cs:l+1,rs:u,row:-1}),n!==o&&d<=r&&d+l>=r+e-1){n.colSpan+=1;break}if(d>r)break;a+=l}i=i.concat(t).sort((function(e,t){return e.index-t.index})),t=[]}s.insertBefore(c,o.nextElementSibling)}}else{const e=o.rowSpan;if(c.colSpan=o.colSpan,e>1){c.rowSpan=this._w.Math.floor(e/2);const i=e-c.rowSpan,n=[],a=t.getArrayIndex(l,s)+i;for(let e,t,o=0;o<a;o++){e=l[o].cells,t=0;for(let i,l,s,c=0,u=e.length;c<u&&(s=c+t,!(s>=r));c++)i=e[c],l=i.rowSpan-1,l>0&&l+o>=a&&s<r&&n.push({index:s,cs:i.colSpan}),t+=i.colSpan-1}const u=l[a],d=u.cells;let h=n.shift();for(let e,t,o,l,s=0,p=d.length,f=0;s<p;s++){if(o=s+f,e=d[s],t=e.colSpan-1,l=o+t+1,h&&l>=h.index&&(f+=h.cs,l+=h.cs,h=n.shift()),l>=r||s===p-1){u.insertBefore(c,e.nextElementSibling);break}f+=t}o.rowSpan=i}else{c.rowSpan=o.rowSpan;const e=t.createElement("TR");e.appendChild(c);for(let t,n=0;n<a;n++){if(t=l[n].cells,0===t.length)return;for(let e=0,i=t.length;e<i;e++)n+t[e].rowSpan-1>=a&&(t[e].rowSpan+=1)}const i=n._physical_cellIndex,r=s.cells;for(let t=0,n=r.length;t<n;t++)t!==i&&(r[t].rowSpan+=1);s.parentNode.insertBefore(e,s.nextElementSibling)}}this.focusEdge(o),this.plugins.table.setPositionControllerDiv.call(this,o,!0)},mergeCells:function(){const e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,o=e._selectedCells,l=o[0];let s=null,r=null,a=n.ce-n.cs+1,c=n.re-n.rs+1,u="",d=null;for(let h,p,f=1,g=o.length;f<g;f++){h=o[f],d!==h.parentNode&&(d=h.parentNode),p=h.children;for(let e=0,t=p.length;e<t;e++)i.isFormatElement(p[e])&&i.onlyZeroWidthSpace(p[e].textContent)&&i.removeItem(p[e]);u+=h.innerHTML,i.removeItem(h),0===d.cells.length&&(s?r=d:s=d,c-=1)}if(s){const e=t._trElements,n=i.getArrayIndex(e,s),o=i.getArrayIndex(e,r||s),l=[];for(let t,s=0;s<=o;s++)if(t=e[s].cells,0!==t.length)for(let e,l,r=0,a=t.length;r<a;r++)e=t[r],l=e.rowSpan-1,l>0&&s+l>=n&&(e.rowSpan-=i.getOverlapRangeAtIndex(n,o,s,s+l));else l.push(e[s]);for(let t=0,s=l.length;t<s;t++)i.removeItem(l[t])}l.innerHTML+=u,l.colSpan=a,l.rowSpan=c,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,l),i.addClass(l,"se-table-selected-cell"),this.focusEdge(l)},toggleHeader:function(){const e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{const t=e.createElement("THEAD");t.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(t,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){const t=this.context.table,i=t._element;let n,o,l,s;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,o=t.resizeText,t._maxWidth?(l=t.icons.reduction,s=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(l=t.icons.expansion,s=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,l),this.util.changeTxt(o,s)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){const i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),t&&e!==t?(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled")):(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();const t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),t._fixedCell&&t._selectedTable&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;const t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}i&&i!==t._selectedCell&&t._fixedCellName===i.nodeName&&t._selectedTable===this.util.getParentElement(i,"TABLE")&&(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){const i=this.plugins.table,n=i._selectedTable.rows,o=this.util,l=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let u=0,d=l.length;u<d;u++)o.removeClass(l[u],"se-table-selected-cell");if(e===t&&(o.addClass(e,"se-table-selected-cell"),!i._shift))return;let s=!0,r=[],a=[];const c=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let u,d,h=0,p=n.length;h<p;h++){u=n[h].cells,d=0;for(let i,n,l,p,f=0,g=u.length;f<g;f++){if(i=u[f],l=i.colSpan-1,p=i.rowSpan-1,n=f+d,r.length>0)for(let e,t=0;t<r.length;t++)e=r[t],e.row>h||(n>=e.index?(d+=e.cs,n+=e.cs,e.rs-=1,e.row=h+1,e.rs<1&&(r.splice(t,1),t--)):f===g-1&&(e.rs-=1,e.row=h+1,e.rs<1&&(r.splice(t,1),t--)));if(s){if(i!==e&&i!==t||(c.cs=null!==c.cs&&c.cs<n?c.cs:n,c.ce=null!==c.ce&&c.ce>n+l?c.ce:n+l,c.rs=null!==c.rs&&c.rs<h?c.rs:h,c.re=null!==c.re&&c.re>h+p?c.re:h+p,c._i+=1),2===c._i){s=!1,r=[],a=[],h=-1;break}}else if(o.getOverlapRangeAtIndex(c.cs,c.ce,n,n+l)&&o.getOverlapRangeAtIndex(c.rs,c.re,h,h+p)){const e=c.cs<n?c.cs:n,t=c.ce>n+l?c.ce:n+l,s=c.rs<h?c.rs:h,u=c.re>h+p?c.re:h+p;if(c.cs!==e||c.ce!==t||c.rs!==s||c.re!==u){c.cs=e,c.ce=t,c.rs=s,c.re=u,h=-1,r=[],a=[];break}o.addClass(i,"se-table-selected-cell")}p>0&&a.push({index:n,cs:l+1,rs:p,row:-1}),d+=i.colSpan-1}r=r.concat(a).sort((function(e,t){return e.index-t.index})),a=[]}},_removeEvents:function(){const e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let o=0,l=n.length;o<l;o++)this.util.removeClass(n[o],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;const i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),o=t.getAttribute("data-option"),l=this.plugins.table;if("function"===typeof l._closeSplitMenu&&(l._closeSplitMenu(),"onsplit"===i))return;if(!i)return;e.preventDefault();const s=this.context.table;switch(i){case"insert":case"delete":l.editTable.call(this,n,o);break;case"header":l.toggleHeader.call(this);break;case"onsplit":l.openSplitMenu.call(this);break;case"split":l.splitCells.call(this,n);break;case"merge":l.mergeCells.call(this);break;case"resize":s._maxWidth=!s._maxWidth,l.setTableStyle.call(this,"width"),l.setPositionControllerTop.call(this,s._element),l.setPositionControllerDiv.call(this,s._tdElement,l._shift);break;case"layout":s._fixedColumn=!s._fixedColumn,l.setTableStyle.call(this,"column"),l.setPositionControllerTop.call(this,s._element),l.setPositionControllerDiv.call(this,s._tdElement,l._shift);break;case"remove":const e=s._element.parentNode;this.util.removeItem(s._element),this.controllersOff(),e!==this.context.element.wysiwyg&&this.util.removeItemAllParents(e,(function(e){return 0===e.childNodes.length}),null),this.focus()}this.history.push(!1)}}},function(e,t,i){"use strict";i.r(t),t.default={name:"template",display:"submenu",add:function(e,t){e.context.template={};let i=this.setSubmenu.call(e);i.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(){const e=this.context.option.templates;if(!e||0===e.length)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const t=this.util.createElement("DIV");t.className="se-list-layer";let i='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let n,o=0,l=e.length;o<l;o++)n=e[o],i+='<li><button type="button" class="se-btn-list" data-value="'+o+'" title="'+n.name+'">'+n.name+"</button></li>";return i+="</ul></div>",t.innerHTML=i,t},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=this.context.option.templates[e.target.getAttribute("data-value")];if(!t.html)throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.setContents(t.html),this.submenuOff()}}},function(e,t,i){"use strict";i.r(t),t.default={name:"textStyle",display:"submenu",add:function(e,t){const i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.context.option,t=this.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-format";const i={code:{name:this.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:this.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:this.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},n=e.textStyles?e.textStyles:this._w.Object.keys(i);let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let l,s,r,a,c,u,d,h=0,p=n.length;h<p;h++){if(l=n[h],a="",u="",c=[],"string"===typeof l){const e=i[l.toLowerCase()];if(!e)continue;l=e}r=l.name,s=l.tag||"span",d=l._class,l.style&&(a+=' style="'+l.style+'"',u+=l.style.replace(/:[^;]+(;|$)\s*/g,","),c.push("style")),l.class&&(a+=' class="'+l.class+'"',u+="."+l.class.trim().replace(/\s+/g,",."),c.push("class")),u=u.replace(/,$/,""),o+='<li><button type="button" class="se-btn-list'+(d?" "+d:"")+'" data-command="'+s+'" data-value="'+u+'" title="'+r+'"><'+s+a+">"+r+"</"+s+"></button></li>"}return o+="</ul></div>",t.innerHTML=o,t},on:function(){const e=this.util,t=this.context.textStyle._styleList,i=this.getSelectionNode();for(let n,o,l,s=0,r=t.length;s<r;s++){n=t[s],o=n.getAttribute("data-value").split(",");for(let t,s,r=0;r<o.length;r++){for(t=i,l=!1;t&&!e.isFormatElement(t)&&!e.isComponent(t);){if(t.nodeName.toLowerCase()===n.getAttribute("data-command").toLowerCase()&&(s=o[r],/^\./.test(s)?e.hasClass(t,s.replace(/^\./,"")):t.style[s])){l=!0;break}t=t.parentNode}if(!l)break}l?e.addClass(n,"active"):e.removeClass(n,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;const o=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");o.pop();const l=n.classList;for(let a=0,c=l.length;a<c;a++)o.push("."+l[a]);const s=this.util.hasClass(t,"active")?null:n.cloneNode(!1),r=s?null:[n.nodeName];this.nodeChange(s,o,r,!0),this.submenuOff()}}},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),l=i(2),s=i.n(l),r=i(6),a=i.n(r),c=i(3),u=i.n(c);t.default={name:"image",display:"dialog",add:function(e){e.addModule([o.a,s.a,a.a,u.a]);const t=e.context,i=t.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,sizeUnit:t.option._imageSizeUnit,_altText:"",_linkElement:null,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_link:{_linkValue:""},_v_src:{_linkValue:""},svgDefaultSize:"30%",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:"auto"===t.option.imageWidth?"":t.option.imageWidth,_origin_h:"auto"===t.option.imageHeight?"":t.option.imageHeight,_proportionChecked:!0,_resizing:t.option.imageResizing,_resizeDotHide:!t.option.imageHeightShow,_rotation:t.option.imageRotation,_onlyPercentage:t.option.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let n=this.setDialog.call(e);i.modal=n,i.imgInputFile=n.querySelector("._se_image_file"),i.imgUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.imgInputFile||i.imgUrlFile,i.altText=n.querySelector("._se_image_alt"),i.imgLink=n.querySelector("._se_image_link"),i.imgLinkNewWindowCheck=n.querySelector("._se_image_link_check"),i.captionCheckEl=n.querySelector("._se_image_check_caption"),i.previewLink=n.querySelector("._se_tab_content_url .se-link-preview"),i.previewSrc=n.querySelector("._se_tab_content_image .se-link-preview"),n.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),n.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),i.imgInputFile&&n.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(i.imgInputFile,i.imgUrlFile,i.previewSrc)),i.imgInputFile&&i.imgUrlFile&&i.imgInputFile.addEventListener("change",this._fileInputChange.bind(i)),i.imgLink.addEventListener("input",this._onLinkPreview.bind(i.previewLink,i._v_link,t.options.linkProtocol)),i.imgUrlFile&&i.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(i.previewSrc,i._v_src,t.options.linkProtocol));const l=n.querySelector(".__se__gallery");l&&l.addEventListener("click",this._openGallery.bind(e)),i.proportion={},i.inputX={},i.inputY={},t.option.imageResizing&&(i.proportion=n.querySelector("._se_image_check_proportion"),i.inputX=n.querySelector("._se_image_size_x"),i.inputY=n.querySelector("._se_image_size_y"),i.inputX.value=t.option.imageWidth,i.inputY.value=t.option.imageHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),i.inputX.addEventListener("change",this.setRatio.bind(e)),i.inputY.addEventListener("change",this.setRatio.bind(e)),i.proportion.addEventListener("change",this.setRatio.bind(e)),n.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),t.dialog.modal.appendChild(n),n=null},setDialog:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let n='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" aria-label="Close" title="'+t.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+t.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+t.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'">'+this.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" />'+(e.imageGalleryUrl&&this.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+t.toolbar.imageGallery+'">'+this.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),n+='</div><div class="se-dialog-form"><label>'+t.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const i=e.imageSizeOnlyPercentage,o=i?' style="display: none !important;"':"",l=e.imageHeightShow?"":' style="display: none !important;"';n+='<div class="se-dialog-form">',i||!e.imageHeightShow?n+='<div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.size+"</label></div>":n+='<div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+t.dialogBox.height+"</label></div>",n+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(i?' type="number" min="1"':'type="text"')+(i?' max="100"':"")+' /><label class="se-dialog-size-x"'+l+">"+(i?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+o+(i?' max="100"':"")+l+"/><label"+o+l+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+t.dialogBox.proportion+'</label><button type="button" title="'+t.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+this.icons.revert+"</button></div>"}return n+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+t.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none"><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><input class="se-input-form _se_image_link" type="text" /><pre class="se-link-preview"></pre></div><label><input type="checkbox" class="_se_image_link_check"/>&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label></div></div><div class="se-dialog-footer"><div><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+t.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+t.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+t.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+t.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=n,i},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){const t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=1*t.getAttribute("data-index");let o=i.previousElementSibling||i.nextElementSibling;const l=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(o),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){const t=this.context.image;e?t.imgInputFile&&this.context.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.context.option.imageWidth===t._defaultSizeX?"":this.context.option.imageWidth,t.inputY.value=t._origin_h=this.context.option.imageHeight===t._defaultSizeY?"":this.context.option.imageHeight,t.imgInputFile&&this.context.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"image","image"===this.currentControllerName)},openTab:function(e){const t=this.context.image.modal,i="init"===e?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link");let o,l,s;for(l=t.getElementsByClassName("_se_tab_content"),o=0;o<l.length;o++)l[o].style.display="none";for(s=t.getElementsByClassName("_se_tab_link"),o=0;o<s.length;o++)this.util.removeClass(s[o],"active");return t.querySelector("._se_tab_content_"+n).style.display="block",this.util.addClass(i,"active"),"image"===n&&this.context.image.focusElement?this.context.image.focusElement.focus():"url"===n&&this.context.image.imgLink&&this.context.image.imgLink.focus(),!1},submit:function(e){const t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let s=0,r=e.length;s<r;s++)/image/i.test(e[s].type)&&(i.push(e[s]),t+=e[s].size);const n=this.context.option.imageUploadSizeLimit;if(n>0){let e=0;const i=this.context.image._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";return void(("function"!==this.functions.onImageUploadError||this.functions.onImageUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.image;o._uploadFileLength=i.length;const l={linkValue:o._v_link._linkValue,linkNewWindow:o.imgLinkNewWindowCheck.checked,inputWidth:o.inputX.value,inputHeight:o.inputY.value,align:o._align,isUpdate:this.context.dialog.updateModal,element:o._element};if("function"===typeof this.functions.onImageUploadBefore){const e=this.functions.onImageUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.image.register.call(this,l,e):this.plugins.image.upload.call(this,l,e)}.bind(this));if("undefined"===typeof e)return;if(!e)return void this.closeLoading();this._w.Array.isArray(e)&&e.length>0&&(i=e)}this.plugins.image.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!==typeof this.functions.onImageUploadError||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"===typeof t)return void this.plugins.image.error.call(this,t,null);const i=this.context.option.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if("string"===typeof i&&i.length>0){const o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.context.option.imageUploadHeader,o,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.linkValue,e.linkNewWindow,e.inputWidth,e.inputHeight,e.align,n-1,e.isUpdate)},callBack_imgUpload:function(e,t){if("function"===typeof this.functions.imageUploadHandler)this.functions.imageUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let n,o=0,l=i.length;o<l;o++){if(n={name:i[o].name,size:i[o].size},e.isUpdate){this.plugins.image.update_src.call(this,i[o].url,e.element,n);break}this.plugins.image.create_image.call(this,i[o].url,e.linkValue,e.linkNewWindow,e.inputWidth,e.inputHeight,e.align,n)}this.closeLoading()},setup_reader:function(e,t,i,n,o,l,s,r){try{const a=this._w.FileReader;for(let c,u,d=0;d<=s;d++)c=new a,u=e[d],r&&(this.context.image._element.setAttribute("data-file-name",u.name),this.context.image._element.setAttribute("data-file-size",u.size)),c.onload=function(e,s,r,a){this.context.image.inputX.value=n,this.context.image.inputY.value=o,e?this.plugins.image.update_src.call(this,c.result,s,r):this.plugins.image.create_image.call(this,c.result,t,i,n,o,l,r),a&&this.closeLoading()}.bind(this,r,this.context.image._element,u,d===s),c.readAsDataURL(u)}catch(a){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+a.message+'"')}},onRender_imgUrl:function(){const e=this.context.image;if(0===e._v_src._linkValue.length)return!1;try{const t={name:e._v_src._linkValue.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e._v_src._linkValue,e._element,t):this.plugins.image.create_image.call(this,e._v_src._linkValue,e._v_link._linkValue,e.imgLinkNewWindowCheck.checked,e.inputX.value,e.inputY.value,e._align,t)}catch(t){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t,i){if(t.trim().length>0){const n=this.util.createElement("A");return n.href=/^https?:\/\//.test(t)?t:"http://"+t,n.target=i?"_blank":"",n.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t),n.appendChild(e),n}return e},setInputSize:function(e,t){t&&32===t.keyCode?t.preventDefault():this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const e=this.plugins.image,t=function(t){e.onModifyMode.call(this,t,null),e.openModify.call(this,!0),e.update_image.call(this,!0,!1,!0)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,t,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,o,l,s){const r=this.plugins.image,a=this.context.image;this.context.resizing._resize_plugin="image";let c=this.util.createElement("IMG");c.src=e,c.alt=a._altText,c=r.onRender_link.call(this,c,t,i),c.setAttribute("data-rotate","0"),a._resizing&&c.setAttribute("data-proportion",a._proportionChecked);const u=this.plugins.component.set_cover.call(this,c),d=this.plugins.component.set_container.call(this,u,"se-image-container");a._captionChecked&&(a._caption=this.plugins.component.create_caption.call(this),a._caption.setAttribute("contenteditable",!1),u.appendChild(a._caption)),a._element=c,a._cover=u,a._container=d,r.applySize.call(this,n,o),r.setAlign.call(this,l,c,u,d),c.onload=r._image_create_onload.bind(this,c,a.svgDefaultSize),this.insertComponent(d,!0,!0,!0)&&this.plugins.fileManager.setInfo.call(this,"image",c,this.functions.onImageUpload,s,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t){0===e.offsetWidth&&this.plugins.image.applySize.call(this,t,""),this.selectComponent.call(this,e,"image")},update_image:function(e,t,i){const n=this.context.image,o=n._v_link._linkValue;let l,s=n._element,r=n._cover,a=n._container,c=!1;null===r&&(c=!0,s=n._element.cloneNode(!0),r=this.plugins.component.set_cover.call(this,s)),null===a?(r=r.cloneNode(!0),s=r.querySelector("img"),c=!0,a=this.plugins.component.set_container.call(this,r,"se-image-container")):c&&(a.innerHTML="",a.appendChild(r),n._cover=r,n._element=s,c=!1);const u=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,d=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;l=/%$/.test(s.style.width)?u!==a.style.width||d!==a.style.height:u!==s.style.width||d!==s.style.height,s.alt=n._altText;let h=!1;if(n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),r.appendChild(n._caption),h=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,h=!0),o.trim().length>0)if(null!==n._linkElement&&r.contains(n._linkElement))n._linkElement.href=o,n._linkElement.target=n.imgLinkNewWindowCheck.checked?"_blank":"",s.setAttribute("data-image-link",o);else{let e=this.plugins.image.onRender_link.call(this,s,o,this.context.image.imgLinkNewWindowCheck.checked);r.insertBefore(e,n._caption)}else if(null!==n._linkElement){const e=s;e.setAttribute("data-image-link","");let t=e.cloneNode(!0);r.removeChild(n._linkElement),r.insertBefore(t,n._caption),s=t}if(c){const e=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:/^A$/i.test(n._element.parentNode.nodeName)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element;e.parentNode.replaceChild(a,e),s=a.querySelector("img"),n._element=s,n._cover=r,n._container=a}(h||!n._onlyPercentage&&l)&&!e&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0)));n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),l&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),t&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;const i=this.context.image;i._linkElement=/^A$/i.test(e.parentNode.nodeName)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.getAttribute("data-align")||"none",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");n?(n=n.split(","),i._origin_w=n[0],i._origin_h=n[1]):t&&(i._origin_w=t.w,i._origin_h=t.h)},openModify:function(e){const t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,t._v_link._linkValue=t.previewLink.textContent=t.imgLink.value=null===t._linkElement?"":t._linkElement.href,t.imgLinkNewWindowCheck.checked=t._linkElement&&"_blank"===t._linkElement.target,t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]').checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},applySize:function(e,t){const i=this.context.image;return e||(e=i.inputX.value||this.context.option.imageWidth),t||(t=i.inputY.value||this.context.option.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.image.setSize.call(this,e,t,!1):this.plugins.image.setAutoSize.call(this),!1)},setSize:function(e,t,i,n){const o=this.context.image,l=/^(rw|lw)$/.test(n),s=/^(th|bh)$/.test(n);this.plugins.image.cancelPercentAttr.call(this),s||(o._element.style.width=this.util.isNumber(e)?e+o.sizeUnit:e),l||(o._element.style.height=this.util.isNumber(t)?t+o.sizeUnit:/%$/.test(t)?"":t),"center"===o._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i||o._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,o)},setAutoSize:function(){const e=this.context.image;this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){const e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);const t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){const i=this.context.image;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||"":this.util.isNumber(t)?t+"%":t;const n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="","center"===i._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const o=this.context.image;e||(e=o._align),t||(t=o._element),i||(i=o._cover),n||(n=o._container),i.style.margin=e&&"none"!==e?"auto":"0",/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width&&"auto"!==t.style.width?t.style.width||"100%":""),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,o._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},resetAlign:function(){const e=this.context.image;e._element.setAttribute("data-align",""),e._align="none",e._cover.style.margin="0",this.util.removeClass(e._container,e._floatClassRegExp)},init:function(){const e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e._v_link._linkValue=e.previewLink.textContent=e.imgLink.value="",e.imgLinkNewWindowCheck.checked=!1,e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.context.option.imageWidth===e._defaultSizeX?"":this.context.option.imageWidth,e.inputY.value=this.context.option.imageHeight===e._defaultSizeY?"":this.context.option.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1)}}},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n);t.default={name:"link",display:"dialog",add:function(e){e.addModule([o.a]);const t=e.context;t.link={focusElement:null,linkNewWindowCheck:null,linkAnchorText:null,_linkAnchor:null,_linkValue:""};let i=this.setDialog.call(e);t.link.modal=i,t.link.focusElement=i.querySelector("._se_link_url"),t.link.linkAnchorText=i.querySelector("._se_link_text"),t.link.linkNewWindowCheck=i.querySelector("._se_link_check"),t.link.preview=i.querySelector(".se-link-preview");let n=this.setController_LinkButton.call(e);t.link.linkController=n,t.link._linkAnchor=null,n.addEventListener("mousedown",e.eventStop),i.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),n.addEventListener("click",this.onClick_linkController.bind(e)),t.link.focusElement.addEventListener("input",this._onLinkPreview.bind(t.link.preview,t.link,t.options.linkProtocol)),t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-dialog-content",t.style.display="none",t.innerHTML='<form class="editor_link"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+e.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><input class="se-input-form _se_link_url" type="text" /><pre class="se-link-preview"></pre></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_link_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_link_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t},setController_LinkButton:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+t.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"link","link"===this.currentControllerName)},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=function(){const e=this.context.link;if(0===e._linkValue.length)return!1;const t=e._linkValue,i=e.linkAnchorText,n=0===i.value.length?t:i.value;if(this.context.dialog.updateModal){e._linkAnchor.href=t,e._linkAnchor.textContent=n,e._linkAnchor.target=e.linkNewWindowCheck.checked?"_blank":"";const i=e._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{const i=this.util.createElement("A");i.href=t,i.textContent=n,i.target=e.linkNewWindowCheck.checked?"_blank":"";const o=this.getSelectedElements();if(o.length>1){const e=this.util.createElement(o[0].nodeName);if(e.appendChild(i),!this.insertNode(e,null,!0))return}else if(!this.insertNode(i,null,!0))return;this.setRange(i.childNodes[0],0,i.childNodes[0],i.textContent.length)}e._linkValue=e.preview.textContent=e.focusElement.value=e.linkAnchorText.value=""}.bind(this);try{t()}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(e){if(this.util.isAnchor(e)&&null===e.getAttribute("data-image-link"))return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0}else this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();return!1},on:function(e){const t=this.context.link;e?t._linkAnchor&&(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.focusElement.value=t._linkAnchor.href,t.linkAnchorText.value=t._linkAnchor.textContent,t.linkNewWindowCheck.checked=!!/_blank/i.test(t._linkAnchor.target)):(this.plugins.link.init.call(this),t.linkAnchorText.value=this.getSelection().toString())},call_controller:function(e){this.editLink=this.context.link._linkAnchor=e;const t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent;const n=this.util.getOffset(e,this.context.element.wysiwygFrame);t.style.top=n.top+e.offsetHeight+10+"px",t.style.left=n.left-this.context.element.wysiwygFrame.scrollLeft+"px",t.style.display="block";const o=this.context.element.wysiwygFrame.offsetWidth-(t.offsetLeft+t.offsetWidth);o<0?(t.style.left=t.offsetLeft+o+"px",t.firstElementChild.style.left=20-o+"px"):t.firstElementChild.style.left="20px",this.controllersOn(t,e,"link")},onClick_linkController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t)){const e=this.context.link;e._linkValue=e.preview.textContent=e.focusElement.value=e._linkAnchor.href,e.linkAnchorText.value=e._linkAnchor.textContent,e.linkNewWindowCheck.checked=!!/_blank/i.test(e._linkAnchor.target),this.plugins.dialog.open.call(this,"link",!0)}else if(/unlink/.test(t)){const e=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1),t=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0);this.setRange(e,0,t,t.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.link._linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){const e=this.context.link;e.linkController.style.display="none",e._linkAnchor=null,e._linkValue=e.preview.textContent=e.focusElement.value="",e.linkAnchorText.value="",e.linkNewWindowCheck.checked=!1}}},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),l=i(2),s=i.n(l),r=i(6),a=i.n(r),c=i(3),u=i.n(c);t.default={name:"video",display:"dialog",add:function(e){e.addModule([o.a,s.a,a.a,u.a]);const t=e.context,i=t.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,sizeUnit:t.option._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.option.youtubeQuery,_videoRatio:100*t.option.videoRatio+"%",_defaultRatio:100*t.option.videoRatio+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:100*t.option.videoRatio+"%",_origin_w:"100%"===t.option.videoWidth?"":t.option.videoWidth,_origin_h:"56.25%"===t.option.videoHeight?"":t.option.videoHeight,_proportionChecked:!0,_resizing:t.option.videoResizing,_resizeDotHide:!t.option.videoHeightShow,_rotation:t.option.videoRotation,_onlyPercentage:t.option.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let n=this.setDialog.call(e);i.modal=n,i.videoInputFile=n.querySelector("._se_video_file"),i.videoUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.videoUrlFile||i.videoInputFile,i.preview=n.querySelector(".se-link-preview"),n.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),i.videoInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.videoInputFile,i.videoUrlFile,i.preview)),i.videoInputFile&&i.videoUrlFile&&i.videoInputFile.addEventListener("change",this._fileInputChange.bind(i)),i.videoUrlFile&&i.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),i.proportion={},i.videoRatioOption={},i.inputX={},i.inputY={},t.option.videoResizing&&(i.proportion=n.querySelector("._se_video_check_proportion"),i.videoRatioOption=n.querySelector(".se-video-ratio"),i.inputX=n.querySelector("._se_video_size_x"),i.inputY=n.querySelector("._se_video_size_y"),i.inputX.value=t.option.videoWidth,i.inputY.value=t.option.videoHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),i.inputX.addEventListener("change",this.setRatio.bind(e)),i.inputY.addEventListener("change",this.setRatio.bind(e)),i.proportion.addEventListener("change",this.setRatio.bind(e)),i.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),n.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),t.dialog.modal.appendChild(n),n=null},setDialog:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let n='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+t.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'">'+this.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const i=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],o=e.videoRatio,l=e.videoSizeOnlyPercentage,s=l?' style="display: none !important;"':"",r=e.videoHeightShow?"":' style="display: none !important;"',a=e.videoRatioShow?"":' style="display: none !important;"',c=l||e.videoHeightShow||e.videoRatioShow?"":' style="display: none !important;"';n+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+r+">"+t.dialogBox.height+'</label><label class="size-h"'+a+">("+t.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+'/><label class="se-dialog-size-x"'+c+">"+(l?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+100*e.videoRatio+'%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+r+'/><select class="se-input-select se-video-ratio" title="'+t.dialogBox.ratio+'"'+a+">",r||(n+='<option value=""> - </option>');for(let e=0,t=i.length;e<t;e++)n+='<option value="'+i[e].value+'"'+(o.toString()===i[e].value.toString()?" selected":"")+">"+i[e].name+"</option>";n+='</select><button type="button" title="'+t.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+this.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+s+c+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+t.dialogBox.proportion+"</label></div>"}return n+='</div><div class="se-dialog-footer"><div><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+t.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+t.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+t.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+t.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=n,i},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.context.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){const e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;const t=this.context.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){const e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){const t=e||this.context.video._element,i=this.context.video._container,n=1*t.getAttribute("data-index");let o=i.previousElementSibling||i.nextElementSibling;const l=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(o),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){const t=this.context.video;e?t.videoInputFile&&this.context.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.context.option.videoWidth===t._defaultSizeX?"":this.context.option.videoWidth,t.inputY.value=t._origin_h=this.context.option.videoHeight===t._defaultSizeY?"":this.context.option.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.context.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video","video"===this.currentControllerName)},setVideoRatio:function(e){const t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?100*i+"%":t._defaultSizeY,t.inputY.placeholder=i?100*i+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&32===t.keyCode)return void t.preventDefault();const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),"y"===e&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){const t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let s=0,r=e.length;s<r;s++)/video/i.test(e[s].type)&&(i.push(e[s]),t+=e[s].size);const n=this.context.option.videoUploadSizeLimit;if(n>0){let e=0;const i=this.context.video._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";return void(("function"!==this.functions.onVideoUploadError||this.functions.onVideoUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.video;o._uploadFileLength=i.length;const l={inputWidth:o.inputX.value,inputHeight:o.inputY.value,align:o._align,isUpdate:this.context.dialog.updateModal,element:o._element};if("function"===typeof this.functions.onVideoUploadBefore){const e=this.functions.onVideoUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.video.register.call(this,l,e):this.plugins.video.upload.call(this,l,e)}.bind(this));if("undefined"===typeof e)return;if(!e)return void this.closeLoading();"object"===typeof e&&e.length>0&&(i=e)}this.plugins.video.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!==typeof this.functions.onVideoUploadError||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"===typeof t)return void this.plugins.video.error.call(this,t,null);const i=this.context.option.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(!("string"===typeof i&&i.length>0))throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.');{const o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.context.option.videoUploadHeader,o,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}},callBack_videoUpload:function(e,t){if("function"===typeof this.functions.videoUploadHandler)this.functions.videoUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){const i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let o,l=0,s=i.length;l<s;l++)o={name:i[l].name,size:i[l].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[l].url,e.inputWidth,e.inputHeight,e.align,o,e.isUpdate);this.closeLoading()},setup_url:function(){try{const e=this.context.video;let t=e._linkValue;if(0===t.length)return!1;if(/^<iframe.*\/iframe>$/.test(t)){if(t=(new this._w.DOMParser).parseFromString(t,"text/html").querySelector("iframe").src,0===t.length)return!1}if(/youtu\.?be/.test(t)){if(/^http/.test(t)||(t="https://"+t),t=t.replace("watch?v=",""),/^\/\/.+\/embed\//.test(t)||(t=t.replace(t.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._youtubeQuery+"&"+i[1]}else t+="?"+e._youtubeQuery}else/vimeo\.com/.test(t)&&(t.endsWith("/")&&(t=t.slice(0,-1)),t="https://player.vimeo.com/video/"+t.slice(t.lastIndexOf("/")+1));this.plugins.video.create_video.call(this,this.plugins.video.createIframeTag.call(this),t,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,o,l,s){this.context.resizing._resize_plugin="video";const r=this.context.video;let a=null,c=null,u=!1;if(s){if((e=r._element).src!==t){u=!0;const i=/youtu\.?be/.test(t),n=/vimeo\.com/.test(t);if(!i&&!n||/^iframe$/i.test(e.nodeName))if(i||n||/^videoo$/i.test(e.nodeName))e.src=t;else{const i=this.plugins.video.createVideoTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),r._element=e=i}else{const i=this.plugins.video.createIframeTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),r._element=e=i}}c=r._container,a=this.util.getParentElement(e,"FIGURE")}else u=!0,e.src=t,r._element=e,a=this.plugins.component.set_cover.call(this,e),c=this.plugins.component.set_container.call(this,a,"se-video-container");r._cover=a,r._container=c;const d=this.plugins.resizing._module_getSizeX.call(this,r)!==(i||r._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,r)!==(n||r._videoRatio),h=!s||d;r._resizing&&(this.context.video._proportionChecked=r.proportion.checked,e.setAttribute("data-proportion",r._proportionChecked));let p=!1;h&&(p=this.plugins.video.applySize.call(this)),p&&"center"===o||this.plugins.video.setAlign.call(this,null,e,a,c);let f=!0;s?r._resizing&&this.context.resizing._rotateVertical&&h&&this.plugins.resizing.setTransformSize.call(this,e,null,null):f=this.insertComponent(c,!1,!0,!1),f&&(u&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,l,!0),s&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;const t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);const i=this.util.getParentElement(e,this.util.isMediaComponent)||this.util.getParentElement(e,function(e){return this.isWysiwygDiv(e.parentNode)}.bind(this.util));t._element=e=e.cloneNode(!0);const n=t._cover=this.plugins.component.set_cover.call(this,e),o=t._container=this.plugins.component.set_container.call(this,n,"se-video-container"),l=i.querySelector("figcaption");let s=null;l&&(s=this.util.createElement("DIV"),s.innerHTML=l.innerHTML,this.util.removeItem(l));const r=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,r[0],r[1]),i.parentNode.replaceChild(o,i),s&&i.parentNode.insertBefore(s,o.nextElementSibling),this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0)},onModifyMode:function(e,t){const i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.getAttribute("data-align")||"none",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");n?(n=n.split(","),i._origin_w=n[0],i._origin_h=n[1]):t&&(i._origin_w=t.w,i._origin_h=t.h)},openModify:function(e){const t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]').checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);const e=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,e)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(e,2):e)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||1*e>=1)&&(e=""),i.inputY.placeholder="";for(let o=0,l=n.length;o<l;o++)n[o].value===e?(t=n[o].selected=!0,i.inputY.placeholder=e?100*e+"%":""):n[o].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},applySize:function(e,t){const i=this.context.video;return e||(e=i.inputX.value||this.context.option.videoWidth),t||(t=i.inputY.value||this.context.option.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1):this.plugins.video.setAutoSize.call(this),!1)},setSize:function(e,t,i,n){const o=this.context.video,l=/^(rw|lw)$/.test(n),s=/^(th|bh)$/.test(n);s||(e=this.util.getNumber(e,0)),l||(t=this.util.isNumber(t)?t+o.sizeUnit:t||""),s||(o._element.style.width=e?e+o.sizeUnit:""),l||(o._cover.style.paddingBottom=o._cover.style.height=t),s||/%$/.test(e)||(o._cover.style.width="",o._container.style.width=""),l||/%$/.test(t)?o._element.style.height="":o._element.style.height=t,i||o._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,o)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){const t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);const i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){const e=i[0],n=i[1];t._onlyPercentage||/%$/.test(e)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.video.setPercentSize.call(this,e,n):this.plugins.video.setSize.call(this,e,n),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){const i=this.context.video;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio:this.util.isNumber(t)?t+"%":t,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="","center"===i._align&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const o=this.context.video;e||(e=o._align),t||(t=o._element),i||(i=o._cover),n||(n=o._container),i.style.margin=e&&"none"!==e?"auto":"0",/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,o._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},resetAlign:function(){const e=this.context.video;e._element.setAttribute("data-align",""),e._align="none",e._cover.style.margin="0",this.util.removeClass(e._container,e._floatClassRegExp)},init:function(){const e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.context.option.videoWidth,e._origin_h=this.context.option.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.context.option.videoWidth===e._defaultSizeX?"":this.context.option.videoWidth,e.inputY.value=this.context.option.videoHeight===e._defaultSizeY?"":this.context.option.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}}},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),l=i(2),s=i.n(l),r=i(3),a=i.n(r);t.default={name:"audio",display:"dialog",add:function(e){e.addModule([o.a,s.a,a.a]);const t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:t.option.audioWidth,_origin_h:t.option.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog.call(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let l=this.setController.call(e);i.controller=l,l.addEventListener("mousedown",e.eventStop),n.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),l.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(l),n=null,l=null},setDialog:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let n='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+t.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'">'+this.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),n+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=n,i},setController:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+t.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){const e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);const t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.context.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;const t=this.util.getParentElement(e,this.util.isComponent)||e,i=1*e.getAttribute("data-index"),n=t.previousElementSibling||t.nextElementSibling,o=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){const t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.context.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.context.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.context.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio","audio"===this.currentControllerName)},submit:function(e){const t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let s=0,r=e.length;s<r;s++)/audio/i.test(e[s].type)&&(i.push(e[s]),t+=e[s].size);const n=this.context.option.audioUploadSizeLimit;if(n>0){let e=0;const i=this.context.audio._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";return void(("function"!==this.functions.onAudioUploadError||this.functions.onAudioUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.audio;o._uploadFileLength=i.length;const l={isUpdate:this.context.dialog.updateModal,element:o._element};if("function"===typeof this.functions.onAudioUploadBefore){const e=this.functions.onAudioUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.audio.register.call(this,l,e):this.plugins.audio.upload.call(this,l,e)}.bind(this));if("undefined"===typeof e)return;if(!e)return void this.closeLoading();"object"===typeof e&&e.length>0&&(i=e)}this.plugins.audio.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!==typeof this.functions.onAudioUploadError||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"===typeof t)return void this.plugins.audio.error.call(this,t,null);const i=this.context.option.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,o=new FormData;for(let l=0;l<n;l++)o.append("file-"+l,t[l]);this.plugins.fileManager.upload.call(this,i,this.context.option.audioUploadHeader,o,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if("function"===typeof this.functions.audioUploadHandler)this.functions.audioUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let n,o,l=0,s=i.length;l<s;l++)o=e.isUpdate?e.element:this.plugins.audio._createAudioTag.call(this),n={name:i[l].name,size:i[l].size},this.plugins.audio.create_audio.call(this,o,i[l].url,n,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(0===e.length)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){const o=this.context.audio;if(n){if(o._element&&(e=o._element),!e||e.src===t)return void this.selectComponent(e,"audio");e.src=t}else{e.src=t;const i=this.plugins.component.set_cover.call(this,e),n=this.plugins.component.set_container.call(this,i,"");if(!this.insertComponent(n,!1,!0,!1))return void this.focus()}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),this.selectComponent(e,"audio"),n&&this.history.push(!1)},updateCover:function(e){const t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);const i=this.util.getParentElement(e,this.util.isMediaComponent)||this.util.getParentElement(e,function(e){return this.isWysiwygDiv(e.parentNode)}.bind(this.util));t._element=e=e.cloneNode(!1);const n=this.plugins.component.set_cover.call(this,e),o=this.plugins.component.set_container.call(this,n,"se-audio-container");i.parentNode.replaceChild(o,i),this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1)},onModifyMode:function(e){const t=this.context.audio,i=t.controller,n=this.util.getOffset(e,this.context.element.wysiwygFrame);i.style.top=n.top+e.offsetHeight+10+"px",i.style.left=n.left-this.context.element.wysiwygFrame.scrollLeft+"px",i.style.display="block";const o=this.context.element.wysiwygFrame.offsetWidth-(i.offsetLeft+i.offsetWidth);o<0?(i.style.left=i.offsetLeft+o+"px",i.firstElementChild.style.left=20-o+"px"):i.firstElementChild.style.left="20px",this.controllersOn(i,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}}},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"da",toolbar:{default:"Default",save:"Gem",font:"Skrifttype",formats:"Format",fontSize:"Skriftst\xf8rrelse",bold:"Fed",underline:"Understreget",italic:"Skr\xe5skrift",strike:"Overstreget",subscript:"S\xe6nket skrift",superscript:"H\xe6vet skrift",removeFormat:"Fjern formatering",fontColor:"Skriftfarve",hiliteColor:"Baggrundsfarve",indent:"Ryk ind",outdent:"Ryk ud",align:"Justering",alignLeft:"Venstrejustering",alignRight:"H\xf8jrejustering",alignCenter:"Midterjustering",alignJustify:"Tilpas margin",list:"Lister",orderList:"Nummereret liste",unorderList:"Uordnet liste",horizontalRule:"Horisontal linie",hr_solid:"Almindelig",hr_dotted:"Punkteret",hr_dashed:"Streget",table:"Tabel",link:"Link",math:"Math",image:"Billede",video:"Video",audio:"Audio",fullScreen:"Fuld sk\xe6rm",showBlocks:"Vis blokke",codeView:"Vis koder",undo:"Undo",redo:"Redo",preview:"Preview",print:"Print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Overskrift",tag_blockquote:"Citer",tag_pre:"Code",template:"Schablone",lineHeight:"Linjeh\xf8jde",paragraphStyle:"Afsnitstil",textStyle:"Tekststil",imageGallery:"Billedgalleri"},dialogBox:{linkBox:{title:"Inds\xe6t link",url:"URL til link",text:"Tekst for link",newWindowCheck:"\xc5ben i nyt faneblad"},mathBox:{title:"Math",inputLabel:"Matematisk notation",fontSizeLabel:"Skriftst\xf8rrelse",previewLabel:"Preview"},imageBox:{title:"Inds\xe6t billede",file:"Inds\xe6t fra fil",url:"Inds\xe6t fra URL",altText:"Alternativ tekst"},videoBox:{title:"Inds\xe6t Video",file:"Inds\xe6t fra fil",url:"Indlejr video / YouTube,Vimeo"},audioBox:{title:"Inds\xe6t Audio",file:"Inds\xe6t fra fil",url:"Inds\xe6t fra URL"},browser:{tags:"Tags",search:"S\xf8g"},caption:"Inds\xe6t beskrivelse",close:"Luk",submitButton:"Gennemf\xf8r",revertButton:"Gendan",proportion:"Bevar proportioner",basic:"Basis",left:"Venstre",right:"H\xf8jre",center:"Center",width:"Bredde",height:"H\xf8jde",size:"St\xf8rrelse",ratio:"Forhold"},controller:{edit:"Rediger",unlink:"Fjern link",remove:"Fjern",insertRowAbove:"Inds\xe6t r\xe6kke foroven",insertRowBelow:"Inds\xe6t r\xe6kke nedenfor",deleteRow:"Slet r\xe6kke",insertColumnBefore:"Inds\xe6t kolonne f\xf8r",insertColumnAfter:"Inds\xe6t kolonne efter",deleteColumn:"Slet kolonne",fixedColumnWidth:"Fast s\xf8jlebredde",resize100:"Forst\xf8r 100%",resize75:"Forst\xf8r 75%",resize50:"Forst\xf8r 50%",resize25:"Forst\xf8r 25%",autoSize:"Auto st\xf8rrelse",mirrorHorizontal:"Spejling, horisontal",mirrorVertical:"Spejling, vertikal",rotateLeft:"Roter til venstre",rotateRight:"Toter til h\xf8jre",maxSize:"Max st\xf8rrelse",minSize:"Min st\xf8rrelse",tableHeader:"Tabel overskrift",mergeCells:"Sammenl\xe6g celler (merge)",splitCells:"Opdel celler",HorizontalSplit:"Opdel horisontalt",VerticalSplit:"Opdel vertikalt"},menu:{spaced:"Brev Afstand",bordered:"Afgr\xe6nsningslinje",neon:"Neon",translucent:"Gennemsigtig",shadow:"Skygge",code:"Code"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"da",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"de",toolbar:{default:"Standard",save:"Speichern",font:"Schriftart",formats:"Format",fontSize:"Schriftgr\xf6\xdfe",bold:"Fett",underline:"Unterstrichen",italic:"Kursiv",strike:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",removeFormat:"Format entfernen",fontColor:"Schriftfarbe",hiliteColor:"Farbe f\xfcr Hervorhebungen",indent:"Einzug vergr\xf6\xdfern",outdent:"Einzug verkleinern",align:"Ausrichtung",alignLeft:"Links ausrichten",alignRight:"Rechts ausrichten",alignCenter:"Zentriert ausrichten",alignJustify:"Blocksatz",list:"Liste",orderList:"Nummerierte Liste",unorderList:"Aufz\xe4hlung",horizontalRule:"Horizontale Linie",hr_solid:"Strich",hr_dotted:"Gepunktet",hr_dashed:"Gestrichelt",table:"Tabelle",link:"Link",math:"Mathematik",image:"Bild",video:"Video",audio:"Audio",fullScreen:"Vollbild",showBlocks:"Blockformatierungen anzeigen",codeView:"Quelltext anzeigen",undo:"R\xfcckg\xe4ngig",redo:"Wiederholen",preview:"Vorschau",print:"Drucken",tag_p:"Absatz",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Zitat",tag_pre:"Quellcode",template:"Vorlage",lineHeight:"Zeilenh\xf6he",paragraphStyle:"Absatzstil",textStyle:"Textstil",imageGallery:"Bildergalerie"},dialogBox:{linkBox:{title:"Link einf\xfcgen",url:"Link-URL",text:"Link-Text",newWindowCheck:"In neuem Fenster anzeigen"},mathBox:{title:"Mathematik",inputLabel:"Mathematische Notation",fontSizeLabel:"Schriftgr\xf6\xdfe",previewLabel:"Vorschau"},imageBox:{title:"Bild einf\xfcgen",file:"Datei ausw\xe4hlen",url:"Bild-URL",altText:"Alternativer Text"},videoBox:{title:"Video enf\xfcgen",file:"Datei ausw\xe4hlen",url:"Video-URL, YouTube/Vimeo"},audioBox:{title:"Audio enf\xfcgen",file:"Datei ausw\xe4hlen",url:"Audio-URL"},browser:{tags:"Stichworte",search:"Suche"},caption:"Beschreibung eingeben",close:"Schlie\xdfen",submitButton:"\xdcbernehmen",revertButton:"R\xfcckg\xe4ngig",proportion:"Seitenverh\xe4ltnis beibehalten",basic:"Standard",left:"Links",right:"Rechts",center:"Zentriert",width:"Breite",height:"H\xf6he",size:"Gr\xf6\xdfe",ratio:"Verh\xe4ltnis"},controller:{edit:"Bearbeiten",unlink:"Link entfernen",remove:"L\xf6schen",insertRowAbove:"Zeile oberhalb einf\xfcgen",insertRowBelow:"Zeile unterhalb einf\xfcgen",deleteRow:"Zeile l\xf6schen",insertColumnBefore:"Spalte links einf\xfcgen",insertColumnAfter:"Spalte rechts einf\xfcgen",deleteColumn:"Spalte l\xf6schen",fixedColumnWidth:"Feste Spaltenbreite",resize100:"Zoom 100%",resize75:"Zoom 75%",resize50:"Zoom 50%",resize25:"Zoom 25%",autoSize:"Automatische Gr\xf6\xdfenanpassung",mirrorHorizontal:"Horizontal spiegeln",mirrorVertical:"Vertikal spiegeln",rotateLeft:"Nach links drehen",rotateRight:"Nach rechts drehen",maxSize:"Maximale Gr\xf6\xdfe",minSize:"Mindestgr\xf6\xdfe",tableHeader:"Tabellen\xfcberschrift",mergeCells:"Zellen verbinden",splitCells:"Zellen teilen",HorizontalSplit:"Horizontal teilen",VerticalSplit:"Vertikal teilen"},menu:{spaced:"Buchstabenabstand",bordered:"Umrandet",neon:"Neon",translucent:"Durchscheinend",shadow:"Schatten",code:"Quellcode"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"de",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"es",toolbar:{default:"Valor por defecto",save:"Guardar",font:"Fuente",formats:"Formato",fontSize:"Tama\xf1o de fuente",bold:"Negrita",underline:"Subrayado",italic:"Cursiva",strike:"Tachado",subscript:"Sub\xedndice",superscript:"Super\xedndice",removeFormat:"Eliminar formato",fontColor:"Color de fuente",hiliteColor:"Color de resaltado",indent:"M\xe1s tabulaci\xf3n",outdent:"Menos tabulaci\xf3n",align:"Alinear",alignLeft:"Alinear a la izquierda",alignRight:"Alinear a la derecha",alignCenter:"Alinear al centro",alignJustify:"Justificar",list:"Lista",orderList:"Lista ordenada",unorderList:"Lista desordenada",horizontalRule:"Horizontal line",hr_solid:"L\xednea horizontal solida",hr_dotted:"L\xednea horizontal punteada",hr_dashed:"L\xednea horizontal discontinua",table:"Tabla",link:"Link",math:"Matem\xe1ticas",image:"Imagen",video:"Video",audio:"Audio",fullScreen:"Pantalla completa",showBlocks:"Ver bloques",codeView:"Ver c\xf3digo fuente",undo:"UndoDeshacer \xfaltima acci\xf3n",redo:"Rehacer \xfaltima acci\xf3n",preview:"Vista previa",print:"Imprimir",tag_p:"P\xe1rrafo",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Cita",tag_pre:"C\xf3digo",template:"Plantilla",lineHeight:"Altura de la l\xednea",paragraphStyle:"Estilo del parrafo",textStyle:"Estilo del texto",imageGallery:"Galer\xeda de im\xe1genes"},dialogBox:{linkBox:{title:"Insertar Link",url:"\xbfHacia que URL lleva el link?",text:"Texto para mostrar",newWindowCheck:"Abrir en una nueva ventana"},mathBox:{title:"Matem\xe1ticas",inputLabel:"Notaci\xf3n Matem\xe1tica",fontSizeLabel:"Tama\xf1o de fuente",previewLabel:"Vista previa"},imageBox:{title:"Insertar imagen",file:"Seleccionar desde los archivos",url:"URL de la imagen",altText:"Texto alternativo"},videoBox:{title:"Insertar Video",file:"Seleccionar desde los archivos",url:"\xbfURL del v\xeddeo? Youtube/Vimeo"},audioBox:{title:"Insertar Audio",file:"Seleccionar desde los archivos",url:"URL de la audio"},browser:{tags:"Etiquetas",search:"Buscar"},caption:"Insertar descripci\xf3n",close:"Cerrar",submitButton:"Enviar",revertButton:"revertir",proportion:"Restringir las proporciones",basic:"Basico",left:"Izquierda",right:"derecha",center:"Centro",width:"Ancho",height:"Alto",size:"Tama\xf1o",ratio:"Proporci\xf3n"},controller:{edit:"Editar",unlink:"Desvincular",remove:"RemoveQuitar",insertRowAbove:"Insertar fila arriba",insertRowBelow:"Insertar fila debajo",deleteRow:"Eliminar fila",insertColumnBefore:"Insertar columna antes",insertColumnAfter:"Insertar columna despu\xe9s",deleteColumn:"Eliminar columna",fixedColumnWidth:"Ancho de columna fijo",resize100:"Redimensionar 100%",resize75:"Redimensionar 75%",resize50:"Redimensionar 50%",resize25:"Redimensionar 25%",autoSize:"Tama\xf1o autom\xe1tico",mirrorHorizontal:"Espejo, Horizontal",mirrorVertical:"Espejo, Vertical",rotateLeft:"Girar a la izquierda",rotateRight:"Girar a la derecha",maxSize:"Tama\xf1o m\xe1ximo",minSize:"Tama\xf1o min\xedmo",tableHeader:"Encabezado de tabla",mergeCells:"Combinar celdas",splitCells:"Dividir celdas",HorizontalSplit:"Divisi\xf3n horizontal",VerticalSplit:"Divisi\xf3n vertical"},menu:{spaced:"Espaciado",bordered:"Bordeado",neon:"Ne\xf3n",translucent:"Transl\xfacido",shadow:"Sombreado",code:"C\xf3digo"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"es",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"fr",toolbar:{default:"D\xe9faut",save:"Sauvegarder",font:"Police",formats:"Formats",fontSize:"Taille",bold:"Gras",underline:"Soulign\xe9",italic:"Italique",strike:"Barr\xe9",subscript:"Indice",superscript:"Exposant",removeFormat:"\xc9ffacer  le Formatage",fontColor:"Couleur du texte",hiliteColor:"Couleur en arri\xe8re plan",indent:"Indenter",outdent:"D\xe9sindenter",align:"Alignenement",alignLeft:"\xc0 gauche",alignRight:"\xc0 droite",alignCenter:"Centr\xe9",alignJustify:"Justifi\xe9",list:"Liste",orderList:"Ordonn\xe9e",unorderList:"Non-ordonn\xe9e",horizontalRule:"Ligne horizontale",hr_solid:"Solide",hr_dotted:"Points",hr_dashed:"Tirets",table:"Table",link:"Lien",math:"Math",image:"Image",video:"Video",audio:"l'audio",fullScreen:"Plein \xe9cran",showBlocks:"Voir les blocs",codeView:"Voir le code",undo:"Annuler",redo:"R\xe9tablir",preview:"Previsualiser",print:"Imprimer",tag_p:"Paragraphe",tag_div:"Normal (DIV)",tag_h:"Titre",tag_blockquote:"Citation",tag_pre:"Code",template:"Template",lineHeight:"Hauteur de la ligne",paragraphStyle:"Style de paragraphe",textStyle:"Style de texte",imageGallery:"Galerie d'images"},dialogBox:{linkBox:{title:"Ins\xe9rer un lien",url:"Adresse URL du lien",text:"Texte \xe0 afficher",newWindowCheck:"Ouvrir dans une nouvelle fen\xeatre"},mathBox:{title:"Math",inputLabel:"Notation math\xe9matique",fontSizeLabel:"Taille",previewLabel:"Previsualiser"},imageBox:{title:"Ins\xe9rer une image",file:"S\xe9lectionner le fichier",url:"Adresse URL du fichier",altText:"Texte Alternatif"},videoBox:{title:"Ins\xe9rer une Vid\xe9o",file:"S\xe9lectionner le fichier",url:"URL d\u2019int\xe9gration du m\xe9dia, YouTube/Vimeo"},audioBox:{title:"Insertar une l'audio",file:"S\xe9lectionner le fichier",url:"Adresse URL du fichier"},browser:{tags:"Mots cl\xe9s",search:"Chercher"},caption:"Ins\xe9rer une description",close:"Fermer",submitButton:"Appliquer",revertButton:"Revenir en arri\xe8re",proportion:"Maintenir le rapport hauteur/largeur",basic:"Basique",left:"Gauche",right:"Droite",center:"Centr\xe9",width:"Largeur",height:"Hauteur",size:"La taille",ratio:"Rapport"},controller:{edit:"Modifier",unlink:"Supprimer un lien",remove:"Effacer",insertRowAbove:"Ins\xe9rer une ligne en dessous",insertRowBelow:"Ins\xe9rer une ligne au dessus",deleteRow:"Effacer la ligne",insertColumnBefore:"Ins\xe9rer une colonne avant",insertColumnAfter:"Ins\xe9rer une colonne apr\xe8s",deleteColumn:"Effacer la colonne",fixedColumnWidth:"Largeur de colonne fixe",resize100:"Redimensionner \xe0 100%",resize75:"Redimensionner \xe0 75%",resize50:"Redimensionner \xe0 50%",resize25:"Redimensionner \xe0 25%",autoSize:"Taille automatique",mirrorHorizontal:"Mirroir, Horizontal",mirrorVertical:"Mirroir, Vertical",rotateLeft:"Rotation \xe0 gauche",rotateRight:"Rotation \xe0 droite",maxSize:"Taille max",minSize:"Taille min",tableHeader:"En-t\xeate de table",mergeCells:"Fusionner les cellules",splitCells:"Diviser les Cellules",HorizontalSplit:"Scission horizontale",VerticalSplit:"Scission verticale"},menu:{spaced:"Espacement",bordered:"Ligne de d\xe9marcation",neon:"N\xe9on",translucent:"Translucide",shadow:"L'ombre",code:"Code"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"fr",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"ja",toolbar:{default:"\u30c7\u30d5\u30a9\u30eb\u30c8",save:"\u4fdd\u5b58",font:"\u30d5\u30a9\u30f3\u30c8",formats:"\u6bb5\u843d\u5f62\u5f0f",fontSize:"\u30b5\u30a4\u30ba",bold:"\u592a\u5b57",underline:"\u4e0b\u7dda",italic:"\u30a4\u30bf\u30ea\u30c3\u30af",strike:"\u53d6\u308a\u6d88\u3057\u7dda",subscript:"\u4e0b\u4ed8\u304d",superscript:"\u4e0a\u4ed8\u304d",removeFormat:"\u5f62\u5f0f\u3092\u524a\u9664",fontColor:"\u6587\u5b57\u8272",hiliteColor:"\u6587\u5b57\u306e\u80cc\u666f\u8272",indent:"\u30a4\u30f3\u30c7\u30f3\u30c8",outdent:"\u30a4\u30f3\u30c7\u30f3\u30c8",align:"\u30bd\u30fc\u30c8",alignLeft:"\u5de6\u63c3\u3048",alignRight:"\u53f3\u63c3\u3048",alignCenter:"\u4e2d\u592e\u63c3\u3048",alignJustify:"\u4e21\u7aef\u63c3\u3048",list:"\u30ea\u30b9\u30c8",orderList:"\u6570\u5024\u30d6\u30ea\u30c3\u30c8",unorderList:"\u5186\u5f62\u30d6\u30ea\u30c3\u30c8",horizontalRule:"\u6c34\u5e73\u7dda\u3092\u633f\u5165",hr_solid:"\u5b9f\u7dda",hr_dotted:"\u70b9\u7dda",hr_dashed:"\u30c0\u30c3\u30b7\u30e5",table:"\u30c6\u30fc\u30d6\u30eb",link:"\u30ea\u30f3\u30af",math:"\u6570\u5b66",image:"\u753b\u50cf",video:"\u52d5\u753b",audio:"\u30aa\u30fc\u30c7\u30a3\u30aa",fullScreen:"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3",showBlocks:"\u30d6\u30ed\u30c3\u30af\u8868\u793a",codeView:"HTML\u306e\u7de8\u96c6",undo:"\u5143\u306b\u623b\u3059",redo:"\u518d\u5b9f\u884c",preview:"\u30d7\u30ec\u30d3\u30e5\u30fc",print:"\u5370\u5237",tag_p:"\u672c\u6587",tag_div:"\u57fa\u672c\uff08DIV\uff09",tag_h:"\u30bf\u30a4\u30c8\u30eb",tag_blockquote:"\u5f15\u7528",tag_pre:"\u30b3\u30fc\u30c9",template:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8",lineHeight:"\u884c\u306e\u9ad8\u3055",paragraphStyle:"\u6bb5\u843d\u30b9\u30bf\u30a4\u30eb",textStyle:"\u30c6\u30ad\u30b9\u30c8\u30b9\u30bf\u30a4\u30eb",imageGallery:"\u30a4\u30e1\u30fc\u30b8\u30ae\u30e3\u30e9\u30ea\u30fc"},dialogBox:{linkBox:{title:"\u30ea\u30f3\u30af\u306e\u633f\u5165",url:"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30a2\u30c9\u30ec\u30b9",text:"\u753b\u9762\u306e\u30c6\u30ad\u30b9\u30c8",newWindowCheck:"\u5225\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u958b\u304f"},mathBox:{title:"\u6570\u5b66",inputLabel:"\u6570\u5b66\u8868\u8a18",fontSizeLabel:"\u30b5\u30a4\u30ba",previewLabel:"\u30d7\u30ec\u30d3\u30e5\u30fc"},imageBox:{title:"\u753b\u50cf\u306e\u633f\u5165",file:"\u30d5\u30a1\u30a4\u30eb\u306e\u9078\u629e",url:"\u30a4\u30e1\u30fc\u30b8\u30a2\u30c9\u30ec\u30b9",altText:"\u7f6e\u63db\u6587\u5b57\u5217"},videoBox:{title:"\u52d5\u753b\u3092\u633f\u5165",file:"\u30d5\u30a1\u30a4\u30eb\u306e\u9078\u629e",url:"\u30e1\u30c7\u30a3\u30a2\u57cb\u3081\u8fbc\u307f\u30a2\u30c9\u30ec\u30b9, YouTube/Vimeo"},audioBox:{title:"\u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u633f\u5165",file:"\u30d5\u30a1\u30a4\u30eb\u306e\u9078\u629e",url:"\u30aa\u30fc\u30c7\u30a3\u30aa\u30a2\u30c9\u30ec\u30b9"},browser:{tags:"\u30bf\u30b0",search:"\u63a2\u3059"},caption:"\u8aac\u660e\u4ed8\u3051",close:"\u9589\u3058\u308b",submitButton:"\u78ba\u8a8d",revertButton:"\u5143\u306b\u623b\u3059",proportion:"\u306e\u5272\u5408\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",basic:"\u57fa\u672c",left:"\u5de6",right:"\u53f3",center:"\u4e2d\u592e",width:"\u6a2a",height:"\u7e26",size:"\u30b5\u30a4\u30ba",ratio:"\u6bd4\u7387"},controller:{edit:"\u7de8\u96c6",unlink:"\u30ea\u30f3\u30af\u89e3\u9664",remove:"\u524a\u9664",insertRowAbove:"\u4e0a\u306b\u884c\u3092\u633f\u5165",insertRowBelow:"\u4e0b\u306b\u884c\u3092\u633f\u5165",deleteRow:"\u884c\u306e\u524a\u9664",insertColumnBefore:"\u5de6\u306b\u5217\u3092\u633f\u5165",insertColumnAfter:"\u53f3\u306b\u5217\u3092\u633f\u5165",deleteColumn:"\u5217\u3092\u524a\u9664\u3059\u308b",fixedColumnWidth:"\u56fa\u5b9a\u5217\u5e45",resize100:"100\uff05 \u30b5\u30a4\u30ba",resize75:"75\uff05 \u30b5\u30a4\u30ba",resize50:"50\uff05 \u30b5\u30a4\u30ba",resize25:"25\uff05 \u30b5\u30a4\u30ba",autoSize:"\u81ea\u52d5\u30b5\u30a4\u30ba",mirrorHorizontal:"\u5de6\u53f3\u53cd\u8ee2",mirrorVertical:"\u4e0a\u4e0b\u53cd\u8ee2",rotateLeft:"\u5de6\u306b\u56de\u8ee2",rotateRight:"\u53f3\u306b\u56de\u8ee2",maxSize:"\u6700\u5927\u30b5\u30a4\u30ba",minSize:"\u6700\u5c0f\u30b5\u30a4\u30ba",tableHeader:"\u8868\u306e\u30d8\u30c3\u30c0\u30fc",mergeCells:"\u30bb\u30eb\u306e\u7d50\u5408",splitCells:"\u30bb\u30eb\u3092\u5206\u5272",HorizontalSplit:"\u6a2a\u5206\u5272",VerticalSplit:"\u5782\u76f4\u5206\u5272"},menu:{spaced:"\u6587\u5b57\u9593\u9694",bordered:"\u5883\u754c\u7dda",neon:"\u30cd\u30aa\u30f3",translucent:"\u534a\u900f\u660e",shadow:"\u5f71",code:"\u30b3\u30fc\u30c9"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ja",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"ko",toolbar:{default:"\uae30\ubcf8\uac12",save:"\uc800\uc7a5",font:"\uae00\uaf34",formats:"\ubb38\ub2e8 \ud615\uc2dd",fontSize:"\ud06c\uae30",bold:"\uad75\uac8c",underline:"\ubc11\uc904",italic:"\uae30\uc6b8\uc784",strike:"\ucde8\uc18c\uc120",subscript:"\uc544\ub798 \ucca8\uc790",superscript:"\uc704 \ucca8\uc790",removeFormat:"\ud615\uc2dd \uc81c\uac70",fontColor:"\uae00\uc790\uc0c9",hiliteColor:"\ubc30\uacbd\uc0c9",indent:"\ub4e4\uc5ec\uc4f0\uae30",outdent:"\ub0b4\uc5b4\uc4f0\uae30",align:"\uc815\ub82c",alignLeft:"\uc67c\ucabd \uc815\ub82c",alignRight:"\uc624\ub978\ucabd \uc815\ub82c",alignCenter:"\uac00\uc6b4\ub370 \uc815\ub82c",alignJustify:"\uc591\ucabd \uc815\ub82c",list:"\ub9ac\uc2a4\ud2b8",orderList:"\uc22b\uc790\ud615 \ub9ac\uc2a4\ud2b8",unorderList:"\uc6d0\ud615 \ub9ac\uc2a4\ud2b8",horizontalRule:"\uac00\ub85c \uc904 \uc0bd\uc785",hr_solid:"\uc2e4\uc120",hr_dotted:"\uc810\uc120",hr_dashed:"\ub300\uc2dc",table:"\ud14c\uc774\ube14",link:"\ub9c1\ud06c",math:"\uc218\uc2dd",image:"\uc774\ubbf8\uc9c0",video:"\ub3d9\uc601\uc0c1",audio:"\uc624\ub514\uc624",fullScreen:"\uc804\uccb4 \ud654\uba74",showBlocks:"\ube14\ub85d \ubcf4\uae30",codeView:"HTML \ud3b8\uc9d1",undo:"\uc2e4\ud589 \ucde8\uc18c",redo:"\ub2e4\uc2dc \uc2e4\ud589",preview:"\ubbf8\ub9ac\ubcf4\uae30",print:"\uc778\uc1c4",tag_p:"\ubcf8\ubb38",tag_div:"\uae30\ubcf8 (DIV)",tag_h:"\uc81c\ubaa9",tag_blockquote:"\uc778\uc6a9\ubb38",tag_pre:"\ucf54\ub4dc",template:"\ud15c\ud50c\ub9bf",lineHeight:"\uc904 \ub192\uc774",paragraphStyle:"\ubb38\ub2e8 \uc2a4\ud0c0\uc77c",textStyle:"\uae00\uc790 \uc2a4\ud0c0\uc77c",imageGallery:"\uc774\ubbf8\uc9c0 \uac24\ub7ec\ub9ac"},dialogBox:{linkBox:{title:"\ub9c1\ud06c \uc0bd\uc785",url:"\uc778\ud130\ub137 \uc8fc\uc18c",text:"\ud654\uba74 \ud14d\uc2a4\ud2b8",newWindowCheck:"\uc0c8\ucc3d\uc73c\ub85c \uc5f4\uae30"},mathBox:{title:"\uc218\uc2dd",inputLabel:"\uc218\ud559\uc801 \ud45c\uae30\ubc95",fontSizeLabel:"\uae00\uc790 \ud06c\uae30",previewLabel:"\ubbf8\ub9ac\ubcf4\uae30"},imageBox:{title:"\uc774\ubbf8\uc9c0 \uc0bd\uc785",file:"\ud30c\uc77c \uc120\ud0dd",url:"\uc774\ubbf8\uc9c0 \uc8fc\uc18c",altText:"\ub300\uccb4 \ubb38\uc790\uc5f4"},videoBox:{title:"\ub3d9\uc601\uc0c1 \uc0bd\uc785",file:"\ud30c\uc77c \uc120\ud0dd",url:"\ubbf8\ub514\uc5b4 \uc784\ubca0\ub4dc \uc8fc\uc18c, \uc720\ud29c\ube0c/\ube44\uba54\uc624"},audioBox:{title:"\uc624\ub514\uc624 \uc0bd\uc785",file:"\ud30c\uc77c \uc120\ud0dd",url:"\uc624\ub514\uc624 \ud30c\uc77c \uc8fc\uc18c"},browser:{tags:"\ud0dc\uadf8",search:"\uac80\uc0c9"},caption:"\uc124\uba85 \ub123\uae30",close:"\ub2eb\uae30",submitButton:"\ud655\uc778",revertButton:"\ub418\ub3cc\ub9ac\uae30",proportion:"\ube44\uc728 \ub9de\ucda4",basic:"\uae30\ubcf8",left:"\uc67c\ucabd",right:"\uc624\ub978\ucabd",center:"\uac00\uc6b4\ub370",width:"\uac00\ub85c",height:"\uc138\ub85c",size:"\ud06c\uae30",ratio:"\ube44\uc728"},controller:{edit:"\ud3b8\uc9d1",unlink:"\ub9c1\ud06c \ud574\uc81c",remove:"\uc0ad\uc81c",insertRowAbove:"\uc704\uc5d0 \ud589 \uc0bd\uc785",insertRowBelow:"\uc544\ub798\uc5d0 \ud589 \uc0bd\uc785",deleteRow:"\ud589 \uc0ad\uc81c",insertColumnBefore:"\uc67c\ucabd\uc5d0 \uc5f4 \uc0bd\uc785",insertColumnAfter:"\uc624\ub978\ucabd\uc5d0 \uc5f4 \uc0bd\uc785",deleteColumn:"\uc5f4 \uc0ad\uc81c",fixedColumnWidth:"\uace0\uc815 \ub41c \uc5f4 \ub108\ube44",resize100:"100% \ud06c\uae30",resize75:"75% \ud06c\uae30",resize50:"50% \ud06c\uae30",resize25:"25% \ud06c\uae30",autoSize:"\uc790\ub3d9 \ud06c\uae30",mirrorHorizontal:"\uc88c\uc6b0 \ubc18\uc804",mirrorVertical:"\uc0c1\ud558 \ubc18\uc804",rotateLeft:"\uc67c\ucabd\uc73c\ub85c \ud68c\uc804",rotateRight:"\uc624\ub978\ucabd\uc73c\ub85c \ud68c\uc804",maxSize:"\ucd5c\ub300\ud654",minSize:"\ucd5c\uc18c\ud654",tableHeader:"\ud14c\uc774\ube14 \uc81c\ubaa9",mergeCells:"\uc140 \ubcd1\ud569",splitCells:"\uc140 \ubd84\ud560",HorizontalSplit:"\uac00\ub85c \ubd84\ud560",VerticalSplit:"\uc138\ub85c \ubd84\ud560"},menu:{spaced:"\uae00\uc790 \uac04\uaca9",bordered:"\uacbd\uacc4\uc120",neon:"\ub124\uc628",translucent:"\ubc18\ud22c\uba85",shadow:"\uadf8\ub9bc\uc790",code:"\ucf54\ub4dc"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ko",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"pt_br",toolbar:{default:"Padr\xe3o",save:"Salvar",font:"Fonte",formats:"Formatos",fontSize:"Tamanho",bold:"Negrito",underline:"Sublinhado",italic:"It\xe1lico",strike:"Riscado",subscript:"Subescrito",superscript:"Sobrescrito",removeFormat:"Remover Formata\xe7\xe3o",fontColor:"Cor da Fonte",hiliteColor:"Cor de destaque",indent:"Recuo",outdent:"Avan\xe7ar",align:"Alinhar",alignLeft:"Alinhar \xe0 esquerda",alignRight:"Alinhar \xe0 direita",alignCenter:"Alinhar ao centro",alignJustify:"Alinhat justificado",list:"Lista",orderList:"Lista ordenada",unorderList:"Lista desordenada",horizontalRule:"Linha horizontal",hr_solid:"solida",hr_dotted:"pontilhada",hr_dashed:"tracejada",table:"Tabela",link:"Link",math:"Matem\xe1tica",image:"Imagem",video:"V\xeddeo",audio:"\xc1udio",fullScreen:"Tela cheia",showBlocks:"Mostrar blocos",codeView:"Mostrar c\xf3digos",undo:"Voltar",redo:"Refazer",preview:"Prever",print:"imprimir",tag_p:"Paragr\xe1fo",tag_div:"(DIV) Normal",tag_h:"Cabe\xe7alho",tag_blockquote:"Citar",tag_pre:"C\xf3digo",template:"Modelo",lineHeight:"Altura da linha",paragraphStyle:"Estilo do par\xe1grafo",textStyle:"Estilo do texto",imageGallery:"Galeria de imagens"},dialogBox:{linkBox:{title:"Inserir link",url:"URL para link",text:"Texto \xe0 mostrar",newWindowCheck:"Abrir em nova guia"},mathBox:{title:"Matem\xe1tica",inputLabel:"Nota\xe7\xe3o matem\xe1tica",fontSizeLabel:"Tamanho",previewLabel:"Prever"},imageBox:{title:"Inserir imagens",file:"Selecionar arquivos",url:"URL da imagem",altText:"Texto alternativo"},videoBox:{title:"Inserir v\xeddeo",file:"Selecionar arquivos",url:"URL do YouTube/Vimeo"},audioBox:{title:"Inserir audio",file:"Selecionar arquivos",url:"URL da audio"},browser:{tags:"Tag",search:"Procurar"},caption:"Inserir descri\xe7\xe3o",close:"Fechar",submitButton:"Enviar",revertButton:"Reverter",proportion:"restringir propor\xe7\xf5es",basic:"B\xe1sico",left:"Esquerda",right:"Direita",center:"Centro",width:"Largura",height:"Altura",size:"Tamanho",ratio:"Propor\xe7\xf5es"},controller:{edit:"Editar",unlink:"Retirar link",remove:"Remover",insertRowAbove:"Inserir linha acima",insertRowBelow:"Inserir linha abaixo",deleteRow:"Deletar linha",insertColumnBefore:"Inserir coluna antes",insertColumnAfter:"Inserir coluna depois",deleteColumn:"Deletar coluna",fixedColumnWidth:"Largura fixa da coluna",resize100:"Redimensionar para 100%",resize75:"Redimensionar para 75%",resize50:"Redimensionar para 50%",resize25:"Redimensionar para 25%",autoSize:"Tamanho autom\xe1tico",mirrorHorizontal:"Espelho, Horizontal",mirrorVertical:"Espelho, Vertical",rotateLeft:"Girar para esquerda",rotateRight:"Girar para direita",maxSize:"Tam max",minSize:"Tam min",tableHeader:"Cabe\xe7alho da tabela",mergeCells:"Mesclar c\xe9lulas",splitCells:"Dividir c\xe9lulas",HorizontalSplit:"Divis\xe3o horizontal",VerticalSplit:"Divis\xe3o vertical"},menu:{spaced:"Espa\xe7ado",bordered:"Com borda",neon:"N\xe9on",translucent:"Transl\xfacido",shadow:"Sombreado",code:"C\xf3digo"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"pt_br",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"ru",toolbar:{default:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",font:"\u0428\u0440\u0438\u0444\u0442",formats:"\u0421\u0442\u0438\u043b\u044c \u0430\u0431\u0437\u0430\u0446\u0430",fontSize:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",underline:"\u041f\u043e\u0434\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439",italic:"\u041a\u0443\u0440\u0441\u0438\u0432",strike:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",subscript:"\u041d\u0438\u0436\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",superscript:"\u0412\u0435\u0440\u0445\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",removeFormat:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",fontColor:"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430",hiliteColor:"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430",indent:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",outdent:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",align:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",alignLeft:"\u0421\u043b\u0435\u0432\u0430",alignRight:"\u0421\u043f\u0440\u0430\u0432\u0430",alignCenter:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",alignJustify:"\u041f\u043e \u0448\u0438\u0440\u0438\u043d\u0435",list:"\u0421\u043f\u0438\u0441\u043a\u0438",orderList:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439",unorderList:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439",horizontalRule:"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0438\u044f",hr_solid:"\u0421\u043f\u043b\u043e\u0448\u043d\u0430\u044f",hr_dotted:"\u041f\u0443\u043d\u043a\u0442\u0438\u0440",hr_dashed:"\u0428\u0442\u0440\u0438\u0445\u043e\u0432\u0430\u044f",table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",link:"\u0421\u0441\u044b\u043b\u043a\u0430",math:"\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439",image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",video:"\u0412\u0438\u0434\u0435\u043e",audio:"\u0410\u0443\u0434\u0438\u043e",fullScreen:"\u041f\u043e\u043b\u043d\u044b\u0439 \u044d\u043a\u0440\u0430\u043d",showBlocks:"\u0411\u043b\u043e\u0447\u043d\u044b\u0439 \u0432\u0438\u0434",codeView:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c HTML",undo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",redo:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c",preview:"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",print:"\u041f\u0435\u0447\u0430\u0442\u044c",tag_p:"\u0422\u0435\u043a\u0441\u0442",tag_div:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439",tag_h:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",tag_blockquote:"\u0426\u0438\u0442\u0430\u0442\u0430",tag_pre:"\u041a\u043e\u0434",template:"\u0428\u0430\u0431\u043b\u043e\u043d",lineHeight:"\u0412\u044b\u0441\u043e\u0442\u0430 \u043b\u0438\u043d\u0438\u0438",paragraphStyle:"\u0421\u0442\u0438\u043b\u044c \u0430\u0431\u0437\u0430\u0446\u0430",textStyle:"\u0421\u0442\u0438\u043b\u044c \u0442\u0435\u043a\u0441\u0442\u0430",imageGallery:"\u0413\u0430\u043b\u0435\u0440\u0435\u044f"},dialogBox:{linkBox:{title:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",url:"\u0421\u0441\u044b\u043b\u043a\u0430",text:"\u0422\u0435\u043a\u0441\u0442",newWindowCheck:"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435"},mathBox:{title:"\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439",inputLabel:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",fontSizeLabel:"\u041a\u0435\u0433\u043b\u044c",previewLabel:"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"},imageBox:{title:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",file:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",url:"\u0410\u0434\u0440\u0435\u0441 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",altText:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"},videoBox:{title:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e",file:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",url:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e, Youtube,Vimeo"},audioBox:{title:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0430\u0443\u0434\u0438\u043e",file:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",url:"\u0410\u0434\u0440\u0435\u0441 \u0430\u0443\u0434\u0438\u043e"},browser:{tags:"\u0422\u0435\u0433\u0438",search:"\u041f\u043e\u0438\u0441\u043a"},caption:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c",close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",submitButton:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",revertButton:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",proportion:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u0438",basic:"\u0411\u0435\u0437 \u043e\u0431\u0442\u0435\u043a\u0430\u043d\u0438\u044f",left:"\u0421\u043b\u0435\u0432\u0430",right:"\u0421\u043f\u0440\u0430\u0432\u0430",center:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",width:"\u0428\u0438\u0440\u0438\u043d\u0430",height:"\u0412\u044b\u0441\u043e\u0442\u0430",size:"\u0420\u0430\u0437\u043c\u0435\u0440",ratio:"\u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435"},controller:{edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",unlink:"\u0423\u0431\u0440\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",insertRowAbove:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0432\u044b\u0448\u0435",insertRowBelow:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0438\u0436\u0435",deleteRow:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443",insertColumnBefore:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430",insertColumnAfter:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430",deleteColumn:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446",fixedColumnWidth:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0448\u0438\u0440\u0438\u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u0430",resize100:"\u0420\u0430\u0437\u043c\u0435\u0440 100%",resize75:"\u0420\u0430\u0437\u043c\u0435\u0440 75%",resize50:"\u0420\u0430\u0437\u043c\u0435\u0440 50%",resize25:"\u0420\u0430\u0437\u043c\u0435\u0440 25%",autoSize:"\u0410\u0432\u0442\u043e \u0440\u0430\u0437\u043c\u0435\u0440",mirrorHorizontal:"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438",mirrorVertical:"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438",rotateLeft:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432 \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u0438",rotateRight:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u0435",maxSize:"\u0428\u0438\u0440\u0438\u043d\u0430 \u043f\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",minSize:"\u0428\u0438\u0440\u0438\u043d\u0430 \u043f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c\u0443",tableHeader:"\u0421\u0442\u0440\u043e\u043a\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432",mergeCells:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438",splitCells:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443",HorizontalSplit:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e",VerticalSplit:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e"},menu:{spaced:"\u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b",bordered:"\u0413\u0440\u0430\u043d\u0438\u0447\u043d\u0430\u044f \u041b\u0438\u043d\u0438\u044f",neon:"\u043d\u0435\u043e\u043d",translucent:"\u043f\u043e\u043b\u0443\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u044b\u0439",shadow:"\u0422\u0435\u043d\u044c",code:"\u041a\u043e\u0434"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ru",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"it",toolbar:{default:"Predefinita",save:"Salva",font:"Font",formats:"Formato",fontSize:"Grandezza",bold:"Grassetto",underline:"Sottolineato",italic:"Italico",strike:"Cancellato",subscript:"Apice",superscript:"Pedice",removeFormat:"Rimuovi Formattazione",fontColor:"Colore Testo",hiliteColor:"Colore Sottolineatura",indent:"Aumenta rientro",outdent:"Riduci rientro",align:"Allinea",alignLeft:"Sinistra",alignRight:"Destra",alignCenter:"Centrato",alignJustify:"Giustificato",list:"Lista",orderList:"Lista numerata",unorderList:"Lista Puntata",horizontalRule:"Linea Orizzontale",hr_solid:"Linea",hr_dotted:"Puntinato",hr_dashed:"Tratteggiato",table:"Tabella",link:"Link",math:"Matematica",image:"Immagine",video:"Video",audio:"Audio",fullScreen:"Tutto Schermo",showBlocks:"Visualizza Blocchi",codeView:"Visualizza Codice",undo:"Annulla",redo:"Ripristina",preview:"Anteprima",print:"Stampa",tag_p:"Paragrafo",tag_div:"DIV Normale",tag_h:"Intestazione",tag_blockquote:"Citazione",tag_pre:"Codice",template:"Template",lineHeight:"Altezza linea",paragraphStyle:"Stile Paragrafo",textStyle:"Stile Testo",imageGallery:"Galleria di immagini"},dialogBox:{linkBox:{title:"Inserisci un Link",url:"Indirizzo in link",text:"Applica Testo da visualizzare",newWindowCheck:"Apri in una nuova finestra"},mathBox:{title:"Matematica",inputLabel:"Notazione matematica",fontSizeLabel:"Grandezza testo",previewLabel:"Anteprima"},imageBox:{title:"Inserisci Immagine",file:"Seleziona da file",url:"Indirizzo immagine",altText:"Testo alternativo (ALT)"},videoBox:{title:"Inserisci Video",file:"Seleziona da file",url:"Indirizzo video, YouTube/Vimeo"},audioBox:{title:"Insertar Audio",file:"Seleziona da file",url:"Indirizzo audio"},browser:{tags:"tag",search:"Ricerca"},caption:"Inserisci descrizione",close:"ClChiudiose",submitButton:"Invia",revertButton:"Annulla",proportion:"Proporzionale",basic:"Da impostazione",left:"Sinistra",right:"Destra",center:"Centrato",width:"Larghezza",height:"Altezza",size:"Peso",ratio:"Rapporto"},controller:{edit:"Modifica",unlink:"Elimina link",remove:"Rimuovi",insertRowAbove:"Inserisci linea sopra",insertRowBelow:"Inserisci linea sotto",deleteRow:"Cancella riga",insertColumnBefore:"Inserisci una colonna prima",insertColumnAfter:"Inserisci una colonna dopo",deleteColumn:"Cancella colonna",fixedColumnWidth:"Larghezza della colonna fissa",resize100:"Ridimensiona 100%",resize75:"Ridimensiona 75%",resize50:"Ridimensiona 50%",resize25:"Ridimensiona 25%",autoSize:"Ridimensione automatica",mirrorHorizontal:"Specchia, orizontale",mirrorVertical:"Specchia, verticale",rotateLeft:"Ruota a sinistra",rotateRight:"Ruota a destra",maxSize:"Dimensione massima",minSize:"Dimensione minima",tableHeader:"Intestazione Tabella",mergeCells:"Unisci celle",splitCells:"Dividi celle",HorizontalSplit:"Separa orizontale",VerticalSplit:"Separa verticale"},menu:{spaced:"Spaziatura",bordered:"Bordo",neon:"Luminoso",translucent:"Translucente",shadow:"Ombra",code:"Codice"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"it",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG una finestra con un documento");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"zh_cn",toolbar:{default:"\u9ed8\u8ba4",save:"\u4fdd\u5b58",font:"\u5b57\u4f53",formats:"\u683c\u5f0f",fontSize:"\u5b57\u53f7",bold:"\u7c97\u4f53",underline:"\u4e0b\u5212\u7ebf",italic:"\u659c\u4f53",strike:"\u5220\u9664\u7ebf",subscript:"\u4e0b\u6807",superscript:"\u4e0a\u6807",removeFormat:"\u6e05\u9664\u683c\u5f0f",fontColor:"\u5b57\u4f53\u989c\u8272",hiliteColor:"\u80cc\u666f\u989c\u8272",indent:"\u589e\u52a0\u7f29\u8fdb",outdent:"\u51cf\u5c11\u7f29\u8fdb",align:"\u5bf9\u9f50\u65b9\u5f0f",alignLeft:"\u5de6\u5bf9\u9f50",alignRight:"\u53f3\u5bf9\u9f50",alignCenter:"\u5c45\u4e2d",alignJustify:"\u4e24\u7aef\u5bf9\u9f50",list:"\u5217\u8868",orderList:"\u6709\u5e8f\u5217\u8868",unorderList:"\u65e0\u5e8f\u5217\u8868",horizontalRule:"\u6c34\u5e73\u7ebf",hr_solid:"\u5b9e\u7ebf",hr_dotted:"\u70b9\u7ebf",hr_dashed:"\u865a\u7ebf",table:"\u8868\u683c",link:"\u8d85\u94fe\u63a5",math:"\u6570\u5b66",image:"\u56fe\u7247",video:"\u89c6\u9891",audio:"\u97f3\u8baf",fullScreen:"\u5168\u5c4f",showBlocks:"\u663e\u793a\u5757\u533a\u57df",codeView:"\u4ee3\u7801\u89c6\u56fe",undo:"\u64a4\u6d88",redo:"\u6062\u590d",preview:"\u9884\u89c8",print:"\u6253\u5370",tag_p:"\u6bb5\u843d",tag_div:"\u6b63\u6587 (DIV)",tag_h:"\u6807\u9898",tag_blockquote:"\u5f15\u7528",tag_pre:"\u4ee3\u7801",template:"\u6a21\u677f",lineHeight:"\u884c\u9ad8",paragraphStyle:"\u6bb5\u843d\u6837\u5f0f",textStyle:"\u6587\u5b57\u6837\u5f0f",imageGallery:"\u56fe\u7247\u5e93"},dialogBox:{linkBox:{title:"\u63d2\u5165\u8d85\u94fe\u63a5",url:"\u7f51\u5740",text:"\u5b57\u4f53",newWindowCheck:"\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u6253\u5f00"},mathBox:{title:"\u6570\u5b66",inputLabel:"\u6570\u5b66\u7b26\u53f7",fontSizeLabel:"\u5b57\u53f7",previewLabel:"\u9884\u89c8"},imageBox:{title:"\u63d2\u5165\u56fe\u7247",file:"\u4e0a\u4f20\u56fe\u7247",url:"\u56fe\u7247\u7f51\u5740",altText:"\u66ff\u6362\u6587\u5b57"},videoBox:{title:"\u63d2\u5165\u89c6\u9891",file:"\u4e0a\u4f20\u56fe\u7247",url:"\u5d4c\u5165\u7f51\u5740, Youtube,Vimeo"},audioBox:{title:"\u63d2\u5165\u97f3\u9891",file:"\u4e0a\u4f20\u56fe\u7247",url:"\u97f3\u9891\u7f51\u5740"},browser:{tags:"\u6807\u7b7e",search:"\u641c\u7d22"},caption:"\u6807\u9898",close:"\u53d6\u6d88",submitButton:"\u786e\u5b9a",revertButton:"\u6062\u590d",proportion:"\u6bd4\u4f8b",basic:"\u57fa\u672c",left:"\u5de6",right:"\u53f3",center:"\u5c45\u4e2d",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",size:"\u5c3a\u5bf8",ratio:"\u6bd4"},controller:{edit:"\u7f16\u8f91",unlink:"\u53bb\u9664\u94fe\u63a5",remove:"\u5220\u9664",insertRowAbove:"\u5728\u4e0a\u65b9\u63d2\u5165",insertRowBelow:"\u5728\u4e0b\u65b9\u63d2\u5165",deleteRow:"\u5220\u9664\u884c",insertColumnBefore:"\u5728\u5de6\u4fa7\u63d2\u5165",insertColumnAfter:"\u5728\u53f3\u4fa7\u63d2\u5165",deleteColumn:"\u5220\u9664\u5217",fixedColumnWidth:"\u56fa\u5b9a\u5217\u5bbd",resize100:"\u653e\u5927 100%",resize75:"\u653e\u5927 75%",resize50:"\u653e\u5927 50%",resize25:"\u653e\u5927 25%",mirrorHorizontal:"\u7ffb\u8f6c\u5de6\u53f3",mirrorVertical:"\u7ffb\u8f6c\u4e0a\u4e0b",rotateLeft:"\u5411\u5de6\u65cb\u8f6c",rotateRight:"\u5411\u53f3\u65cb\u8f6c",maxSize:"\u6700\u5927\u5c3a\u5bf8",minSize:"\u6700\u5c0f\u5c3a\u5bf8",tableHeader:"\u8868\u683c\u6807\u9898",mergeCells:"\u5408\u5e76\u5355\u5143\u683c",splitCells:"\u5206\u5272\u5355\u5143\u683c",HorizontalSplit:"\u6c34\u5e73\u5206\u5272",VerticalSplit:"\u5782\u76f4\u5206\u5272"},menu:{spaced:"\u95f4\u9694\u5f00",bordered:"\u8fb9\u754c\u7ebf",neon:"\u9713\u8679\u706f",translucent:"\u534a\u900f\u660e",shadow:"\u9634\u5f71",code:"\u4ee3\u7801"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"zh_cn",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"ro",toolbar:{default:"Default",save:"Salveaz\u0103",font:"Font",formats:"Format",fontSize:"Dimensiune",bold:"\xcengro\u0219at",underline:"Subliniat",italic:"\xcenclinat",strike:"T\u0103iat",subscript:"Subscript",superscript:"Superscript",removeFormat:"\u0218terge formatare",fontColor:"Culoare font",hiliteColor:"Culoare de eviden\u021biere",indent:"Indenteaz\u0103",outdent:"F\u0103r\u0103 indentare",align:"Aliniere",alignLeft:"Aliniere la st\xe2nga",alignRight:"Aliniere la dreapta",alignCenter:"Aliniere la centru",alignJustify:"Aliniere st\xe2nga - dreapta",list:"List\u0103",orderList:"List\u0103 ordonat\u0103",unorderList:"List\u0103 neordonat\u0103",horizontalRule:"Linie orizontal\u0103",hr_solid:"Solid",hr_dotted:"Punctat",hr_dashed:"Punctate",table:"Tabel",link:"Link",math:"Matematic\u0103",image:"Imagine",video:"Video",audio:"Audio",fullScreen:"Tot ecranul",showBlocks:"Arat\u0103 blocuri",codeView:"Vizualizare cod",undo:"Anuleaz\u0103",redo:"Ref\u0103",preview:"Previzualizare",print:"printeaz\u0103",tag_p:"Paragraf",tag_div:"Normal (DIV)",tag_h:"Antet",tag_blockquote:"Quote",tag_pre:"Citat",template:"Template",lineHeight:"\xcen\u0103l\u021bime linie",paragraphStyle:"Stil paragraf",textStyle:"Stil text",imageGallery:"Galerie de imagini"},dialogBox:{linkBox:{title:"Insereaz\u0103 Link",url:"Adres\u0103 link",text:"Text de afi\u0219at",newWindowCheck:"Deschide \xeen fereastr\u0103 nou\u0103"},mathBox:{title:"Matematic\u0103",inputLabel:"Nota\u021bie matematic\u0103",fontSizeLabel:"Dimensiune font",previewLabel:"Previzualizare"},imageBox:{title:"Insereaz\u0103 imagine",file:"Selecteaz\u0103",url:"URL imagine",altText:"text alternativ"},videoBox:{title:"Insereaz\u0103 video",file:"Selecteaz\u0103",url:"Include URL, youtube/vimeo"},audioBox:{title:"Insereaz\u0103 Audio",file:"Selecteaz\u0103",url:"URL Audio"},browser:{tags:"Etichete",search:"C\u0103utareim"},caption:"Insereaz\u0103 descriere",close:"\xcenchide",submitButton:"Salveaz\u0103",revertButton:"Revenire",proportion:"Constr\xe2nge propor\u021biile",basic:"De baz\u0103",left:"St\xe2nga",right:"Dreapta",center:"Centru",width:"L\u0103\u021bime",height:"\xcen\u0103l\u021bime",size:"Dimensiune",ratio:"Ratie"},controller:{edit:"Editeaz\u0103",unlink:"Scoate link",remove:"Elimin\u0103",insertRowAbove:"Insereaz\u0103 r\xe2nd deasupra",insertRowBelow:"Insereaz\u0103 r\xe2nd dedesupt",deleteRow:"\u0218terge linie",insertColumnBefore:"Insereaz\u0103 coloan\u0103 \xeenainte",insertColumnAfter:"Insereaz\u0103 coloan\u0103 dup\u0103",deleteColumn:"\u0218terge coloan\u0103",fixedColumnWidth:"L\u0103\u021bime fix\u0103 coloan\u0103",resize100:"Redimensionare 100%",resize75:"Redimensionare 75%",resize50:"Redimensionare 50%",resize25:"Redimensionare 25%",autoSize:"Dimensiune automat\u0103",mirrorHorizontal:"Oglind\u0103, orizontal",mirrorVertical:"Oglind\u0103, vertical",rotateLeft:"Rote\u0219te la st\xe2nga",rotateRight:"Rote\u0219te la dreapta",maxSize:"Dimensiune maxim\u0103",minSize:"Dimensiune minim\u0103",tableHeader:"Antet tabel",mergeCells:"\xcembin\u0103 celule",splitCells:"Divizeaz\u0103 celule",HorizontalSplit:"Despicare orizontal\u0103",VerticalSplit:"Despicare vertical\u0103"},menu:{spaced:"Spa\u021biat",bordered:"M\u0103rginit",neon:"Neon",translucent:"Translucent",shadow:"Umbr\u0103",code:"Citat"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ro",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"pl",toolbar:{default:"Domy\u015blne",save:"Zapisz",font:"Czcionka",formats:"Formaty",fontSize:"Rozmiar",bold:"Pogrubienie",underline:"Podkre\u015blenie",italic:"Kursywa",strike:"Przekre\u015blenie",subscript:"Indeks dolny",superscript:"Indeks g\xf3rny",removeFormat:"Wyczy\u015b\u0107 formatowanie",fontColor:"Kolor tekstu",hiliteColor:"Kolor t\u0142a tekstu",indent:"Zwi\u0119ksz wci\u0119cie",outdent:"Zmniejsz wci\u0119cie",align:"Wyr\xf3wnaj",alignLeft:"Do lewej",alignRight:"Do prawej",alignCenter:"Do \u015brodka",alignJustify:"Wyjustuj",list:"Lista",orderList:"Lista numerowana",unorderList:"Lista wypunktowana",horizontalRule:"Pozioma linia",hr_solid:"Ci\u0105g\u0142a",hr_dotted:"Kropkowana",hr_dashed:"Przerywana",table:"Tabela",link:"Odno\u015bnik",math:"Matematyczne",image:"Obraz",video:"Wideo",audio:"Audio",fullScreen:"Pe\u0142ny ekran",showBlocks:"Poka\u017c bloki",codeView:"Widok kodu",undo:"Cofnij",redo:"Pon\xf3w",preview:"Podgl\u0105d",print:"Drukuj",tag_p:"Akapit",tag_div:"Blok (DIV)",tag_h:"Nag\u0142\xf3wek H",tag_blockquote:"Cytat",tag_pre:"Kod",template:"Szablon",lineHeight:"Odst\u0119p mi\u0119dzy wierszami",paragraphStyle:"Styl akapitu",textStyle:"Styl tekstu",imageGallery:"Galeria obraz\xf3w"},dialogBox:{linkBox:{title:"Wstaw odno\u015bnik",url:"Adres URL",text:"Tekst do wy\u015bwietlenia",newWindowCheck:"Otw\xf3rz w nowym oknie"},mathBox:{title:"Matematyczne",inputLabel:"Zapis matematyczny",fontSizeLabel:"Rozmiar czcionki",previewLabel:"Podgl\u0105d"},imageBox:{title:"Wstaw obraz",file:"Wybierz plik",url:"Adres URL obrazka",altText:"Tekst alternatywny"},videoBox:{title:"Wstaw wideo",file:"Wybierz plik",url:"Adres URL video, np. YouTube/Vimeo"},audioBox:{title:"Wstaw audio",file:"Wybierz plik",url:"Adres URL audio"},browser:{tags:"Tagi",search:"Szukaj"},caption:"Wstaw opis",close:"Zamknij",submitButton:"Zatwierd\u017a",revertButton:"Cofnij zmiany",proportion:"Ogranicz proporcje",basic:"Bez wyr\xf3wnania",left:"Do lewej",right:"Do prawej",center:"Do \u015brodka",width:"Szeroko\u015b\u0107",height:"Wysoko\u015b\u0107",size:"Rozmiar",ratio:"Proporcje"},controller:{edit:"Edycja",unlink:"Usu\u0144 odno\u015bnik",remove:"Usu\u0144",insertRowAbove:"Wstaw wiersz powy\u017cej",insertRowBelow:"Wstaw wiersz poni\u017cej",deleteRow:"Usu\u0144 wiersz",insertColumnBefore:"Wstaw kolumn\u0119 z lewej",insertColumnAfter:"Wstaw kolumn\u0119 z prawej",deleteColumn:"Usu\u0144 kolumn\u0119",fixedColumnWidth:"Sta\u0142a szeroko\u015b\u0107 kolumny",resize100:"Zmie\u0144 rozmiar - 100%",resize75:"Zmie\u0144 rozmiar - 75%",resize50:"Zmie\u0144 rozmiar - 50%",resize25:"Zmie\u0144 rozmiar - 25%",autoSize:"Rozmiar automatyczny",mirrorHorizontal:"Odbicie lustrzane w poziomie",mirrorVertical:"Odbicie lustrzane w pionie",rotateLeft:"Obr\xf3\u0107 w lewo",rotateRight:"Obr\xf3\u0107 w prawo",maxSize:"Maksymalny rozmiar",minSize:"Minimalny rozmiar",tableHeader:"Nag\u0142\xf3wek tabeli",mergeCells:"Scal kom\xf3rki",splitCells:"Podziel kom\xf3rki",HorizontalSplit:"Podzia\u0142 poziomy",VerticalSplit:"Podzia\u0142 pionowy"},menu:{spaced:"Rozstawiony",bordered:"Z obw\xf3dk\u0105",neon:"Neon",translucent:"P\xf3\u0142przezroczysty",shadow:"Cie\u0144",code:"Kod"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"pl",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"ckb",toolbar:{default:"\u0628\u0646\u0647\u200c\u0695\u0647\u200c\u062a",save:"\u067e\u0627\u0634\u0647\u200c\u0643\u0647\u200c\u0648\u062a\u0643\u0631\u062f\u0646",font:"\u0641\u06c6\u0646\u062a",formats:"Formats",fontSize:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c",bold:"\u062a\u06c6\u062e\u0643\u0631\u062f\u0646",underline:"\u0647\u06ce\u06b5 \u0628\u0647\u200c\u0698\u06ce\u0631\u062f\u0627 \u0628\u06ce\u0646\u0647\u200c",italic:"\u0644\u0627\u0631",strike:"\u0647\u06ce\u06b5 \u0628\u0647\u200c\u0646\u0627\u0648\u062f\u0627 \u0628\u06ce\u0646\u0647\u200c",subscript:"\u0698\u06ce\u0631\u0633\u06a9\u0631\u06cc\u067e\u062a",superscript:"\u0633\u06d5\u0631\u0646\u0648\u0648\u0633",removeFormat:"\u0644\u0627\u0628\u0631\u062f\u0646\u06cc \u0641\u06c6\u0631\u0645\u0627\u062a",fontColor:"\u0631\u0647\u200c\u0646\u06af\u06cc \u0641\u06c6\u0646\u062a",hiliteColor:"\u0631\u0647\u200c\u0646\u06af\u06cc \u062f\u06cc\u0627\u0631\u0643\u0631\u0627\u0648",indent:"\u0628\u06c6\u0634\u0627\u06cc\u06cc \u0628\u06d5\u062c\u06ce\u0647\u06ce\u0634\u062a\u0646",outdent:"\u0644\u0627\u0628\u0631\u062f\u0646\u06cc \u0628\u06c6\u0634\u0627\u06cc\u06cc",align:"\u0626\u0627\u0631\u0627\u0633\u062a\u0647\u200c",alignLeft:"\u0644\u0627\u06cc \u0686\u0647\u200c\u067e",alignRight:"\u0644\u0627\u06cc \u0631\u0627\u0633\u062a",alignCenter:"\u0646\u0627\u0648\u0647\u200c\u0646\u062f",alignJustify:"\u0628\u0647\u200c\u0631\u06ce\u0643\u06cc \u062f\u0627\u0628\u0647\u200c\u0634 \u0628\u0643\u0647\u200c",list:"\u0644\u06cc\u0633\u062a",orderList:"\u0644\u06cc\u0633\u062a\u06cc \u0631\u06cc\u0632\u0643\u0631\u0627\u0648",unorderList:"\u0644\u06cc\u0633\u062a\u06cc \u0631\u06cc\u0632\u0646\u0647\u200c\u0643\u0631\u0627\u0648",horizontalRule:"\u0647\u06ce\u06b5\u06cc \u0626\u0627\u0633\u06c6\u06cc\u06cc",hr_solid:"\u067e\u062a\u0647\u200c\u0648",hr_dotted:"\u0646\u0648\u0643\u062a\u0647\u200c \u0646\u0648\u0643\u062a\u0647\u200c",hr_dashed:"\u062f\u0627\u0634 \u062f\u0627\u0634",table:"\u062e\u0634\u062a\u0647\u200c",link:"\u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631",math:"\u0628\u06cc\u0631\u0643\u0627\u0631\u06cc",image:"\u0648\u06ce\u0646\u0647\u200c",video:"\u06a4\u06cc\u062f\u06cc\u06c6",audio:"\u062f\u0647\u200c\u0646\u06af",fullScreen:"\u067e\u0695 \u0628\u0647\u200c \u0634\u0627\u0634\u0647\u200c",showBlocks:"\u0628\u06b5\u06c6\u0643 \u0646\u06cc\u0634\u0627\u0646\u0628\u062f\u0647",codeView:"\u0628\u06cc\u0646\u06cc\u0646\u06cc \u0643\u06c6\u062f\u0647\u200c\u0643\u0627\u0646",undo:"\u0648\u06d5\u06a9 \u062e\u06c6\u06cc \u0644\u06ce \u0628\u06a9\u06d5\u0648\u06d5",redo:"\u0647\u06d5\u06b5\u06af\u06d5\u0695\u0627\u0646\u062f\u0646\u06d5\u0648\u06d5",preview:"\u067e\u06ce\u0634\u0628\u06cc\u0646\u06cc\u0646",print:"\u067e\u0631\u06cc\u0646\u062a",tag_p:"\u067e\u0647\u200c\u0631\u0647\u200c\u06af\u0631\u0627\u0641",tag_div:"\u06cc \u0626\u0627\u0633\u0627\u06cc\u06cc (DIV)",tag_h:"\u0633\u06d5\u0631\u067e\u06d5\u0695\u06d5",tag_blockquote:"\u062f\u0647\u200c\u0642",tag_pre:"\u0643\u06c6\u062f",template:"\u0642\u0627\u06b5\u0628",lineHeight:"\u0628\u06b5\u0646\u062f\u06cc \u062f\u06ce\u0631",paragraphStyle:"\u0633\u062a\u0627\u06cc\u0644\u06cc \u067e\u0647\u200c\u0631\u0647\u200c\u06af\u0631\u0627\u0641",textStyle:"\u0633\u062a\u0627\u06cc\u0644\u06cc \u0646\u0648\u0633\u06cc\u0646",imageGallery:"\u06af\u0627\u0644\u0647\u200c\u0631\u06cc \u0648\u06ce\u0646\u0647\u200c\u0643\u0627\u0646"},dialogBox:{linkBox:{title:"\u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631 \u062f\u0627\u0628\u0646\u06ce",url:"\u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631",text:"\u062a\u06ce\u0643\u0633\u062a\u06cc \u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631",newWindowCheck:"\u0644\u0647\u200c \u067e\u0647\u200c\u0646\u062c\u0647\u200c\u0631\u0647\u200c\u06cc\u0647\u200c\u0643\u06cc \u0646\u0648\u06ce \u0628\u0643\u0647\u200c\u0631\u0647\u200c\u0648\u0647\u200c"},mathBox:{title:"\u0628\u06cc\u0631\u0643\u0627\u0631\u06cc",inputLabel:"\u0646\u06cc\u0634\u0627\u0646\u0647\u200c\u0643\u0627\u0646\u06cc \u0628\u06cc\u0631\u0643\u0627\u0631\u06cc",fontSizeLabel:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c\u06cc \u0641\u06c6\u0646\u062a",previewLabel:"\u067e\u06ce\u0634\u0628\u06cc\u0646\u06cc\u0646"},imageBox:{title:"\u0648\u06ce\u0646\u0647\u200c\u06cc\u0647\u200c\u0643 \u062f\u0627\u0628\u0646\u06ce",file:"\u0641\u0627\u06cc\u0644\u06ce\u0643 \u0647\u0647\u200c\u06b5\u0628\u0698\u06ce\u0631\u0647\u200c",url:"\u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631\u06cc \u0648\u06ce\u0646\u0647\u200c",altText:"\u0646\u0648\u0633\u06cc\u0646\u06cc \u062c\u06ce\u06af\u0631\u0647\u200c\u0648\u0647\u200c"},videoBox:{title:"\u06a4\u06cc\u062f\u06cc\u06c6\u06cc\u0647\u200c\u0643 \u062f\u0627\u0628\u0646\u06ce",file:"\u0641\u0627\u06cc\u0644\u06ce\u0643 \u0647\u0647\u200c\u06b5\u0628\u0698\u06ce\u0631\u0647\u200c",url:"YouTube/Vimeo \u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631\u06cc \u0644\u0647\u200c\u0646\u0627\u0648\u062f\u0627\u0646\u0627\u0646 \u0648\u0647\u200c\u0643 "},audioBox:{title:"\u062f\u0647\u200c\u0646\u06af\u06ce\u0643 \u062f\u0627\u0628\u0646\u06ce",file:"\u0641\u0627\u06cc\u0644\u06ce\u0643 \u0647\u0647\u200c\u06b5\u0628\u0698\u06ce\u0631\u0647\u200c",url:"\u0628\u0647\u200c\u0633\u062a\u0647\u200c\u0631\u06cc \u062f\u0647\u200c\u0646\u06af"},browser:{tags:"\u062a\u0627\u06af\u0647\u200c\u0643\u0627\u0646",search:"\u06af\u0647\u200c\u0631\u0627\u0646"},caption:"\u067e\u06ce\u0646\u0627\u0633\u0647\u200c\u06cc\u0647\u200c\u0643 \u062f\u0627\u0628\u0646\u06ce",close:"\u062f\u0627\u062e\u0633\u062a\u0646",submitButton:"\u0646\u0627\u0631\u062f\u0646",revertButton:"\u0628\u06cc\u06af\u06d5\u0695\u06ce\u0646\u06d5\u0648\u06d5 \u0633\u06d5\u0631 \u0628\u0627\u0631\u06cc \u0633\u06d5\u0631\u06d5\u062a\u0627\u06cc\u06cc",proportion:"\u0631\u06ce\u0698\u0647\u200c\u0643\u0627\u0646 \u0648\u0647\u200c\u0643 \u062e\u06c6\u06cc \u0628\u0647\u06ce\u06b5\u0647\u200c\u0648\u0647\u200c",basic:"\u0633\u0647\u200c\u0631\u0647\u200c\u062a\u0627\u06cc\u06cc",left:"\u0686\u0647\u200c\u067e",right:"\u0631\u0627\u0633\u062a",center:"\u0646\u0627\u0648\u06d5\u0695\u0627\u0633\u062a",width:"\u067e\u0627\u0646\u06cc",height:"\u0628\u0647\u200c\u0631\u0632\u06cc",size:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c",ratio:"\u0631\u06ce\u0698\u0647\u200c"},controller:{edit:"\u062f\u06d5\u0633\u06a9\u0627\u0631\u06cc\u06a9\u0631\u062f\u0646",unlink:"\u0633\u0695\u06cc\u0646\u06d5\u0648\u06d5\u06cc \u0628\u06d5\u0633\u062a\u06d5\u0631",remove:"\u0633\u0695\u06cc\u0646\u0647\u200c\u0648\u0647\u200c",insertRowAbove:"\u0631\u06cc\u0632\u0643 \u0644\u0647\u200c \u0633\u0647\u200c\u0631\u0647\u200c\u0648\u0647\u200c \u0632\u06cc\u0627\u062f\u0628\u0643\u0647\u200c",insertRowBelow:"\u0631\u06cc\u0632\u06ce\u0643 \u0644\u0647\u200c \u062e\u0648\u0627\u0631\u0647\u200c\u0648\u0647\u200c \u0632\u06cc\u0627\u062f\u0628\u0643\u0647\u200c",deleteRow:"\u0631\u06cc\u0632 \u0628\u0633\u0631\u0647\u200c\u0648\u0647\u200c",insertColumnBefore:"\u0633\u062a\u0648\u0646\u06ce\u0643 \u0644\u0647\u200c \u067e\u06ce\u0634\u0647\u200c\u0648\u0647\u200c \u0632\u06cc\u0627\u062f\u0628\u0643\u0647\u200c",insertColumnAfter:"\u0633\u062a\u0648\u0646\u06ce\u0643 \u0644\u0647\u200c \u062f\u0648\u0627\u0648\u0647\u200c \u0632\u06cc\u0627\u062f\u0628\u0643\u0647\u200c",deleteColumn:"\u0633\u062a\u0648\u0646\u06ce\u0643 \u0628\u0633\u0631\u0647\u200c\u0648\u0647\u200c",fixedColumnWidth:"\u067e\u0627\u0646\u06cc \u0633\u062a\u0648\u0646 \u0646\u0647\u200c\u06af\u06c6\u0631\u0628\u0643\u0647\u200c",resize100:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c \u0628\u06af\u06c6\u0631\u0647\u200c \u0628\u06c6 \u0661\u0660\u0660%",resize75:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c \u0628\u06af\u06c6\u0631\u0647\u200c \u0628\u06c6 \u0667\u0665%",resize50:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c \u0628\u06af\u06c6\u0631\u0647\u200c \u0628\u06c6 \u0665\u0660%",resize25:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c \u0628\u06af\u06c6\u0631\u0647\u200c \u0628\u06c6 \u0662\u0665%",autoSize:"\u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c\u06cc \u062e\u06c6\u0643\u0627\u0631\u0627\u0646\u0647\u200c",mirrorHorizontal:"\u0647\u0647\u200c\u06b5\u06af\u0647\u200c\u0631\u06ce\u0646\u0647\u200c\u0648\u0647\u200c \u0628\u0647\u200c\u062f\u0647\u200c\u0648\u0631\u06cc \u062a\u0647\u200c\u0648\u0647\u200c\u0631\u0647\u200c\u06cc \u0626\u0627\u0633\u06c6\u06cc\u06cc",mirrorVertical:"\u0647\u0647\u200c\u06b5\u06af\u0647\u200c\u0631\u06ce\u0646\u0647\u200c\u0648\u0647\u200c \u0628\u0647\u200c\u062f\u0647\u200c\u0648\u0631\u06cc \u062a\u0647\u200c\u0648\u0647\u200c\u0631\u0647\u200c\u06cc \u0633\u062a\u0648\u0646\u06cc",rotateLeft:"\u0628\u0633\u0648\u0695\u06ce\u0646\u0647\u200c \u0628\u0647\u200c\u0644\u0627\u06cc \u0686\u0647\u200c\u067e\u062f\u0627",rotateRight:"\u0628\u0633\u0648\u0631\u06ce\u0646\u0647\u200c \u0628\u0647\u200c\u0644\u0627\u06cc \u0631\u0627\u0633\u062a\u062f\u0627",maxSize:"\u06af\u0647\u200c\u0648\u0631\u0647\u200c\u062a\u0631\u06cc\u0646 \u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c",minSize:"\u0628\u0686\u0648\u0643\u062a\u0631\u06cc\u0646 \u0642\u0647\u200c\u0628\u0627\u0631\u0647\u200c",tableHeader:"\u0633\u0647\u200c\u0631\u062f\u06ce\u0631\u06cc \u062e\u0634\u062a\u0647\u200c\u0643",mergeCells:"\u062e\u0627\u0646\u0647\u200c\u0643\u0627\u0646 \u062a\u06ce\u0643\u0647\u200c\u06b5\u0628\u0643\u0647\u200c",splitCells:"\u062e\u0627\u0646\u0647\u200c\u0643\u0627\u0646 \u0644\u06ce\u0643 \u062c\u06cc\u0627\u0628\u0643\u0647\u200c\u0648\u0647\u200c",HorizontalSplit:"\u062c\u06cc\u0627\u0643\u0631\u062f\u0646\u0647\u200c\u0648\u0647\u200c\u06cc \u0626\u0627\u0633\u06c6\u06cc\u06cc",VerticalSplit:"\u062c\u06cc\u0627\u0643\u0631\u062f\u0646\u0647\u200c\u0648\u0647\u200c\u06cc \u0633\u062a\u0648\u0646\u06cc"},menu:{spaced:"\u0628\u06c6\u0634\u0627\u06cc \u0647\u0647\u200c\u0628\u06ce\u062a",bordered:"\u0644\u06ce\u0648\u0627\u0631\u06cc \u0647\u0647\u200c\u0628\u06ce\u062a",neon:"\u0646\u06cc\u06c6\u0646",translucent:"\u0643\u0647\u200c\u0645\u06ce\u0643 \u0648\u0647\u200c\u0643 \u0634\u0648\u0648\u0634\u0647\u200c",shadow:"\u0633\u06ce\u0628\u0647\u200c\u0631",code:"\u0643\u06c6\u062f"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ckb",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={code:"lv",toolbar:{default:"Noklus\u0113juma",save:"Saglab\u0101t",font:"Fonts",formats:"Form\u0101ti",fontSize:"Fonta lielums",bold:"Treknraksts",underline:"Pasv\u012btrot",italic:"Sl\u012bpraksts",strike:"P\u0101rsv\u012btrojums",subscript:"Apak\u0161raksts",superscript:"Aug\u0161raksts",removeFormat:"No\u0146emt form\u0101tu",fontColor:"Fonta kr\u0101sa",hiliteColor:"Teksta iez\u012bm\u0113\u0161anas kr\u0101sa",indent:"Palielin\u0101t atk\u0101pi",outdent:"Samazin\u0101t atk\u0101pi",align:"Izl\u012bdzin\u0101t",alignLeft:"L\u012bdzin\u0101t pa kreisi",alignRight:"L\u012bdzin\u0101t pa labi",alignCenter:"Centr\u0113t",alignJustify:"Taisnot",list:"Saraksts",orderList:"Numer\u0101cija",unorderList:"Aizzimes",horizontalRule:"Horizont\u0101la l\u012bnija",hr_solid:"Ciets",hr_dotted:"Punkti\u0146\u0161",hr_dashed:"Bra\u0161a",table:"Tabula",link:"Saite",math:"Matem\u0101tika",image:"Att\u0113ls",video:"Video",audio:"Audio",fullScreen:"Pilnekr\u0101na re\u017e\u012bms",showBlocks:"Par\u0101dit blokus",codeView:"Koda skats",undo:"Atsaukt",redo:"Atk\u0101rtot",preview:"Priek\u0161skat\u012bjums",print:"Druk\u0101t",tag_p:"Paragr\u0101fs",tag_div:"Norm\u0101li (DIV)",tag_h:"Galvene",tag_blockquote:"Cit\u0101ts",tag_pre:"Kods",template:"Veidne",lineHeight:"L\u012bnijas augstums",paragraphStyle:"Paragr\u0101fa stils",textStyle:"Teksta stils",imageGallery:"Att\u0113lu galerija"},dialogBox:{linkBox:{title:"Ievietot saiti",url:"Saites URL",text:"Par\u0101d\u0101mais teksts",newWindowCheck:"Atv\u0113rt jaun\u0101 log\u0101"},mathBox:{title:"Matem\u0101tika",inputLabel:"Matem\u0101tisk\u0101 not\u0101cija",fontSizeLabel:"Fonta lielums",previewLabel:"Priek\u0161skat\u012bjums"},imageBox:{title:"Ievietot att\u0113lu",file:"Izv\u0113lieties no failiem",url:"Att\u0113la URL",altText:"Alternat\u012bvs teksts"},videoBox:{title:"Ievietot video",file:"Izv\u0113lieties no failiem",url:"Multivides iegul\u0161anas URL, YouTube/Vimeo"},audioBox:{title:"Ievietot audio",file:"Izv\u0113lieties no failiem",url:"Audio URL"},browser:{tags:"Tagi",search:"Mekl\u0113t"},caption:"Ievietot aprakstu",close:"Aizv\u0113rt",submitButton:"Iesniegt",revertButton:"Atjaunot",proportion:"Ierobe\u017eo proporcijas",basic:"Nav iesai\u0146ojuma",left:"Pa kreisi",right:"Labaj\u0101 pus\u0113",center:"Centrs",width:"Platums",height:"Augstums",size:"Izm\u0113rs",ratio:"Attiec\u012bba"},controller:{edit:"Redi\u0123\u0113t",unlink:"Atsaist\u012bt",remove:"No\u0146emt",insertRowAbove:"Ievietot rindu virs",insertRowBelow:"Ievietot rindu zem\u0101k",deleteRow:"Dz\u0113st rindu",insertColumnBefore:"Ievietot kolonnu pirms",insertColumnAfter:"Ievietot kolonnu aiz",deleteColumn:"Dz\u0113st kolonnu",fixColumnWidth:"Fiks\u0113ts kolonnas platums",resize100:"Main\u012bt izm\u0113ru 100%",resize75:"Main\u012bt izm\u0113ru 75%",resize50:"Main\u012bt izm\u0113ru 50%",resize25:"Main\u012bt izm\u0113ru 25%",autoSize:"Autom\u0101tiskais izm\u0113rs",mirrorHorizontal:"Spogulis, horizont\u0101ls",mirrorVertical:"Spogulis, vertik\u0101ls",rotateLeft:"Pagriezt pa kreisi",rotateRight:"Pagriezt pa labi",maxSize:"Maksim\u0101lais izm\u0113rs",minSize:"Minim\u0101lais izm\u0113rs",tableHeader:"Tabulas galvene",mergeCells:"Apvienot \u0161\u016bnas",splitCells:"Sadal\u012bt \u0161\u016bnas",HorizontalSplit:"Horizont\u0101ls sadal\u012bjums",VerticalSplit:"Vertik\u0101ls sadal\u012bjums"},menu:{spaced:"Ar atstarpi",bordered:"Robe\u017eoj\u0101s",neon:"Neona",translucent:"Caursp\u012bd\u012bgs",shadow:"\u0112na",code:"Kods"}};return"undefined"===typeof t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"lv",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return o(e)}:o(n)},function(e,t,i){"use strict";var n=i(44);function o(){}function l(){}l.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,l,s){if(s!==n){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:o};return i.PropTypes=i,i}},function(e,t,i){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){"use strict";i.r(t),i.d(t,"buttonList",(function(){return n}));var n={};i.r(n),i.d(n,"basic",(function(){return o})),i.d(n,"complex",(function(){return l})),i.d(n,"formatting",(function(){return s})),i.d(n,"default",(function(){return r}));var o=[["font","fontSize"],["fontColor"],["horizontalRule"],["link","image"]],l=[["undo","redo"],["font","fontSize","formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],"/",["fontColor","hiliteColor"],["outdent","indent"],["align","horizontalRule","list","table"],["link","image","video"],["fullScreen","showBlocks","codeView"],["preview","print"],["save","template"]],s=[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],r={basic:o,complex:l,formatting:s},a=i(7),c=i.n(a),u={redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'},d=i(4),h=i.n(d);const p={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform))},_HTMLConvertor:function(e){const t={"&":"&amp;","\xa0":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,(function(e){return"string"===typeof t[e]?t[e]:e}))},zeroWidthSpace:String.fromCharCode(8203),zeroWidthRegExp:new RegExp(String.fromCharCode(8203),"g"),onlyZeroWidthRegExp:new RegExp("^"+String.fromCharCode(8203)+"+$"),onlyZeroWidthSpace:function(e){return"string"!==typeof e&&(e=e.textContent),""===e||this.onlyZeroWidthRegExp.test(e)},getXMLHttpRequest:function(){if(!this._w.ActiveXObject)return this._w.XMLHttpRequest?new XMLHttpRequest:null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return null}}},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){const t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,(function(e){return"string"===typeof t[e]?t[e]:e}))},HTMLDecoder:function(e){const t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,(function(e){return"string"===typeof t[e]?t[e]:e}))},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let i="";const n=[],o="js"===t?"script":"link",l="js"===t?"src":"href";let s="(?:";for(let c=0,u=e.length;c<u;c++)s+=e[c]+(c<u-1?"|":")");const r=new this._w.RegExp("(^|.*[\\/])"+s+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),a=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let c=this._d.getElementsByTagName(o),u=0;u<c.length;u++)a.test(c[u][l])&&n.push(c[u]);for(let c=0;c<n.length;c++){let e=n[c][l].match(r);if(e){i=e[0];break}}if(""===i&&(i=n.length>0?n[0][l]:""),-1===i.indexOf(":/")&&"//"!==i.slice(0,2)&&(i=0===i.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return i},getPageStyle:function(e){let t="";const i=(e||this._d).styleSheets;for(let o,l=0,s=i.length;l<s;l++){try{o=i[l].cssRules}catch(n){continue}for(let e=0,i=o.length;e<i;e++)t+=o[e].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";const i=e.attributes;let n="";for(let o=0,l=i.length;o<l;o++)t&&t.indexOf(i[o].name)>-1||(n+=i[o].name+'="'+i[o].value+'" ');return n},getByteLength:function(e){const t=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(t(e.toString())).length,i=0,null!==t(e.toString()).match(/(%0A|%0D)/gi)&&(i=t(e.toString()).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(e.toString()).length,i=0,null!==t(e.toString()).match(/(%0A|%0D)/gi)&&(i=t(e.toString()).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(e){return e&&1===e.nodeType&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&1===e.nodeType&&"false"===e.getAttribute("contenteditable")},isTextStyleElement:function(e){return e&&3!==e.nodeType&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&1===e.nodeType&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&1===e.nodeType&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&1===e.nodeType&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&1===e.nodeType&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&1===e.nodeType&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t){t.style.cssText&&(e.style.cssText+=t.style.cssText);const i=t.classList;for(let n=0,o=i.length;n<o;n++)this.addClass(e,i[n]);e.style.cssText||e.removeAttribute("style"),e.className.trim()||e.removeAttribute("class")},copyFormatAttributes:function(e,t){(t=t.cloneNode(!1)).className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,i){if(!e||0===e.length)return null;t=t||function(){return!0};const n=[];for(let o,l=0,s=e.length;l<s;l++)if(o=e[l],t(o)){if(!i)return o;n.push(o)}return i?n:null},getArrayIndex:function(e,t){let i=-1;for(let n=0,o=e.length;n<o;n++)if(e[n]===t){i=n;break}return i},nextIdx:function(e,t){let i=this.getArrayIndex(e,t);return-1===i?-1:i+1},prevIdx:function(e,t){let i=this.getArrayIndex(e,t);return-1===i?-1:i-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,i){const n=[];let o=!0;return this.getParentElement(e,function(e){if(e===t&&(o=!1),o&&!this.isWysiwygDiv(e)){if(i&&3===e.nodeType){let t=null,n=null;i.s=i.e=0;let o=e.previousSibling;for(;o&&3===o.nodeType;)n=o.textContent.replace(this.zeroWidthRegExp,""),i.s+=n.length,e.textContent=n+e.textContent,t=o,o=o.previousSibling,this.removeItem(t);let l=e.nextSibling;for(;l&&3===l.nodeType;)n=l.textContent.replace(this.zeroWidthRegExp,""),i.e+=n.length,e.textContent+=n,t=l,l=l.nextSibling,this.removeItem(t)}n.push(e)}return!1}.bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let i,n=t;for(let o=0,l=e.length;o<l&&(i=n.childNodes,0!==i.length);o++)n=i.length<=e[o]?i[i.length-1]:i[e[o]];return n},isSameAttributes:function(e,t){if(3===e.nodeType&&3===t.nodeType)return!0;if(3===e.nodeType||3===t.nodeType)return!1;const i=e.style,n=t.style;let o=0;for(let c=0,u=i.length;c<u;c++)i[i[c]]===n[i[c]]&&o++;const l=e.classList,s=t.classList,r=this._w.RegExp;let a=0;for(let c=0,u=l.length;c<u;c++)r("(s|^)"+l[c]+"(s|$)").test(s.value)&&a++;return o===n.length&&o===i.length&&a===s.length&&a===l.length},isList:function(e){return e&&/^(OL|UL)$/i.test("string"===typeof e?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test("string"===typeof e?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test("string"===typeof e?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test("string"===typeof e?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test("string"===typeof e?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test("string"===typeof e?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test("string"===typeof e?e:e.nodeName)},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let i=(e+"").match(/-?\d+(\.\d+)?/);return i&&i[0]?(i=i[0],t<0?1*i:0===t?this._w.Math.round(1*i):1*(1*i).toFixed(t)):0},getListChildren:function(e,t){const i=[];return e&&e.children&&0!==e.children.length?(t=t||function(){return!0},function n(o){e!==o&&t(o)&&i.push(o);for(let e=0,t=o.children.length;e<t;e++)n(o.children[e])}(e),i):i},getListChildNodes:function(e,t){const i=[];return e&&0!==e.childNodes.length?(t=t||function(){return!0},function n(o){e!==o&&t(o)&&i.push(o);for(let e=0,t=o.childNodes.length;e<t;e++)n(o.childNodes[e])}(e),i):i},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let i=e,n=t;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:e,b:t,result:0};const o=i.parentNode.childNodes,l=this.getArrayIndex(o,i),s=this.getArrayIndex(o,n);return{ancestor:i.parentNode,a:i,b:n,result:l>s?1:l<s?-1:0}},getParentElement:function(e,t){let i;if("function"===typeof t)i=t;else{let e;/^\./.test(t)?(e="className",t=t.split(".")[1]):/^#/.test(t)?(e="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(e="name",t="^"+t.split(":")[1]+"$"):(e="nodeName",t="^"+t+"$");const n=new this._w.RegExp(t,"i");i=function(t){return n.test(t[e])}}for(;e&&!i(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getChildElement:function(e,t,i){let n;if("function"===typeof t)n=t;else{let e;/^\./.test(t)?(e="className",t=t.split(".")[1]):/^#/.test(t)?(e="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(e="name",t="^"+t.split(":")[1]+"$"):(e="nodeName",t="^"+("text"===t?"#"+t:t)+"$");const i=new this._w.RegExp(t,"i");n=function(t){return i.test(t[e])}}const o=this.getListChildNodes(e,(function(e){return n(e)}));return o[i?o.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&1===e.nodeType&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&1===t.nodeType&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let i=0,n=0,o=3===e.nodeType?e.parentElement:e;const l=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;o&&!this.hasClass(o,"se-container")&&o!==l;)i+=o.offsetLeft,n+=o.offsetTop,o=o.offsetParent;const s=t&&/iframe/i.test(t.nodeName);return{left:i+(s?t.parentElement.offsetLeft:0),top:n-l.scrollTop+(s?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,i,n){if(e<=n?t<i:t>i)return 0;const o=(e>i?e:i)-(t<n?t:n);return(o<0?-1*o:o)+1},changeTxt:function(e,t){e&&t&&(e.textContent=t)},changeElement:function(e,t){if("string"===typeof t)if(e.outerHTML)e.outerHTML=t;else{const i=this.createElement("DIV");i.innerHTML=t,t=i.firstChild,e.parentNode.replaceChild(t,e)}else 1===t.nodeType&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,i){e.style[t]=i,i||e.style.cssText||e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){if(!e)return;new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t)},removeClass:function(e,t){if(!e)return;const i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;const i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");i.test(e.className)?e.className=e.className.replace(i," ").trim():e.className+=" "+t,e.className.trim()||e.removeAttribute("class")},setDisabledButtons:function(e,t){for(let i=0,n=t.length;i<n;i++)t[i].disabled=e},removeItem:function(e){if(e)try{e.remove()}catch(t){e.parentNode&&e.parentNode.removeChild(e)}},removeItemAllParents:function(e,t,i){if(!e)return null;let n=null;return t||(t=function(e){if(e===i||this.isComponent(e))return!1;const t=e.textContent.trim();return 0===t.length||/^(\n|\u200B)+$/.test(t)}.bind(this)),function e(i){if(!p.isWysiwygDiv(i)){const o=i.parentNode;o&&t(i)&&(n={sc:i.previousElementSibling,ec:i.nextElementSibling},p.removeItem(i),e(o))}}(e),n},detachNestedList:function(e,t){const i=this._deleteNestedList(e);let n,o,l;if(i){n=i.cloneNode(!1),o=i.childNodes;const t=this.getPositionIndex(e);for(;o[t];)n.appendChild(o[t])}else n=e;if(t)l=this.getListChildren(n,function(e){return this.isListCell(e)&&!e.previousElementSibling}.bind(this));else{const t=this.getElementDepth(e)+2;l=this.getListChildren(e,function(e){return this.isListCell(e)&&!e.previousElementSibling&&this.getElementDepth(e)===t}.bind(this))}for(let s=0,r=l.length;s<r;s++)this._deleteNestedList(l[s]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),o&&0===o.length&&this.removeItem(i)),n===e?n.parentNode:n},_deleteNestedList:function(e){const t=e.parentNode;let i,n,o,l,s,r=t,a=r.parentNode;for(;this.isListCell(a);){for(l=this.getPositionIndex(e),i=a.nextElementSibling,n=a.parentNode,o=r;o;){if(r=r.nextSibling,this.isList(o)){for(s=o.childNodes;s[l];)n.insertBefore(s[l],i);0===s.length&&this.removeItem(o)}else n.appendChild(o);o=r}r=n,a=n.parentNode}return 0===t.children.length&&this.removeItem(t),n},splitElement:function(e,t,i){const n=e.parentNode;let o,l,s,r=0,a=!0;if((!i||i<0)&&(i=0),3===e.nodeType){if(r=this.getPositionIndex(e),t>=0){e.splitText(t);const i=this.getNodeFromPath([r+1],n);this.onlyZeroWidthSpace(i)&&(i.data=this.zeroWidthSpace)}}else 1===e.nodeType&&(e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===i&&(a=!1));let c=e;for(;this.getElementDepth(c)>i;)for(r=this.getPositionIndex(c)+1,c=c.parentNode,s=o,o=c.cloneNode(!1),l=c.childNodes,s&&(this.isListCell(o)&&this.isList(s)&&s.firstElementChild?(o.innerHTML=s.firstElementChild.innerHTML,p.removeItem(s.firstElementChild),s.children.length>0&&o.appendChild(s)):o.appendChild(s));l[r];)o.appendChild(l[r]);c.childNodes.length<=1&&(!c.firstChild||0===c.firstChild.textContent.length)&&(c.innerHTML="<br>");const u=c.parentNode;return a&&(c=c.nextSibling),o?(this.mergeSameTags(o,null,!1),this.mergeNestedTags(o,function(e){return this.isList(e)}.bind(this)),o.childNodes.length>0?u.insertBefore(o,c):o=c,0===n.childNodes.length&&this.removeItem(n),o):c},mergeSameTags:function(e,t,i){const n=this,o=t?t.length:0;let l=null;return o&&(l=this._w.Array.apply(null,new this._w.Array(o)).map(this._w.Number.prototype.valueOf,0)),function e(s,r,a){const c=s.childNodes;for(let u,d,h=0,p=c.length;h<p&&(u=c[h],d=c[h+1],u);h++)if(i&&n._isIgnoreNodeChange(u)||!i&&(n.isTable(u)||n.isListCell(u)||n.isFormatElement(u)&&!n.isFreeFormatElement(u)))(n.isTable(u)||n.isListCell(u))&&e(u,r+1,h);else{if(1===p&&s.nodeName===u.nodeName&&s.parentNode){if(o){let e,i,l,a,c;for(let d=0;d<o;d++)if(e=t[d],e&&e[r]===h){for(i=u,l=s,a=r,c=!0;a>=0;){if(n.getArrayIndex(l.childNodes,i)!==e[a]){c=!1;break}i=u.parentNode,l=i.parentNode,a--}c&&(e.splice(r,1),e[r]=h)}}n.copyTagAttributes(u,s),s.parentNode.insertBefore(u,s),n.removeItem(s)}if(!d){1===u.nodeType&&e(u,r+1,h);break}if(u.nodeName===d.nodeName&&n.isSameAttributes(u,d)&&u.href===d.href){const e=u.childNodes;let i=0;for(let t=0,n=e.length;t<n;t++)e[t].textContent.length>0&&i++;const s=u.lastChild,c=d.firstChild;let p=0;if(s&&c){const e=3===s.nodeType&&3===c.nodeType;p=s.textContent.length;let n=s.previousSibling;for(;n&&3===n.nodeType;)p+=n.textContent.length,n=n.previousSibling;if(i>0&&3===s.nodeType&&3===c.nodeType&&(s.textContent.length>0||c.textContent.length>0)&&i--,o){let n=null;for(let u=0;u<o;u++)if(n=t[u],n&&n[r]>h){if(r>0&&n[r-1]!==a)continue;n[r]-=1,n[r+1]>=0&&n[r]===h&&(n[r+1]+=i,e&&s&&3===s.nodeType&&c&&3===c.nodeType&&(l[u]+=p))}}}if(3===u.nodeType){if(p=u.textContent.length,u.textContent+=d.textContent,o){let e=null;for(let n=0;n<o;n++)if(e=t[n],e&&e[r]>h){if(r>0&&e[r-1]!==a)continue;e[r]-=1,e[r+1]>=0&&e[r]===h&&(e[r+1]+=i,l[n]+=p)}}}else u.innerHTML+=d.innerHTML;n.removeItem(d),h--}else 1===u.nodeType&&e(u,r+1,h)}}(e,0,0),l},mergeNestedTags:function(e,t){"string"===typeof t?t=function(e){return this.test(e.tagName)}.bind(new this._w.RegExp("^("+(t||".+")+")$","i")):"function"!==typeof t&&(t=function(){return!0}),function e(i){let n=i.children;if(1===n.length&&n[0].nodeName===i.nodeName&&t(i)){const e=n[0];for(n=e.children;n[0];)i.appendChild(n[0]);i.removeChild(e)}for(let t=0,o=i.children.length;t<o;t++)e(i.children[t])}(e)},removeEmptyNode:function(e,t){const i=this;t&&(t=i.getParentElement(t,(function(t){return e===t.parentElement}))),function n(o){if(i._notTextNode(o)||o===t||i.isNonEditable(o))return 0;if(o===e||!i.onlyZeroWidthSpace(o.textContent)||o.firstChild&&i.isBreak(o.firstChild)){const e=o.children;for(let t=0,o=e.length,l=0;t<o;t++)e[t+l]&&!i.isComponent(e[t+l])&&(l+=n(e[t+l]))}else if(o.parentNode)return o.parentNode.removeChild(o),-1;return 0}(e),0===e.childNodes.length&&(e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\s+(?=<)/gi,(function(e){return e.trim()})):""},sortByDepth:function(e,t){const i=t?1:-1,n=-1*i;e.sort(function(e,t){return this.isListCell(e)&&this.isListCell(t)?(e=this.getElementDepth(e))>(t=this.getElementDepth(t))?i:e<t?n:0:0}.bind(this))},_isIgnoreNodeChange:function(e){return e&&3!==e.nodeType&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&3!==e.nodeType&&/^(a|label|code)$/i.test("string"===typeof e?e:e.nodeName)},_isSizeNode:function(e){return e&&3!==e.nodeType&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&3!==e.nodeType&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test("string"===typeof e?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){const t=e.split("|");let i="<\\/?(";for(let n=0,o=t.length;n<o;n++)i+="(?!\\b"+t[n]+"\\b)";return i+=")[^>]>",new RegExp(i,"g")},_consistencyCheckOfHTML:function(e,t){const i=[],n=[],o=[],l=[],s=this.getListChildNodes(e,function(s){if(1!==s.nodeType)return!1;if(!t.test(s.nodeName)&&0===s.childNodes.length&&this.isNotCheckingNode(s))return i.push(s),!1;const r=!this.getParentElement(s,this.isNotCheckingNode);if(!this.isTable(s)&&!this.isListCell(s)&&(this.isFormatElement(s)||this.isRangeFormatElement(s)||this.isTextStyleElement(s))&&0===s.childNodes.length&&r)return n.push(s),!1;if(this.isList(s.parentNode)&&!this.isList(s)&&!this.isListCell(s))return o.push(s),!1;if(this.isCell(s)){const e=s.firstElementChild;if(!this.isFormatElement(e)&&!this.isRangeFormatElement(e)&&!this.isComponent(e))return l.push(s),!1}return s.parentNode!==e&&(this.isFormatElement(s)||this.isComponent(s)||this.isList(s))&&!this.isRangeFormatElement(s.parentNode)&&!this.isListCell(s.parentNode)&&!this.getParentElement(s,this.isComponent)&&r}.bind(this));for(let a=0,c=i.length;a<c;a++)this.removeItem(i[a]);const r=[];for(let a,c,u=0,d=s.length;u<d;u++)a=s[u],c=a.parentNode,c&&c.parentNode&&(c.parentNode.insertBefore(a,c),r.push(c));for(let a,c=0,u=r.length;c<u;c++)a=r[c],this.onlyZeroWidthSpace(a.textContent.trim())&&this.removeItem(a);for(let a=0,c=n.length;a<c;a++)this.removeItem(n[a]);for(let a,c,u,d,h=0,p=o.length;h<p;h++){for(a=o[h],c=this.createElement("LI"),u=a.childNodes;u[0];)c.appendChild(u[0]);d=a.parentNode,d&&(d.insertBefore(c,a),this.removeItem(a))}for(let a,c,u=0,d=l.length;u<d;u++)a=l[u],c=this.createElement("DIV"),c.innerHTML=0===a.textContent.trim().length?"<br>":a.innerHTML,a.innerHTML=c.outerHTML},_setDefaultOptionStyle:function(e,t){let i="";e.height&&(i+="height:"+e.height+";"),e.minHeight&&(i+="min-height:"+e.minHeight+";"),e.maxHeight&&(i+="max-height:"+e.maxHeight+";"),e.position&&(i+="position:"+e.position+";"),e.width&&(i+="width:"+e.width+";"),e.minWidth&&(i+="min-width:"+e.minWidth+";"),e.maxWidth&&(i+="max-width:"+e.maxWidth+";");let n="",o="",l="";const s=(t=i+t).split(";");for(let r,a=0,c=s.length;a<c;a++)r=s[a].trim(),r&&(/^(min-|max-)?width\s*:/.test(r)?n+=r+";":/^(min-|max-)?height\s*:/.test(r)?(/^height/.test(r)&&"auto"===r.split(":")[1].trim()&&(e.height="auto"),o+=r+";"):l+=r+";");return{top:n,frame:o,editor:l}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1"><title></title>'+this._setIframeCssTags(t),e.contentDocument.body.className="sun-editor-editable",e.contentDocument.body.setAttribute("contenteditable",!0)},_setIframeCssTags:function(e){const t=e.iframeCSSFileName,i=this._w.RegExp;let n="";for(let o,l=0,s=t.length;l<s;l++){if(o=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[l]))o.push(t[l]);else{const e=new i("(^|.*[\\/])"+t[l]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let t,i=document.getElementsByTagName("link"),n=0,l=i.length;n<l;n++)t=i[n].href.match(e),t&&o.push(t[0])}if(!o||0===o.length)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let e=0,t=o.length;e<t;e++)n+='<link href="'+o[e]+'" rel="stylesheet">'}return n+("auto"===e.height?"<style>\n/** Iframe height auto */\nbody{height: min-content; overflow: hidden;}\n</style>":"")}};var f=p,g={init:function(e,t){"object"!==typeof t&&(t={});const i=document;this._initOptions(e,t);const n=i.createElement("DIV");n.className="sun-editor",e.id&&(n.id="suneditor_"+e.id);const o=i.createElement("DIV");o.className="se-container";const l=this._createToolBar(i,t.buttonList,t.plugins,t);l.element.style.visibility="hidden",l.pluginCallButtons.math&&this._checkKatexMath(t.katex);const s=i.createElement("DIV");s.className="se-arrow";const r=i.createElement("DIV");r.className="se-toolbar-sticky-dummy";const a=i.createElement("DIV");a.className="se-wrapper";const c=this._initElements(t,n,l.element,s),u=c.bottomBar,d=c.wysiwygFrame,h=c.placeholder;let p=c.codeView;const f=u.resizingBar,g=u.navigation,m=u.charWrapper,b=u.charCounter,v=i.createElement("DIV");v.className="se-loading-box sun-editor-common",v.innerHTML='<div class="se-loading-effect"></div>';const y=i.createElement("DIV");y.className="se-line-breaker",y.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";const _=i.createElement("DIV");_.className+="se-line-breaker-component";const x=_.cloneNode(!0);_.innerHTML=x.innerHTML=t.icons.line_break;const w=i.createElement("DIV");w.className="se-resizing-back";const C=t.toolbarContainer;return C&&C.appendChild(l.element),a.appendChild(p),h&&a.appendChild(h),C||o.appendChild(l.element),o.appendChild(r),o.appendChild(a),o.appendChild(w),o.appendChild(v),o.appendChild(y),o.appendChild(_),o.appendChild(x),f&&o.appendChild(f),n.appendChild(o),p=this._checkCodeMirror(t,p),{constructed:{_top:n,_relative:o,_toolBar:l.element,_menuTray:l._menuTray,_editorArea:a,_wysiwygArea:d,_codeArea:p,_placeholder:h,_resizingBar:f,_navigation:g,_charWrapper:m,_charCounter:b,_loading:v,_lineBreaker:y,_lineBreaker_t:_,_lineBreaker_b:x,_resizeBack:w,_stickyDummy:r,_arrow:s},options:t,plugins:l.plugins,pluginCallButtons:l.pluginCallButtons,_responsiveButtons:l.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce((function(e,t){for(let i in t)f.hasOwn(t,i)&&(e[i]=t[i]);return e}),{});"auto"===e.height&&(i.viewportMargin=1/0,i.height="auto");const n=e.codeMirror.src.fromTextArea(t,i);n.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=n,(t=n.display.wrapper).className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const t=[{throwOnError:!1},e.options||{}].reduce((function(e,t){for(let i in t)f.hasOwn(t,i)&&(e[i]=t[i]);return e}),{});e.options=t},_setOptions:function(e,t,i,n){this._initOptions(t.element.originElement,e);const o=t.element,l=o.relative,s=o.editorArea,r=e.toolbarContainer&&e.toolbarContainer!==n.toolbarContainer,a=!!e.buttonList||e.mode!==n.mode||r,c=!!e.plugins,u=this._createToolBar(document,a?e.buttonList:n.buttonList,c?e.plugins:i,e);u.pluginCallButtons.math&&this._checkKatexMath(e.katex);const d=document.createElement("DIV");d.className="se-arrow",a&&(u.element.style.visibility="hidden",r?(e.toolbarContainer.appendChild(u.element),o.toolbar.parentElement.removeChild(o.toolbar)):o.toolbar.parentElement.replaceChild(u.element,o.toolbar),o.toolbar=u.element,o._menuTray=u._menuTray,o._arrow=d);const h=this._initElements(e,o.topArea,a?u.element:o.toolbar,d),p=h.bottomBar,f=h.wysiwygFrame,g=h.placeholder;let m=h.codeView;return o.resizingBar&&l.removeChild(o.resizingBar),p.resizingBar&&l.appendChild(p.resizingBar),s.innerHTML="",s.appendChild(m),g&&s.appendChild(g),m=this._checkCodeMirror(e,m),o.resizingBar=p.resizingBar,o.navigation=p.navigation,o.charWrapper=p.charWrapper,o.charCounter=p.charCounter,o.wysiwygFrame=f,o.code=m,o.placeholder=g,{callButtons:a?u.pluginCallButtons:null,plugins:a||c?u.plugins:null,toolbar:u}},_initElements:function(e,t,i,n){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(i.className+=" se-toolbar-inline",i.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=e.toolbarWidth,i.appendChild(n));const o=document.createElement(e.iframe?"IFRAME":"DIV");o.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe?(o.allowFullscreen=!0,o.frameBorder=0,o.style.cssText=e._editorStyles.frame):(o.setAttribute("contenteditable",!0),o.setAttribute("scrolling","auto"),o.className+=" sun-editor-editable",o.style.cssText=e._editorStyles.frame+e._editorStyles.editor);const l=document.createElement("TEXTAREA");l.className="se-wrapper-inner se-wrapper-code",l.style.cssText=e._editorStyles.frame,l.style.display="none","auto"===e.height&&(l.style.overflow="hidden");let s=null,r=null,a=null,c=null;if(e.resizingBar&&(s=document.createElement("DIV"),s.className="se-resizing-bar sun-editor-common",r=document.createElement("DIV"),r.className="se-navigation sun-editor-common",s.appendChild(r),e.charCounter)){if(a=document.createElement("DIV"),a.className="se-char-counter-wrapper",e.charCounterLabel){const t=document.createElement("SPAN");t.className="se-char-label",t.textContent=e.charCounterLabel,a.appendChild(t)}if(c=document.createElement("SPAN"),c.className="se-char-counter",c.textContent="0",a.appendChild(c),e.maxCharCount>0){const t=document.createElement("SPAN");t.textContent=" / "+e.maxCharCount,a.appendChild(t)}s.appendChild(a)}let u=null;return e.placeholder&&(u=document.createElement("SPAN"),u.className="se-placeholder",u.innerText=e.placeholder),{bottomBar:{resizingBar:s,navigation:r,charWrapper:a,charCounter:c},wysiwygFrame:o,codeView:l,placeholder:u}},_initOptions:function(e,t){t.lang=t.lang||h.a,t.value="string"===typeof t.value?t.value:null,t.historyStackDelayTime="number"===typeof t.historyStackDelayTime?t.historyStackDelayTime:400,t._defaultTagsWhitelist="string"===typeof t._defaultTagsWhitelist?t._defaultTagsWhitelist:"br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code",t._editorTagsWhitelist=t._defaultTagsWhitelist+("string"===typeof t.addTagsWhitelist&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.pasteTagsWhitelist="string"===typeof t.pasteTagsWhitelist?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.attributesWhitelist=t.attributesWhitelist&&"object"===typeof t.attributesWhitelist?t.attributesWhitelist:null,t.mode=t.mode||"classic",t.toolbarWidth=t.toolbarWidth?f.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer=/balloon/i.test(t.mode)?null:"string"===typeof t.toolbarContainer?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:void 0===t.stickyToolbar?0:/^\d+/.test(t.stickyToolbar)?f.getNumber(t.stickyToolbar,0):-1,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||t.iframe,t.iframeCSSFileName=t.iframe?"string"===typeof t.iframeCSSFileName?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.position="string"===typeof t.position?t.position:null,t.display=t.display||("none"!==e.style.display&&e.style.display?e.style.display:"block"),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=void 0===t.resizingBar?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=!!t.resizingBar&&("boolean"!==typeof t.showPathLabel||t.showPathLabel),t.charCounter=t.maxCharCount>0||"boolean"===typeof t.charCounter&&t.charCounter,t.charCounterType="string"===typeof t.charCounterType?t.charCounterType:"char",t.charCounterLabel="string"===typeof t.charCounterLabel?t.charCounterLabel.trim():null,t.maxCharCount=f.isNumber(t.maxCharCount)&&t.maxCharCount>-1?1*t.maxCharCount:null,t.width=t.width?f.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(f.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(f.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?f.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(f.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(f.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.defaultStyle="string"===typeof t.defaultStyle?t.defaultStyle:"",t.font=t.font?t.font:null,t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit="string"===typeof t.fontSizeUnit&&t.fontSizeUnit.trim()||"px",t.imageResizing=void 0===t.imageResizing||t.imageResizing,t.imageHeightShow=void 0===t.imageHeightShow||!!t.imageHeightShow,t.imageWidth=t.imageWidth?f.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?f.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=void 0!==t.imageRotation?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=void 0===t.imageFileInput||t.imageFileInput,t.imageUrlInput=void 0===t.imageUrlInput||!t.imageFileInput||t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl="string"===typeof t.imageUploadUrl?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?f.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept="string"!==typeof t.imageAccept||"*"===t.imageAccept.trim()?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryUrl="string"===typeof t.imageGalleryUrl?t.imageGalleryUrl:null,t.videoResizing=void 0===t.videoResizing||t.videoResizing,t.videoHeightShow=void 0===t.videoHeightShow||!!t.videoHeightShow,t.videoRatioShow=void 0===t.videoRatioShow||!!t.videoRatioShow,t.videoWidth=t.videoWidth&&f.getNumber(t.videoWidth,0)?f.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth:"",t.videoHeight=t.videoHeight&&f.getNumber(t.videoHeight,0)?f.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight:"",t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=void 0!==t.videoRotation?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=f.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=void 0===t.videoUrlInput||!t.videoFileInput||t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl="string"===typeof t.videoUploadUrl?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?f.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept="string"!==typeof t.videoAccept||"*"===t.videoAccept.trim()?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?f.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?f.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=void 0===t.audioUrlInput||!t.audioFileInput||t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl="string"===typeof t.audioUploadUrl?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?f.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept="string"!==typeof t.audioAccept||"*"===t.audioAccept.trim()?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition="string"===typeof t.tableCellControllerPosition?t.tableCellControllerPosition.toLowerCase():"cell",t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)&&t.shortcutsDisable.length>0?t.shortcutsDisable.map((function(e){return e.toLowerCase()})):[],t.shortcutsHint=void 0===t.shortcutsHint||!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder="string"===typeof t.placeholder?t.placeholder:null,t.linkProtocol="string"===typeof t.linkProtocol?t.linkProtocol:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.buttonList=t.buttonList||[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.icons=t.icons&&"object"===typeof t.icons?[u,t.icons].reduce((function(e,t){for(let i in t)f.hasOwn(t,i)&&(e[i]=t[i]);return e}),{}):u,t._editorStyles=f._setDefaultOptionStyle(t,t.defaultStyle)},_defaultButtons:function(e){const t=e.icons,i=e.lang,n=f.isOSX_IOS?"\u2318":"CTRL",o=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent"];return{bold:["_se_command_bold",i.toolbar.bold+(o.indexOf("bold")>-1?"":" ("+n+"+B)"),"STRONG","",t.bold],underline:["_se_command_underline",i.toolbar.underline+(o.indexOf("underline")>-1?"":" ("+n+"+U)"),"U","",t.underline],italic:["_se_command_italic",i.toolbar.italic+(o.indexOf("italic")>-1?"":" ("+n+"+I)"),"EM","",t.italic],strike:["_se_command_strike",i.toolbar.strike+(o.indexOf("strike")>-1?"":" ("+n+"+SHIFT+S)"),"DEL","",t.strike],subscript:["_se_command_subscript",i.toolbar.subscript,"SUB","",t.subscript],superscript:["_se_command_superscript",i.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",t.erase],indent:["_se_command_indent",i.toolbar.indent+(o.indexOf("indent")>-1?"":" ("+n+"+])"),"indent","",t.outdent],outdent:["_se_command_outdent",i.toolbar.outdent+(o.indexOf("indent")>-1?"":" ("+n+"+[)"),"outdent","",t.indent],fullScreen:["se-code-view-enabled se-resizing-enabled _se_command_fullScreen",i.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["_se_command_showBlocks",i.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled _se_command_codeView",i.toolbar.codeView,"codeView","",t.code_view],undo:["_se_command_undo se-resizing-enabled",i.toolbar.undo+(o.indexOf("undo")>-1?"":" ("+n+"+Z)"),"undo","",t.undo],redo:["_se_command_redo se-resizing-enabled",i.toolbar.redo+(o.indexOf("undo")>-1?"":" ("+n+"+Y / "+n+"+SHIFT+Z)"),"redo","",t.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",t.print],save:["_se_command_save se-resizing-enabled",i.toolbar.save,"save","",t.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",t.align_left],list:["",i.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",i.toolbar.table,"table","submenu",t.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",i.toolbar.template,"template","submenu",t.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",i.toolbar.link,"link","dialog",t.link],image:["",i.toolbar.image,"image","dialog",t.image],video:["",i.toolbar.video,"video","dialog",t.video],audio:["",i.toolbar.audio,"audio","dialog",t.audio],math:["",i.toolbar.math,"math","dialog",t.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){const e=f.createElement("DIV");e.className="se-btn-module se-btn-module-border";const t=f.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,i,n,o,l,s){const r=f.createElement("LI"),a=f.createElement("BUTTON");return a.setAttribute("type","button"),a.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),a.setAttribute("data-command",i),a.setAttribute("data-display",n),a.setAttribute("tabindex","-1"),o||(o='<span class="se-icon-text">!</span>'),/^default\./i.test(o)&&(o=s[o.replace(/^default\./i,"")]),/^text\./i.test(o)&&(o=o.replace(/^text\./i,""),a.className+=" se-btn-more-text"),o+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+(t||i)+"</span></span>",l&&a.setAttribute("disabled",!0),a.innerHTML=o,r.appendChild(a),{li:r,button:a}},_createToolBar:function(e,t,i,n){const o=e.createElement("DIV");o.className="se-toolbar-separator-vertical";const l=e.createElement("DIV");l.className="se-toolbar sun-editor-common";const s=e.createElement("DIV");s.className="se-btn-tray",l.appendChild(s);const r=n.icons,a=this._defaultButtons(n),c={},u=[],d={};if(i){const e=i.length?i:Object.keys(i).map((function(e){return i[e]}));for(let t,i=0,n=e.length;i<n;i++)t=e[i].default||e[i],d[t.name]=t}let h=null,p=null,g=null,m=null,b="",v=!1;const y=f.createElement("DIV");y.className="se-toolbar-more-layer";e:for(let w,C,k,S,A,E=0;E<t.length;E++)if(w=!1,A="",S=t[E],g=this._createModuleGroup(),"object"===typeof S){for(let e,i=0;i<S.length;i++){if(p=S[i],e=!1,/^\%\d+/.test(p)&&0===i){S[0]=p.replace(/[^\d]/g,""),u.push(S),t.splice(E--,1);continue e}if("object"===typeof p)"function"===typeof p.add?(b=p.name,h=a[b],d[b]=p):(b=p.name,h=[p.buttonClass,p.title,p.name,p.dataDisplay,p.innerHTML,p._disabled]);else{if(/^\-/.test(p)){A=p.substr(1),g.div.style.float=A;continue}if(/^\:/.test(p)){e=!0;const t=p.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);k="__se__"+t[1].trim();h=["se-btn-more",t[2].trim(),k,"MORE",t[3].trim()]}else h=a[p];if(b=p,!h){const e=d[b];if(!e)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+b+"]");h=[e.buttonClass,e.title,e.name,e.display,e.innerHTML,e._disabled]}}m=this._createButton(h[0],h[1],h[2],h[3],h[4],h[5],r),(w?C:g.ul).appendChild(m.li),d[b]&&(c[b]=m.button),e&&(w=!0,C=f.createElement("DIV"),C.className="se-more-layer "+k,C.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(A?' style="float: '+A+';"':"")+"></ul></div>",y.appendChild(C),C=C.firstElementChild.firstElementChild)}if(v){const e=o.cloneNode(!1);A&&(e.style.float=A),s.appendChild(e)}s.appendChild(g.div),v=!0}else if(/^\/$/.test(S)){const t=e.createElement("DIV");t.className="se-btn-module-enter",s.appendChild(t),v=!1}1===s.children.length&&f.removeClass(s.firstElementChild,"se-btn-module-border"),u.length>0&&u.unshift(t),y.children.length>0&&s.appendChild(y);const _=e.createElement("DIV");_.className="se-menu-tray",l.appendChild(_);const x=e.createElement("DIV");return x.className="se-toolbar-cover",l.appendChild(x),{element:l,plugins:d,pluginCallButtons:c,responsiveButtons:u,_menuTray:_,_buttonTray:s}}};var m=function(e,t,i){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector("._se_command_bold"),underline:t._toolBar.querySelector("._se_command_underline"),italic:t._toolBar.querySelector("._se_command_italic"),strike:t._toolBar.querySelector("._se_command_strike"),subscript:t._toolBar.querySelector("._se_command_subscript"),superscript:t._toolBar.querySelector("._se_command_superscript"),undo:t._toolBar.querySelector("._se_command_undo"),redo:t._toolBar.querySelector("._se_command_redo"),save:t._toolBar.querySelector("._se_command_save"),outdent:t._toolBar.querySelector("._se_command_outdent"),indent:t._toolBar.querySelector("._se_command_indent"),fullScreen:t._toolBar.querySelector("._se_command_fullScreen"),showBlocks:t._toolBar.querySelector("._se_command_showBlocks"),codeView:t._toolBar.querySelector("._se_command_codeView")},options:i,option:i}},b={name:"notice",add:function(e){const t=e.context;t.notice={};let i=e.util.createElement("DIV"),n=e.util.createElement("SPAN"),o=e.util.createElement("BUTTON");i.className="se-notice",o.className="close",o.setAttribute("aria-label","Close"),o.setAttribute("title",e.lang.dialogBox.close),o.innerHTML=e.icons.cancel,i.appendChild(n),i.appendChild(o),t.notice.modal=i,t.notice.message=n,o.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(i),i=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}},v=function(e,t,i){f._propertiesInit(),"object"!==typeof t&&(t={}),i&&(t=[i,t].reduce((function(e,t){for(let i in t)if(f.hasOwn(t,i))if("plugins"===i&&t[i]&&e[i]){let n=e[i],o=t[i];n=n.length?n:Object.keys(n).map((function(e){return n[e]})),o=o.length?o:Object.keys(o).map((function(e){return o[e]})),e[i]=o.filter((function(e){return-1===n.indexOf(e)})).concat(n)}else e[i]=t[i];return e}),{}));const n="string"===typeof e?document.getElementById(e):e;if(!n){if("string"===typeof e)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")');throw Error("[SUNEDITOR.create.fail] suneditor requires textarea's element or id value")}const o=g.init(n,t);if(o.constructed._top.id&&document.getElementById(o.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+o.constructed._top.id+'")');return function(e,t,i,n,o,l){const s=e.element.originElement.ownerDocument||document,r=s.defaultView||window,a=f,c=o.icons,u={_d:s,_w:r,_parser:new r.DOMParser,_wd:null,_ww:null,_shadowRoot:null,util:a,functions:null,notice:b,icons:c,history:null,context:e,pluginCallButtons:t,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:null,resizingDisabledButtons:null,_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,pasteTagsWhitelistRegExp:null,hasFocus:!1,isDisabled:!1,_attributesWhitelistRegExp:null,_attributesTagsWhitelist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:null,_styleCommandMap:null,_defaultCommand:{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",subscript:"SUB",superscript:"SUP"},_variable:{isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:4,minResizingSize:a.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},callPlugin:function(e,i,n){if(n=n||t[e],!this.plugins[e])throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+e+'")');this.initPlugins[e]?"object"===typeof this._targetPlugins[e]&&n&&this.initMenuTarget(e,n,this._targetPlugins[e]):(this.plugins[e].add(this,n),this.initPlugins[e]=!0),this.plugins[e].active&&!this.commandMap[e]&&n&&(this.commandMap[e]=n,this.activePlugins.push(e)),"function"===typeof i&&i()},addModule:function(e){for(let t,i=0,n=e.length;i<n;i++)t=e[i].name,this.plugins[t]||(this.plugins[t]=e[i]),this.initPlugins[t]||(this.initPlugins[t]=!0,"function"===typeof this.plugins[t].add&&this.plugins[t].add(this))},initMenuTarget:function(t,i,n){i?(e.element._menuTray.appendChild(n),this._targetPlugins[t]=!0,this._menuTray[i.getAttribute("data-command")]=n):this._targetPlugins[t]=n},submenuOn:function(e){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const t=this._submenuName=e.getAttribute("data-command"),i=this.submenu=this._menuTray[t];this.submenuActiveButton=e,this._setMenuPosition(e,i),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[t].on&&this.plugins[t].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,a.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},containerOn:function(e){this._bindedContainerOff&&this._bindedContainerOff();const t=this._containerName=e.getAttribute("data-command"),i=this.container=this._menuTray[t];this.containerActiveButton=e,this._setMenuPosition(e,i),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[t].on&&this.plugins[t].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,a.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(t,i){i.style.top="-10000px",i.style.visibility="hidden",i.style.display="block",i.style.height="",a.addClass(t,"on");const n=this.context.element.toolbar,o=n.offsetWidth,l=i.offsetWidth,s=t.parentElement.offsetLeft+3,c=o<=l?0:o-(s+l);i.style.left=c<0?s+c+"px":s+"px";let u=0,h=t;for(;h&&h!==n;)u+=h.offsetTop,h=h.offsetParent;const p=u;this._isBalloon?u+=n.offsetTop+t.offsetHeight:u-=t.offsetHeight;const f=d._getEditorOffsets(e.element.toolbar).top;let g=i.offsetHeight,m=e.element.topArea,b=0;for(;m;)b+=m.scrollTop,m=m.parentElement;const v=r.innerHeight-(f-b+p+t.parentElement.offsetHeight);if(v<g){let e=-1*(g-p+3);const n=f-b+e,o=g+(n<0?n:0);o>v?(i.style.height=o+"px",e=-1*(o-p+3)):(i.style.height=v+"px",e=p+t.parentElement.offsetHeight),i.style.top=e+"px"}else i.style.top=p+t.parentElement.offsetHeight+"px";i.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let e,t=0;t<arguments.length;t++)e=arguments[t],e&&("string"!==typeof e?"function"!==typeof e?a.hasClass(e,"se-controller")?(e.style&&(e.style.display="block"),this.controllerArray.push(e)):(this.currentControllerTarget=e,this.currentFileComponentInfo=this.getFileComponent(e)):this.controllerArray.push(e):this.currentControllerName=e);this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,"function"===typeof h.showController&&h.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(t){if(this._fileManager.pluginRegExp.test(this.currentControllerName)&&t&&"keydown"===t.type&&27!==t.keyCode)return;if(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!this._bindControllersOff)return;this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null;const i=this.controllerArray.length;if(i>0){for(let e=0;e<i;e++)"function"===typeof this.controllerArray[e]?this.controllerArray[e]():this.controllerArray[e].style.display="none";this.controllerArray=[]}this._antiBlur=!1},eventStop:function(e){e.stopPropagation(),e.preventDefault()},execCommand:function(e,t,i){this._wd.execCommand(e,t,"formatBlock"===e?"<"+i+">":i),this.history.push(!0)},nativeFocus:function(){const t=a.getParentElement(this.getSelectionNode(),"figcaption");t?t.focus():e.element.wysiwyg.focus(),this._editorRange()},focus:function(){if("none"!==e.element.wysiwygFrame.style.display){if(o.iframe)this.nativeFocus();else try{const t=this.getRange();if(t.startContainer===t.endContainer&&a.isWysiwygDiv(t.startContainer)){const t=a.createElement("P"),i=a.createElement("BR");t.appendChild(i),e.element.wysiwyg.appendChild(t),this.setRange(i,0,i,0)}else this.setRange(t.startContainer,t.startOffset,t.endContainer,t.endOffset)}catch(t){this.nativeFocus()}d._applyTagEffects(),this._isBalloon&&d._toggleToolbarBalloon()}},focusEdge:function(t){t||(t=e.element.wysiwyg.lastElementChild);const i=this.getFileComponent(t);i?this.selectComponent(i.target,i.pluginName):t?(t=a.getChildElement(t,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0))?this.setRange(t,t.textContent.length,t,t.textContent.length):this.nativeFocus():this.focus()},setRange:function(e,t,i,n){if(!e||!i)return;t>e.textContent.length&&(t=e.textContent.length),n>i.textContent.length&&(n=i.textContent.length);const l=this._wd.createRange();try{l.setStart(e,t),l.setEnd(i,n)}catch(r){return console.warn("[SUNEDITOR.core.focus.error] "+r),void this.nativeFocus()}const s=this.getSelection();return s.removeAllRanges&&s.removeAllRanges(),s.addRange(l),this._editorRange(),o.iframe&&this.nativeFocus(),l},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.getSelection().removeAllRanges();const e=this.commandMap,t=this.activePlugins;for(let n in e)a.hasOwn(e,n)&&(t.indexOf(n)>-1?i[n].active.call(this,null):e.OUTDENT&&/^OUTDENT$/i.test(n)?e.OUTDENT.setAttribute("disabled",!0):e.INDENT&&/^INDENT$/i.test(n)?e.INDENT.removeAttribute("disabled"):a.removeClass(e[n],"active"))},getRange:function(){const t=this._variable._range||this._createDefaultRange(),i=this.getSelection();if(t.collapsed===i.isCollapsed||!e.element.wysiwyg.contains(i.focusNode))return t;if(i.rangeCount>0)return this._variable._range=i.getRangeAt(0),this._variable._range;{const e=i.anchorNode,t=i.focusNode,n=i.anchorOffset,o=i.focusOffset,l=a.compareElements(e,t),s=l.ancestor&&(0===l.result?n<=o:l.result>1);return this.setRange(s?e:t,s?n:o,s?t:e,s?o:n)}},getRange_addLine:function(t){if(this._selectionVoid(t)){const i=e.element.wysiwyg,n=a.createElement("P");n.innerHTML="<br>",i.insertBefore(n,i.firstElementChild),this.setRange(n.firstElementChild,0,n.firstElementChild,1),t=this._variable._range}return t},getSelection:function(){return this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection()},getSelectionNode:function(){if(a.isWysiwygDiv(this._variable._selectionNode)&&this._editorRange(),!this._variable._selectionNode){const t=a.getChildElement(e.element.wysiwyg.firstChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1);if(t)return this._variable._selectionNode=t,t;this._editorRange()}return this._variable._selectionNode},_editorRange:function(){const e=this.getSelection();if(!e)return null;let t=null,i=null;t=e.rangeCount>0?e.getRangeAt(0):this._createDefaultRange(),this._variable._range=t,i=t.collapsed?t.commonAncestorContainer:e.extentNode||e.anchorNode,this._variable._selectionNode=i},_createDefaultRange:function(){const t=e.element.wysiwyg;t.focus();const i=this._wd.createRange();let n=t.firstElementChild;return n||(n=a.createElement("P"),n.innerHTML="<br>",t.appendChild(n)),i.setStart(n,0),i.setEnd(n,0),i},_selectionVoid:function(e){const t=e.commonAncestorContainer;return a.isWysiwygDiv(e.startContainer)&&a.isWysiwygDiv(e.endContainer)||/FIGURE/i.test(t.nodeName)||this._fileManager.regExp.test(t.nodeName)||a.isMediaComponent(t)},_resetRangeToTextNode:function(){const t=this.getRange();if(this._selectionVoid(t))return!1;let i,n,o,l=t.startContainer,s=t.startOffset,r=t.endContainer,c=t.endOffset;if(a.isFormatElement(l)&&(l=l.childNodes[s]||l.lastChild,s=l.textContent.length),a.isFormatElement(r)&&(r=r.childNodes[c]||r.lastChild,c=r.textContent.length),i=a.isWysiwygDiv(l)?e.element.wysiwyg.firstChild:l,n=s,a.isBreak(i)||1===i.nodeType&&i.childNodes.length>0){const e=a.isBreak(i);if(!e){for(;i&&!a.isBreak(i)&&1===i.nodeType;)i=i.childNodes[n]||i.nextElementSibling||i.nextSibling,n=0;let e=a.getFormatElement(i,null);e===a.getRangeFormatElement(e,null)&&(e=a.createElement(a.getParentElement(i,a.isCell)?"DIV":"P"),i.parentNode.insertBefore(e,i),e.appendChild(i))}if(a.isBreak(i)){const t=a.createTextNode(a.zeroWidthSpace);i.parentNode.insertBefore(t,i),i=t,e&&l===r&&(r=i,c=1)}}if(l=i,s=n,i=a.isWysiwygDiv(r)?e.element.wysiwyg.lastChild:r,n=c,a.isBreak(i)||1===i.nodeType&&i.childNodes.length>0){const e=a.isBreak(i);if(!e){for(;i&&!a.isBreak(i)&&1===i.nodeType&&(o=i.childNodes,0!==o.length);)i=o[n>0?n-1:n]||!/FIGURE/i.test(o[0].nodeName)?o[0]:i.previousElementSibling||i.previousSibling||l,n=n>0?i.textContent.length:n;let e=a.getFormatElement(i,null);e===a.getRangeFormatElement(e,null)&&(e=a.createElement(a.isCell(e)?"DIV":"P"),i.parentNode.insertBefore(e,i),e.appendChild(i))}if(a.isBreak(i)){const t=a.createTextNode(a.zeroWidthSpace);i.parentNode.insertBefore(t,i),i=t,n=1,e&&!i.previousSibling&&a.removeItem(r)}}return r=i,c=n,this.setRange(l,s,r,c),!0},getSelectedElements:function(t){if(!this._resetRangeToTextNode())return[];let i=this.getRange();if(a.isWysiwygDiv(i.startContainer)){const t=e.element.wysiwyg.children;if(0===t.length)return[];this.setRange(t[0],0,t[t.length-1],t[t.length-1].textContent.trim().length),i=this.getRange()}const n=i.startContainer,o=i.endContainer,l=i.commonAncestorContainer,s=a.getListChildren(l,(function(e){return t?t(e):a.isFormatElement(e)}));if(a.isWysiwygDiv(l)||a.isRangeFormatElement(l)||s.unshift(a.getFormatElement(l,null)),n===o||1===s.length)return s;let r=a.getFormatElement(n,null),c=a.getFormatElement(o,null),u=null,d=null;const h=function(e){return!a.isTable(e)||/^TABLE$/i.test(e.nodeName)};let p=a.getRangeFormatElement(r,h),f=a.getRangeFormatElement(c,h);a.isTable(p)&&a.isListCell(p.parentNode)&&(p=p.parentNode),a.isTable(f)&&a.isListCell(f.parentNode)&&(f=f.parentNode);const g=p===f;for(let e,a=0,m=s.length;a<m;a++)if(e=s[a],r===e||!g&&e===p)u=a;else if(c===e||!g&&e===f){d=a;break}return null===u&&(u=0),null===d&&(d=s.length-1),s.slice(u,d+1)},getSelectedElementsAndComponents:function(e){const t=this.getRange().commonAncestorContainer,i=a.getParentElement(t,a.isComponent),n=a.isTable(t)?this.getSelectedElements(null):this.getSelectedElements(function(e){const t=this.getParentElement(e,this.isComponent);return this.isFormatElement(e)&&(!t||t===i)||this.isComponent(e)&&!this.getFormatElement(e)}.bind(a));if(e)for(let o=0,l=n.length;o<l;o++)for(let e=o-1;e>=0;e--)if(n[e].contains(n[o])){n.splice(o,1),o--,l--;break}return n},isEdgePoint:function(e,t){return 0===t||!e.nodeValue&&1===t||t===e.nodeValue.length},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(e,t){const i=a.getFormatElement(this.getSelectionNode(),null),n=t?"string"===typeof t?t:t.nodeName:a.isFormatElement(i)&&!a.isFreeFormatElement(i)?i.nodeName:"P",o=a.createElement(n);return o.innerHTML="<br>",(t&&"string"!==typeof t||!t&&a.isFormatElement(i))&&a.copyTagAttributes(o,t||i),a.isCell(e)?e.insertBefore(o,e.nextElementSibling):e.parentNode.insertBefore(o,e.nextElementSibling),o},insertComponent:function(e,t,i,n){if(i&&!this.checkCharCount(e,null))return null;const o=this.removeNode();this.getRange_addLine(this.getRange());let l=null,s=this.getSelectionNode(),r=a.getFormatElement(s,null);if(a.isListCell(r))this.insertNode(e,s===r?null:o.container.nextSibling,!1),e.nextSibling||e.parentNode.appendChild(a.createElement("BR"));else{if(this.getRange().collapsed&&(3===o.container.nodeType||a.isBreak(o.container))){const e=a.getParentElement(o.container,function(e){return this.isRangeFormatElement(e)}.bind(a));l=a.splitElement(o.container,o.offset,e?a.getElementDepth(e)+1:0),l&&(r=l.previousSibling)}this.insertNode(e,r,!1),r&&a.onlyZeroWidthSpace(r)&&a.removeItem(r)}if(!n){const t=this.getFileComponent(e);t?this.selectComponent(t.target,t.pluginName):l&&(l=a.getEdgeChildNodes(l,null).sc||l,this.setRange(l,0,l,0))}return t||this.history.push(1),l||e},getFileComponent:function(e){if(!this._fileManager.queryString||!e)return null;let t,i;return(/^FIGURE$/i.test(e.nodeName)||/se-component/.test(e.className))&&(t=e.querySelector(this._fileManager.queryString)),!t&&e.nodeName&&this._fileManager.regExp.test(e.nodeName)&&(t=e),t&&(i=this._fileManager.pluginMap[t.nodeName.toLowerCase()],i)?{target:t,component:a.getParentElement(t,a.isComponent),pluginName:i}:null},selectComponent:function(e,t){this.hasFocus||this.focus();const i=this.plugins[t];i&&r.setTimeout(function(){"function"===typeof i.select&&this.callPlugin(t,i.select.bind(this,e),null),this._setComponentLineBreaker(e)}.bind(this))},_setComponentLineBreaker:function(t){this._lineBreaker.style.display="none";const i=a.getParentElement(t,a.isComponent),n=e.element.lineBreaker_t.style,o=e.element.lineBreaker_b.style,l="block"===this.context.resizing.resizeContainer.style.display?this.context.resizing.resizeContainer:t,s=a.isListCell(i.parentNode);let r,c,u;(s?i.previousSibling:a.isFormatElement(i.previousElementSibling))?n.display="none":(this._variable._lineBreakComp=i,c=e.element.wysiwyg.scrollTop,r=a.getOffset(t,e.element.wysiwygFrame).top+c,u=l.offsetWidth/2/2,n.top=r-c-12+"px",n.left=a.getOffset(l).left+u+"px",n.display="block"),(s?i.nextSibling:a.isFormatElement(i.nextElementSibling))?o.display="none":(r||(this._variable._lineBreakComp=i,c=e.element.wysiwyg.scrollTop,r=a.getOffset(t,e.element.wysiwygFrame).top+c,u=l.offsetWidth/2/2),o.top=r+l.offsetHeight-c-12+"px",o.left=a.getOffset(l).left+l.offsetWidth-u-24+"px",o.display="block")},insertNode:function(e,t,i){if(i&&!this.checkCharCount(e,null))return null;const n=a.getFreeFormatElement(this.getSelectionNode(),null),o=!n&&(a.isFormatElement(e)||a.isRangeFormatElement(e))||a.isComponent(e);if(!t&&o){const e=this.removeNode();if(3===e.container.nodeType||a.isBreak(e.container)){const i=a.getParentElement(e.container,function(e){return this.isRangeFormatElement(e)||this.isListCell(e)}.bind(a));(t=a.splitElement(e.container,e.offset,i?a.getElementDepth(i)+1:0))&&(t=t.previousSibling)}}const l=t||o?this.getRange():this.getRange_addLine(this.getRange()),s=l.commonAncestorContainer,r=l.startOffset,c=l.endOffset,u=l.startContainer===s&&a.isFormatElement(s),d=u?s.childNodes[r]:l.startContainer,h=u?s.childNodes[c]:l.endContainer;let p,f=null;if(t)p=t.parentNode,t=t.nextSibling,f=!0;else if(p=d,3===d.nodeType&&(p=d.parentNode),l.collapsed)if(3===s.nodeType)t=s.textContent.length>c?s.splitText(c):s.nextSibling;else if(a.isBreak(p))t=p,p=p.parentNode;else{let i=p.childNodes[r];const n=i&&3===i.nodeType&&a.onlyZeroWidthSpace(i)&&a.isBreak(i.nextSibling)?i.nextSibling:i;n?n.nextSibling?t=a.isBreak(n)&&!a.isBreak(e)?n:n.nextSibling:(p.removeChild(n),t=null):t=null}else{if(d===h){t=this.isEdgePoint(h,c)?h.nextSibling:h.splitText(c);let e=d;this.isEdgePoint(d,r)||(e=d.splitText(r)),p.removeChild(e),0===p.childNodes.length&&o&&(p.innerHTML="<br>")}else{const e=this.removeNode(),i=e.container,n=e.prevContainer;if(i&&0===i.childNodes.length&&o&&(a.isFormatElement(i)?i.innerHTML="<br>":a.isRangeFormatElement(i)&&(i.innerHTML="<p><br></p>")),!o&&n)if(p=3===n.nodeType?n.parentNode:n,p.contains(i))for(t=i;t.parentNode===p;)t=t.parentNode;else t=null;else p=o?s:i,t=o?h:null;for(;t&&!a.isFormatElement(t)&&t.parentNode!==s;)t=t.parentNode}}try{if(a.isFormatElement(e)||a.isRangeFormatElement(e)||!a.isListCell(p)&&a.isComponent(e)){const e=p;if(a.isList(t))p=t,t=null;else if(a.isListCell(t))p=t.previousElementSibling||t;else if(!f&&!t){const e=this.removeNode(),i=3===e.container.nodeType?a.isListCell(a.getFormatElement(e.container,null))?e.container:a.getFormatElement(e.container,null)||e.container.parentNode:e.container,n=a.isWysiwygDiv(i)||a.isRangeFormatElement(i);p=n?i:i.parentNode,t=n?null:i.nextSibling}0===e.childNodes.length&&p!==e&&a.removeItem(e)}!o||n||a.isRangeFormatElement(p)||a.isListCell(p)||a.isWysiwygDiv(p)||(t=p.nextElementSibling,p=p.parentNode),p.insertBefore(e,p===t?p.lastChild:t)}catch(g){p.appendChild(e)}finally{if(n&&(a.isFormatElement(e)||a.isRangeFormatElement(e))&&(e=this._setIntoFreeFormat(e)),!a.isComponent(e)){let t=1;if(3===e.nodeType){const t=e.previousSibling,i=e.nextSibling,n=!t||1===t.nodeType||a.onlyZeroWidthSpace(t)?"":t.textContent,o=!i||1===i.nodeType||a.onlyZeroWidthSpace(i)?"":i.textContent;t&&n.length>0&&(e.textContent=n+e.textContent,a.removeItem(t)),i&&i.length>0&&(e.textContent+=o,a.removeItem(i));const l={container:e,startOffset:n.length,endOffset:e.textContent.length-o.length};return this.setRange(e,l.startOffset,e,l.endOffset),l}if(!a.isBreak(e)&&a.isFormatElement(p)){let i=null;e.previousSibling||(i=a.createTextNode(a.zeroWidthSpace),e.parentNode.insertBefore(i,e)),e.nextSibling||(i=a.createTextNode(a.zeroWidthSpace),e.parentNode.appendChild(i)),a._isIgnoreNodeChange(e)&&(e=e.nextSibling,t=0)}this.setRange(e,t,e,t)}return this.history.push(!0),e}},_setIntoFreeFormat:function(e){const t=e.parentNode;let i,n;for(;a.isFormatElement(e)||a.isRangeFormatElement(e);){for(i=e.childNodes,n=null;i[0];)if(n=i[0],a.isFormatElement(n)||a.isRangeFormatElement(n)){if(this._setIntoFreeFormat(n),!e.parentNode)break;i=e.childNodes}else t.insertBefore(n,e);0===e.childNodes.length&&a.removeItem(e),e=a.createElement("BR"),t.insertBefore(e,n.nextSibling)}return e},removeNode:function(){this._resetRangeToTextNode()||console.warn('[SUNEDITOR.core.removeNode.exception] An exception occurred while resetting the "Range" object.');const t=this.getRange();let i,n=0,o=t.startContainer,l=t.endContainer;const s=t.startOffset,r=t.endOffset,c=t.commonAncestorContainer;let u=null,d=null;const h=a.getListChildNodes(c,null);let p=a.getArrayIndex(h,o),f=a.getArrayIndex(h,l);if(h.length>0&&p>-1&&f>-1){for(let e=p+1,t=o;e>=0;e--)h[e]===t.parentNode&&h[e].firstChild===t&&0===s&&(p=e,t=t.parentNode);for(let e=f-1,t=l;e>p;e--)h[e]===t.parentNode&&1===h[e].nodeType&&(h.splice(e,1),t=t.parentNode,--f)}else{if(0===h.length){if(a.isFormatElement(c)||a.isRangeFormatElement(c)||a.isWysiwygDiv(c)||a.isBreak(c)||a.isMedia(c))return{container:c,offset:0};h.push(c),o=l=c}else if(o=l=h[0],a.isBreak(o)||a.onlyZeroWidthSpace(o))return{container:o,offset:0};p=f=0}function g(e){const t=a.getFormatElement(e,null);if(a.removeItem(e),a.isListCell(t)){const e=a.getArrayItem(t.children,a.isList,!1);if(e){const i=e.firstElementChild,n=i.childNodes;for(;n[0];)t.insertBefore(n[0],e);a.removeItemAllParents(i,null,null)}}}for(let e=p;e<=f;e++){const t=h[e];if(0===t.length||3===t.nodeType&&void 0===t.data)g(t);else if(t!==o)t!==l?g(t):(d=1===l.nodeType?a.createTextNode(l.textContent):a.createTextNode(l.substringData(r,l.length-r)),d.length>0?l.data=d.data:g(l));else if(1===o.nodeType?u=a.createTextNode(o.textContent):t===l?(u=a.createTextNode(o.substringData(0,s)+l.substringData(r,l.length-r)),n=s):u=a.createTextNode(o.substringData(0,s)),u.length>0?o.data=u.data:g(o),t===l)break}if(i=l&&l.parentNode?l:o&&o.parentNode?o:t.endContainer||t.startContainer,!a.isWysiwygDiv(i)){const t=a.removeItemAllParents(i,function(e){if(this.isComponent(e))return!1;const t=e.textContent;return 0===t.length||/^(\n|\u200B)+$/.test(t)}.bind(a),null);t&&(i=t.sc||t.ec||e.element.wysiwyg)}return this.setRange(i,n,i,n),this.history.push(!0),{container:i,offset:n,prevContainer:o&&o.parentNode?o:null}},applyRangeFormatElement:function(e){this.getRange_addLine(this.getRange());const t=this.getSelectedElementsAndComponents(!1);if(!t||0===t.length)return;e:for(let h,p,f,g,m,b,v=0,y=t.length;v<y;v++)if(h=t[v],a.isListCell(h))if(p=h.lastElementChild,p&&a.isListCell(h.nextElementSibling)&&t.indexOf(h.nextElementSibling)>-1&&(g=p.lastElementChild,t.indexOf(g)>-1)){let e=null;for(;e=g.lastElementChild;)if(a.isList(e)){if(!(t.indexOf(e.lastElementChild)>-1))continue e;g=e.lastElementChild}f=p.firstElementChild,m=t.indexOf(f),b=t.indexOf(g),t.splice(m,b-m+1),y=t.length}else;let i,n,o,l=t[t.length-1];i=a.isRangeFormatElement(l)||a.isFormatElement(l)?l:a.getRangeFormatElement(l,null)||a.getFormatElement(l,null),a.isCell(i)?(n=null,o=i):(n=i.nextSibling,o=i.parentNode);let s=a.getElementDepth(i),r=null;const c=[],u=function(e,t,i){let n=null;if(e!==t&&!a.isTable(t)){if(t&&a.getElementDepth(e)===a.getElementDepth(t))return i;n=a.removeItemAllParents(t,null,e)}return n?n.ec:i};for(let h,p,f,g,m,b,v,y=0,_=t.length;y<_;y++)if(h=t[y],p=h.parentNode,p&&!e.contains(p))if(f=a.getElementDepth(h),a.isList(p)){if(null===r&&(b?(r=b,v=!0,b=null):r=p.cloneNode(!1)),c.push(h),m=t[y+1],y===_-1||m&&m.parentNode!==p){m&&h.contains(m.parentNode)&&(b=m.parentNode.cloneNode(!1));let t,i=p.parentNode;for(;a.isList(i);)t=a.createElement(i.nodeName),t.appendChild(r),r=t,i=i.parentNode;const l=this.detachRangeFormatElement(p,c,null,!0,!0);s>=f?(s=f,o=l.cc,n=u(o,p,l.ec),n&&(o=n.parentNode)):o===l.cc&&(n=l.ec),o!==l.cc&&(g=u(o,l.cc,g),n=void 0!==g?g:l.cc);for(let e=0,n=l.removeArray.length;e<n;e++)r.appendChild(l.removeArray[e]);v||e.appendChild(r),b&&l.removeArray[l.removeArray.length-1].appendChild(b),r=null,v=!1}}else s>=f&&(s=f,o=p,n=h.nextSibling),e.appendChild(h),o!==p&&(g=u(o,p),void 0!==g&&(n=g));if(this.effectNode=null,a.mergeSameTags(e,null,!1),a.mergeNestedTags(e,function(e){return this.isList(e)}.bind(a)),n&&a.getElementDepth(n)>0&&(a.isList(n.parentNode)||a.isList(n.parentNode.parentNode))){const t=a.getParentElement(n,function(e){return this.isRangeFormatElement(e)&&!this.isList(e)}.bind(a)),i=a.splitElement(n,null,t?a.getElementDepth(t)+1:0);i.parentNode.insertBefore(e,i)}else o.insertBefore(e,n),u(e,n);const d=a.getEdgeChildNodes(e.firstElementChild,e.lastElementChild);t.length>1?this.setRange(d.sc,0,d.ec,d.ec.textContent.length):this.setRange(d.ec,d.ec.textContent.length,d.ec,d.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(e,t,i,n,o){const l=this.getRange(),s=l.startOffset,r=l.endOffset;let c=a.getListChildNodes(e,(function(t){return t.parentNode===e})),u=e.parentNode,d=null,h=null,p=e.cloneNode(!1);const f=[],g=a.isList(i);let m=!1,b=!1,v=!1;function y(t,i,n,o){if(a.onlyZeroWidthSpace(i)&&(i.innerHTML=a.zeroWidthSpace),3===i.nodeType)return t.insertBefore(i,n),i;const l=(v?i:o).childNodes;let s=i.cloneNode(!1),r=null,c=null;for(;l[0];)c=l[0],!a._notTextNode(c)||a.isBreak(c)||a.isListCell(s)?s.appendChild(c):(s.childNodes.length>0&&(r||(r=s),t.insertBefore(s,n),s=i.cloneNode(!1)),t.insertBefore(c,n),r||(r=c));if(s.childNodes.length>0){if(a.isListCell(t)&&a.isListCell(s)&&a.isList(n))if(g){for(r=n;n;)s.appendChild(n),n=n.nextSibling;t.parentNode.insertBefore(s,t.nextElementSibling)}else{const t=o.nextElementSibling,i=a.detachNestedList(o,!1);if(e!==i||t!==o.nextElementSibling){const t=s.childNodes;for(;t[0];)o.appendChild(t[0]);e=i,b=!0}}else t.insertBefore(s,n);r||(r=s)}return r}for(let C,k,S,A=0,E=c.length;A<E;A++)if(C=c[A],3!==C.nodeType||!a.isList(p))if(v=!1,n&&0===A&&(d=t&&t.length!==E&&t[0]!==C?p:e.previousSibling),t&&(k=t.indexOf(C)),t&&-1===k)p||(p=e.cloneNode(!1)),p.appendChild(C);else{if(t&&(S=t[k+1]),p&&p.children.length>0&&(u.insertBefore(p,e),p=null),!g&&a.isListCell(C))if(S&&a.getElementDepth(C)!==a.getElementDepth(S)&&(a.isListCell(u)||a.getArrayItem(C.children,a.isList,!1))){const t=C.nextElementSibling,i=a.detachNestedList(C,!1);e===i&&t===C.nextElementSibling||(e=i,b=!0)}else{const t=C;C=a.createElement(n?t.nodeName:a.isList(e.parentNode)||a.isListCell(e.parentNode)?"LI":a.isCell(e.parentNode)?"DIV":"P");const i=a.isListCell(C),o=t.childNodes;for(;o[0]&&(!a.isList(o[0])||i);)C.appendChild(o[0]);a.copyFormatAttributes(C,t),v=!0}else C=C.cloneNode(!1);if(!b&&(n?(f.push(C),a.removeItem(c[A])):(i?(m||(u.insertBefore(i,e),m=!0),C=y(i,C,null,c[A])):C=y(u,C,e,c[A]),b||(t?(h=C,d||(d=C)):d||(d=h=C))),b)){b=v=!1,c=a.getListChildNodes(e,(function(t){return t.parentNode===e})),p=e.cloneNode(!1),u=e.parentNode,A=-1,E=c.length;continue}}const _=e.parentNode;let x=e.nextSibling;p&&p.children.length>0&&_.insertBefore(p,x),i?d=i.previousSibling:d||(d=e.previousSibling),x=e.nextSibling,0===e.children.length||0===e.textContent.length?a.removeItem(e):a.removeEmptyNode(e,null);let w=null;if(n)w={cc:_,sc:d,ec:x,removeArray:f};else{d||(d=h),h||(h=d);const e=a.getEdgeChildNodes(d,h.parentNode?d:h);w={cc:(e.sc||e.ec).parentNode,sc:e.sc,ec:e.ec}}if(this.effectNode=null,o)return w;!n&&w&&(t?this.setRange(w.sc,s,w.ec,r):this.setRange(w.sc,0,w.sc,0)),this.history.push(!1)},detachList:function(e,t){let i={},n=!1,o=!1,l=null,s=null;const r=function(e){return!this.isComponent(e)}.bind(a);for(let c,u,d,h,p=0,f=e.length;p<f;p++){if(d=p===f-1,u=a.getRangeFormatElement(e[p],r),h=a.isList(u),!c&&h)c=u,i={r:c,f:[a.getParentElement(e[p],"LI")]},0===p&&(n=!0);else if(c&&h)if(c!==u){const r=this.detachRangeFormatElement(i.f[0].parentNode,i.f,null,t,!0);u=e[p].parentNode,n&&(l=r.sc,n=!1),d&&(s=r.ec),h?(c=u,i={r:c,f:[a.getParentElement(e[p],"LI")]},d&&(o=!0)):c=null}else i.f.push(a.getParentElement(e[p],"LI")),d&&(o=!0);if(d&&a.isList(c)){const e=this.detachRangeFormatElement(i.f[0].parentNode,i.f,null,t,!0);(o||1===f)&&(s=e.ec),n&&(l=e.sc||s)}}return{sc:l,ec:s}},nodeChange:function(e,t,i,n){this._resetRangeToTextNode();let o=this.getRange_addLine(this.getRange());t=!!(t&&t.length>0)&&t,i=!!(i&&i.length>0)&&i;const l=!e,s=l&&!i&&!t;let c=o.startContainer,u=o.startOffset,d=o.endContainer,h=o.endOffset;if(s&&o.collapsed&&a.isFormatElement(c.parentNode)&&a.isFormatElement(d.parentNode)||c===d&&1===c.nodeType&&a.isNonEditable(c))return;if(o.collapsed&&!s&&1===c.nodeType&&!a.isBreak(c)&&!a.isComponent(c)){let e=null;const t=c.childNodes[u];t&&(e=t.nextSibling?a.isBreak(t)?t:t.nextSibling:null);const i=a.createTextNode(a.zeroWidthSpace);c.insertBefore(i,e),this.setRange(i,1,i,1),o=this.getRange(),c=o.startContainer,u=o.startOffset,d=o.endContainer,h=o.endOffset}a.isFormatElement(c)&&(c=c.childNodes[u]||c.firstChild,u=0),a.isFormatElement(d)&&(d=d.childNodes[h]||d.lastChild,h=d.textContent.length),l&&(e=a.createElement("DIV"));const p=r.RegExp,f=e.nodeName;if(!s&&c===d&&!i&&e){let t=c,i=0;const n=[],o=e.style;for(let e=0,l=o.length;e<l;e++)n.push(o[e]);const s=e.classList;for(let e=0,l=s.length;e<l;e++)n.push("."+s[e]);if(n.length>0){for(;!a.isFormatElement(t)&&!a.isWysiwygDiv(t);){for(let o=0;o<n.length;o++)if(1===t.nodeType){const s=n[o],r=!!/^\./.test(s)&&new p("\\s*"+s.replace(/^\./,"")+"(\\s+|$)","ig"),a=l?!!t.style[s]:!!t.style[s]&&!!e.style[s]&&t.style[s]===e.style[s],c=!1!==r&&(l?!!t.className.match(r):!!t.className.match(r)&&!!e.className.match(r));(a||c)&&i++}t=t.parentNode}if(i>=n.length)return}}let g,m={},b={},v="",y="",_="";if(t){for(let e,i=0,n=t.length;i<n;i++)e=t[i],/^\./.test(e)?y+=(y?"|":"\\s*(?:")+e.replace(/^\./,""):v+=(v?"|":"(?:;|^|\\s)(?:")+e;v&&(v+=")\\s*:[^;]*\\s*(?:;|$)",v=new p(v,"ig")),y&&(y+=")(?=\\s+|$)",y=new p(y,"ig"))}if(i){_="^(?:"+i[0];for(let e=1;e<i.length;e++)_+="|"+i[e];_+=")$",_=new p(_,"i")}const x=r.Boolean,w={v:!1},C=function(e){const t=e.cloneNode(!1);if(3===t.nodeType||a.isBreak(t))return t;if(s)return null;const i=!_&&l||_&&_.test(t.nodeName);if(i&&!n)return w.v=!0,null;const o=t.style.cssText;let r="";v&&o.length>0&&(r=o.replace(v,"").trim(),r!==o&&(w.v=!0));const c=t.className;let u="";return y&&c.length>0&&(u=c.replace(y,"").trim(),u!==c&&(w.v=!0)),(!l||!y&&c||!v&&o||r||u||!i)&&(r||u||t.nodeName!==f||x(v)!==x(o)||x(y)!==x(c))?(v&&o.length>0&&(t.style.cssText=r),t.style.cssText||t.removeAttribute("style"),y&&c.length>0&&(t.className=u.trim()),t.className.trim()||t.removeAttribute("class"),t.style.cssText||t.className||t.nodeName!==f&&!i?t:(w.v=!0,null)):(w.v=!0,null)},k=this.getSelectedElements(null);o=this.getRange(),c=o.startContainer,u=o.startOffset,d=o.endContainer,h=o.endOffset,a.getFormatElement(c,null)||(c=a.getChildElement(k[0],(function(e){return 3===e.nodeType}),!1),u=0),a.getFormatElement(d,null)||(d=a.getChildElement(k[k.length-1],(function(e){return 3===e.nodeType}),!1),h=d.textContent.length);const S=a.getFormatElement(c,null)===a.getFormatElement(d,null),A=k.length-(S?0:1);g=e.cloneNode(!1);const E=s||l&&function(e){for(let t=0,i=e.length;t<i;t++)if(a._isMaintainedNode(e[t])||a._isSizeNode(e[t]))return!0;return!1}(i),L=a._isSizeNode(g),z=this._util_getMaintainedNode.bind(a,E,L),N=this._util_isMaintainedNode.bind(a,E,L);if(S){const e=this._nodeChange_oneLine(k[0],g,C,c,u,d,h,s,l,o.collapsed,w,z,N);m.container=e.startContainer,m.offset=e.startOffset,b.container=e.endContainer,b.offset=e.endOffset,m.container===b.container&&a.onlyZeroWidthSpace(m.container)&&(m.offset=b.offset=1),this._setCommonListStyle(e.ancestor,null)}else{A>0&&(g=e.cloneNode(!1),b=this._nodeChange_endLine(k[A],g,C,d,h,s,l,w,z,N));for(let t,i=A-1;i>0;i--)g=e.cloneNode(!1),t=this._nodeChange_middleLine(k[i],g,C,s,l,w,b.container),t.endContainer&&(b.ancestor=null,b.container=t.endContainer),this._setCommonListStyle(t.ancestor,null);g=e.cloneNode(!1),m=this._nodeChange_startLine(k[0],g,C,c,u,s,l,w,z,N,b.container),m.endContainer&&(b.ancestor=null,b.container=m.endContainer),A<=0?b=m:b.container||(b.ancestor=null,b.container=m.container,b.offset=m.container.textContent.length),this._setCommonListStyle(m.ancestor,null),this._setCommonListStyle(b.ancestor||a.getFormatElement(b.container),null)}this.controllersOff(),this.setRange(m.container,m.offset,b.container,b.offset),this.history.push(!1)},_setCommonListStyle:function(e,t){if(!a.isListCell(e))return;t||e.removeAttribute("style");const i=a.getArrayItem((t||e).childNodes,(function(e){return!a.isBreak(e)&&!a.onlyZeroWidthSpace(e.textContent.trim())}),!0);if(i[0]&&1===i.length){if(!(t=i[0])||1!==t.nodeType)return;const n=t.style,o=e.style;/STRONG/i.test(t.nodeName)?o.fontWeight="bold":n.fontWeight&&(o.fontWeight=n.fontWeight),n.color&&(o.color=n.color),n.fontSize&&(o.fontSize=n.fontSize),this._setCommonListStyle(e,t)}},_stripRemoveNode:function(e){const t=e.parentNode;if(!e||3===e.nodeType||!t)return;const i=e.childNodes;for(;i[0];)t.insertBefore(i[0],e);t.removeChild(e)},_util_getMaintainedNode:function(e,t,i){return!i||e?null:this.getParentElement(i,this._isMaintainedNode.bind(this))||(t?null:this.getParentElement(i,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(e,t,i){if(!i||e||1!==i.nodeType)return!1;const n=this._isMaintainedNode(i);return this.getParentElement(i,this._isMaintainedNode.bind(this))?n:n||!t&&this._isSizeNode(i)},_nodeChange_oneLine:function(e,t,i,n,o,l,s,c,u,d,h,p,f){let g=n.parentNode;for(;!g.nextSibling&&!g.previousSibling&&!a.isFormatElement(g.parentNode)&&!a.isWysiwygDiv(g.parentNode)&&g.nodeName!==t.nodeName;)g=g.parentNode;if(!u&&g===l.parentNode&&g.nodeName===t.nodeName&&a.onlyZeroWidthSpace(n.textContent.slice(0,o))&&a.onlyZeroWidthSpace(l.textContent.slice(s))){const e=g.childNodes;let i=!0;for(let t,o,s,r,c=0,u=e.length;c<u;c++)if(t=e[c],r=!a.onlyZeroWidthSpace(t),t!==n)if(t!==l){if(!o&&r||o&&s&&r){i=!1;break}}else s=!0;else o=!0;if(i)return a.copyTagAttributes(g,t),{startContainer:n,startOffset:o,endContainer:l,endOffset:s}}h.v=!1;const m=e,b=[t],v=e.cloneNode(!1),y=n===l;let _,x,w,C,k,S=n,A=o,E=l,L=s,z=!1,N=!1;const T=r.RegExp;function M(e){const t=new T("(?:;|^|\\s)(?:"+C+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let i="";return t&&e.style.cssText.length>0&&(i=t.test(e.style.cssText)),!i}if(function e(n,o){const l=n.childNodes;for(let s,r=0,u=l.length;r<u;r++){let n=l[r];if(!n)continue;let u,h=o;if(!z&&n===S){let e=v;k=p(n);const l=a.createTextNode(1===S.nodeType?"":S.substringData(0,A)),r=a.createTextNode(1===S.nodeType?"":S.substringData(A,y&&L>=A?L-A:S.data.length-A));if(k){const t=p(o);if(t&&t.parentNode!==e){let i=t,n=null;for(;i.parentNode!==e;){for(o=n=i.parentNode.cloneNode(!1);i.childNodes[0];)n.appendChild(i.childNodes[0]);i.appendChild(n),i=i.parentNode}i.parentNode.appendChild(t)}k=k.cloneNode(!1)}a.onlyZeroWidthSpace(l)||o.appendChild(l);const c=p(o);for(c&&(k=c),k&&(e=k),x=n,_=[],C="";x!==e&&x!==m&&null!==x;)s=f(x)?null:i(x),s&&1===x.nodeType&&M(x)&&(_.push(s),C+=x.style.cssText.substr(0,x.style.cssText.indexOf(":"))+"|"),x=x.parentNode;const u=_.pop()||r;for(w=x=u;_.length>0;)x=_.pop(),w.appendChild(x),w=x;if(t.appendChild(u),e.appendChild(t),k&&!p(E)&&(t=t.cloneNode(!1),v.appendChild(t),b.push(t)),S=r,A=0,z=!0,x!==r&&x.appendChild(S),!y)continue}if(N||n!==E){if(z){if(1===n.nodeType&&!a.isBreak(n)){a._isIgnoreNodeChange(n)?(v.appendChild(n.cloneNode(!0)),d||(t=t.cloneNode(!1),v.appendChild(t),b.push(t))):e(n,n);continue}x=n,_=[],C="";const l=[];for(;null!==x.parentNode&&x!==m&&x!==t;)s=N?x.cloneNode(!1):i(x),1===x.nodeType&&!a.isBreak(n)&&s&&M(x)&&(f(x)?k||l.push(s):_.push(s),C+=x.style.cssText.substr(0,x.style.cssText.indexOf(":"))+"|"),x=x.parentNode;_=_.concat(l);const r=_.pop()||n;for(w=x=r;_.length>0;)x=_.pop(),w.appendChild(x),w=x;if(f(t.parentNode)&&!f(r)&&(t=t.cloneNode(!1),v.appendChild(t),b.push(t)),N||k||!f(r))r===n?o=N?v:t:N?(v.appendChild(r),o=x):(t.appendChild(r),o=x);else{t=t.cloneNode(!1);const e=r.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);r.appendChild(t),v.appendChild(r),b.push(t),o=t.children.length>0?x:t}if(k&&3===n.nodeType)if(p(n)){const e=a.getParentElement(o,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===v}.bind(a));k.appendChild(e),t=e.cloneNode(!1),b.push(t),v.appendChild(t)}else k=null}u=n.cloneNode(!1),o.appendChild(u),1!==n.nodeType||a.isBreak(n)||(h=u),e(n,h)}else{k=p(n);const e=a.createTextNode(1===E.nodeType?"":E.substringData(L,E.length-L)),o=a.createTextNode(y||1===E.nodeType?"":E.substringData(0,L));if(k?k=k.cloneNode(!1):f(t.parentNode)&&!k&&(t=t.cloneNode(!1),v.appendChild(t),b.push(t)),!a.onlyZeroWidthSpace(e)){x=n,C="",_=[];const t=[];for(;x!==v&&x!==m&&null!==x;)1===x.nodeType&&M(x)&&(f(x)?t.push(x.cloneNode(!1)):_.push(x.cloneNode(!1)),C+=x.style.cssText.substr(0,x.style.cssText.indexOf(":"))+"|"),x=x.parentNode;for(_=_.concat(t),u=w=x=_.pop()||e;_.length>0;)x=_.pop(),w.appendChild(x),w=x;v.appendChild(u),x.textContent=e.data}if(k&&u){const e=p(u);e&&(k=e)}for(x=n,_=[],C="";x!==v&&x!==m&&null!==x;)s=f(x)?null:i(x),s&&1===x.nodeType&&M(x)&&(_.push(s),C+=x.style.cssText.substr(0,x.style.cssText.indexOf(":"))+"|"),x=x.parentNode;const l=_.pop()||o;for(w=x=l;_.length>0;)x=_.pop(),w.appendChild(x),w=x;k?((t=t.cloneNode(!1)).appendChild(l),k.insertBefore(t,k.firstChild),v.appendChild(k),b.push(t),k=null):t.appendChild(l),E=o,L=o.data.length,N=!0,!c&&d&&(t=o,o.textContent=a.zeroWidthSpace),x!==o&&x.appendChild(E)}}}(e,v),u&&!c&&!h.v)return{ancestor:e,startContainer:n,startOffset:o,endContainer:l,endOffset:s};if(c=c&&u)for(let r=0;r<b.length;r++){let e,t,i,n=b[r];if(d)e=a.createTextNode(a.zeroWidthSpace),v.replaceChild(e,n);else{const e=n.childNodes;for(t=e[0];e[0];)i=e[0],v.insertBefore(i,n);a.removeItem(n)}0===r&&(d?S=E=e:(S=t,E=i))}else{if(u)for(let e=0;e<b.length;e++)this._stripRemoveNode(b[e]);d&&(S=E=t)}a.removeEmptyNode(v,t),d&&(A=S.textContent.length,L=E.textContent.length);const B=c||0===E.textContent.length;a.isBreak(E)||0!==E.textContent.length||(a.removeItem(E),E=S),L=B?E.textContent.length:L;const I={s:0,e:0},D=a.getNodePath(S,v,I),O=!E.parentNode;O&&(E=S);const R={s:0,e:0},H=a.getNodePath(E,v,O||B?null:R);A+=I.s,L=d?A:O?S.textContent.length:B?L+I.s:L+R.s;const F=a.mergeSameTags(v,[D,H],!0);return e.parentNode.replaceChild(v,e),S=a.getNodeFromPath(D,v),E=a.getNodeFromPath(H,v),{ancestor:v,startContainer:S,startOffset:A+F[0],endContainer:E,endOffset:L+F[1]}},_nodeChange_startLine:function(e,t,i,n,o,l,s,r,c,u,d){let h=n.parentNode;for(;!h.nextSibling&&!h.previousSibling&&!a.isFormatElement(h.parentNode)&&!a.isWysiwygDiv(h.parentNode)&&h.nodeName!==t.nodeName;)h=h.parentNode;if(!s&&h.nodeName===t.nodeName&&!a.isFormatElement(h)&&!h.nextSibling&&a.onlyZeroWidthSpace(n.textContent.slice(0,o))){let i=!0,l=n.previousSibling;for(;l;){if(!a.onlyZeroWidthSpace(l)){i=!1;break}l=l.previousSibling}if(i)return a.copyTagAttributes(h,t),{ancestor:e,container:n,offset:o}}r.v=!1;const p=e,f=[t],g=e.cloneNode(!1);let m,b,v,y,_=n,x=o,w=!1;if(function e(n,o){const l=n.childNodes;for(let s,r,h=0,C=l.length;h<C;h++){const n=l[h];if(!n)continue;let C=o;if(w&&!a.isBreak(n)){if(1===n.nodeType){if(a._isIgnoreNodeChange(n)){if(t=t.cloneNode(!1),r=n.cloneNode(!0),g.appendChild(r),g.appendChild(t),f.push(t),d&&n.contains(d)){const e=a.getNodePath(d,n);d=a.getNodeFromPath(e,r)}}else e(n,n);continue}b=n,m=[];const l=[];for(;null!==b.parentNode&&b!==p&&b!==t;)s=i(b),1===b.nodeType&&s&&(u(b)?y||l.push(s):m.push(s)),b=b.parentNode;m=m.concat(l);const h=m.length>0,_=m.pop()||n;for(v=b=_;m.length>0;)b=m.pop(),v.appendChild(b),v=b;if(u(t.parentNode)&&!u(_)&&(t=t.cloneNode(!1),g.appendChild(t),f.push(t)),!y&&u(_)){t=t.cloneNode(!1);const e=_.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);_.appendChild(t),g.appendChild(_),o=u(b)?t:b,f.push(t)}else h?(t.appendChild(_),o=b):o=t;if(y&&3===n.nodeType)if(c(n)){const e=a.getParentElement(o,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===g}.bind(a));y.appendChild(e),t=e.cloneNode(!1),f.push(t),g.appendChild(t)}else y=null}if(w||n!==_)s=w?i(n):n.cloneNode(!1),s&&(o.appendChild(s),1!==n.nodeType||a.isBreak(n)||(C=s)),e(n,C);else{let e=g;y=c(n);const l=a.createTextNode(1===_.nodeType?"":_.substringData(0,x)),r=a.createTextNode(1===_.nodeType?"":_.substringData(x,_.length-x));if(y){const t=c(o);if(t&&t.parentNode!==e){let i=t,n=null;for(;i.parentNode!==e;){for(o=n=i.parentNode.cloneNode(!1);i.childNodes[0];)n.appendChild(i.childNodes[0]);i.appendChild(n),i=i.parentNode}i.parentNode.appendChild(t)}y=y.cloneNode(!1)}a.onlyZeroWidthSpace(l)||o.appendChild(l);const u=c(o);for(u&&(y=u),y&&(e=y),b=o,m=[];b!==e&&null!==b;)s=i(b),1===b.nodeType&&s&&m.push(s),b=b.parentNode;const d=m.pop()||o;for(v=b=d;m.length>0;)b=m.pop(),v.appendChild(b),v=b;d!==o?(t.appendChild(d),o=b):o=t,a.isBreak(n)&&t.appendChild(n.cloneNode(!1)),e.appendChild(t),_=r,x=0,w=!0,o.appendChild(_)}}}(e,g),s&&!l&&!r.v)return{ancestor:e,container:n,offset:o,endContainer:d};if(l=l&&s)for(let C=0;C<f.length;C++){let e=f[C];const t=e.childNodes,i=t[0];for(;t[0];)g.insertBefore(t[0],e);a.removeItem(e),0===C&&(_=i)}else if(s)for(let a=0;a<f.length;a++)this._stripRemoveNode(f[a]);if(l||0!==g.childNodes.length){a.removeEmptyNode(g,t),a.onlyZeroWidthSpace(g.textContent)&&(_=g.firstChild,x=0);const i={s:0,e:0},n=a.getNodePath(_,g,i);x+=i.s;const o=a.mergeSameTags(g,[n],!0);e.parentNode.replaceChild(g,e),_=a.getNodeFromPath(n,g),x+=o[0]}else e.childNodes?_=e.childNodes[0]:(_=a.createTextNode(a.zeroWidthSpace),e.appendChild(_));return{ancestor:g,container:_,offset:x,endContainer:d}},_nodeChange_middleLine:function(e,t,i,n,o,l,s){if(!o){let i=null;s&&e.contains(s)&&(i=a.getNodePath(s,e));const n=e.cloneNode(!0),o=t.nodeName,l=t.style.cssText,r=t.className;let c,u=n.childNodes,d=0,h=u.length;for(;d<h&&(c=u[d],3!==c.nodeType);d++){if(c.nodeName!==o){if(!a.isBreak(c)&&a._isIgnoreNodeChange(c))continue;if(1===h){u=c.childNodes,h=u.length,d=-1;continue}break}c.style.cssText+=l,a.addClass(c,r)}if(h>0&&d===h)return e.innerHTML=n.innerHTML,{ancestor:e,endContainer:i?a.getNodeFromPath(i,e):null}}l.v=!1;const r=e.cloneNode(!1),c=[t];let u=!0;if(function e(n,o){const l=n.childNodes;for(let d,h,p=0,f=l.length;p<f;p++){let n=l[p];if(!n)continue;let f=o;if(a.isBreak(n)||!a._isIgnoreNodeChange(n))d=i(n),d&&(u=!1,o.appendChild(d),1===n.nodeType&&(f=d)),a.isBreak(n)||e(n,f);else if(t.childNodes.length>0&&(r.appendChild(t),t=t.cloneNode(!1)),h=n.cloneNode(!0),r.appendChild(h),r.appendChild(t),c.push(t),o=t,s&&n.contains(s)){const e=a.getNodePath(s,n);s=a.getNodeFromPath(e,h)}}}(e,t),u||o&&!n&&!l.v)return{ancestor:e,endContainer:s};if(r.appendChild(t),n&&o)for(let d=0;d<c.length;d++){let e=c[d];const t=e.childNodes;for(;t[0];)r.insertBefore(t[0],e);a.removeItem(e)}else if(o)for(let a=0;a<c.length;a++)this._stripRemoveNode(c[a]);return a.removeEmptyNode(r,t),a.mergeSameTags(r,null,!0),e.parentNode.replaceChild(r,e),{ancestor:r,endContainer:s}},_nodeChange_endLine:function(e,t,i,n,o,l,s,r,c,u){let d=n.parentNode;for(;!d.nextSibling&&!d.previousSibling&&!a.isFormatElement(d.parentNode)&&!a.isWysiwygDiv(d.parentNode)&&d.nodeName!==t.nodeName;)d=d.parentNode;if(!s&&d.nodeName===t.nodeName&&!a.isFormatElement(d)&&!d.previousSibling&&a.onlyZeroWidthSpace(n.textContent.slice(o))){let i=!0,l=n.nextSibling;for(;l;){if(!a.onlyZeroWidthSpace(l)){i=!1;break}l=l.nextSibling}if(i)return a.copyTagAttributes(d,t),{ancestor:e,container:n,offset:o}}r.v=!1;const h=e,p=[t],f=e.cloneNode(!1);let g,m,b,v,y=n,_=o,x=!1;if(function e(n,o){const l=n.childNodes;for(let s,r=l.length-1;0<=r;r--){const n=l[r];if(!n)continue;let d=o;if(x&&!a.isBreak(n)){if(1===n.nodeType){if(a._isIgnoreNodeChange(n)){t=t.cloneNode(!1);const e=n.cloneNode(!0);f.insertBefore(e,o),f.insertBefore(t,e),p.push(t)}else e(n,n);continue}m=n,g=[];const l=[];for(;null!==m.parentNode&&m!==h&&m!==t;)s=i(m),s&&1===m.nodeType&&(u(m)?v||l.push(s):g.push(s)),m=m.parentNode;g=g.concat(l);const r=g.length>0,d=g.pop()||n;for(b=m=d;g.length>0;)m=g.pop(),b.appendChild(m),b=m;if(u(t.parentNode)&&!u(d)&&(t=t.cloneNode(!1),f.insertBefore(t,f.firstChild),p.push(t)),!v&&u(d)){t=t.cloneNode(!1);const e=d.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);d.appendChild(t),f.insertBefore(d,f.firstChild),p.push(t),o=t.children.length>0?m:t}else r?(t.insertBefore(d,t.firstChild),o=m):o=t;if(v&&3===n.nodeType)if(c(n)){const e=a.getParentElement(o,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===f}.bind(a));v.appendChild(e),t=e.cloneNode(!1),p.push(t),f.insertBefore(t,f.firstChild)}else v=null}if(x||n!==y)s=x?i(n):n.cloneNode(!1),s&&(o.insertBefore(s,o.firstChild),1!==n.nodeType||a.isBreak(n)||(d=s)),e(n,d);else{v=c(n);const e=a.createTextNode(1===y.nodeType?"":y.substringData(_,y.length-_)),l=a.createTextNode(1===y.nodeType?"":y.substringData(0,_));if(v){v=v.cloneNode(!1);const e=c(o);if(e&&e.parentNode!==f){let t=e,i=null;for(;t.parentNode!==f;){for(o=i=t.parentNode.cloneNode(!1);t.childNodes[0];)i.appendChild(t.childNodes[0]);t.appendChild(i),t=t.parentNode}t.parentNode.insertBefore(e,t.parentNode.firstChild)}v=v.cloneNode(!1)}else u(t.parentNode)&&!v&&(t=t.cloneNode(!1),f.appendChild(t),p.push(t));for(a.onlyZeroWidthSpace(e)||o.insertBefore(e,o.firstChild),m=o,g=[];m!==f&&null!==m;)s=u(m)?null:i(m),s&&1===m.nodeType&&g.push(s),m=m.parentNode;const r=g.pop()||o;for(b=m=r;g.length>0;)m=g.pop(),b.appendChild(m),b=m;r!==o?(t.insertBefore(r,t.firstChild),o=m):o=t,a.isBreak(n)&&t.appendChild(n.cloneNode(!1)),v?(v.insertBefore(t,v.firstChild),f.insertBefore(v,f.firstChild),v=null):f.insertBefore(t,f.firstChild),y=l,_=l.data.length,x=!0,o.insertBefore(y,o.firstChild)}}}(e,f),s&&!l&&!r.v)return{ancestor:e,container:n,offset:o};if(l=l&&s)for(let w=0;w<p.length;w++){let e=p[w];const t=e.childNodes;let i=null;for(;t[0];)i=t[0],f.insertBefore(i,e);a.removeItem(e),w===p.length-1&&(y=i,_=i.textContent.length)}else if(s)for(let a=0;a<p.length;a++)this._stripRemoveNode(p[a]);if(l||0!==f.childNodes.length){if(!s&&0===t.textContent.length)return a.removeEmptyNode(f,null),{ancestor:null,container:null,offset:0};a.removeEmptyNode(f,t),a.onlyZeroWidthSpace(f.textContent)?(y=f.firstChild,_=y.textContent.length):a.onlyZeroWidthSpace(y)&&(y=t,_=1);const i={s:0,e:0},n=a.getNodePath(y,f,i);_+=i.s;const o=a.mergeSameTags(f,[n],!0);e.parentNode.replaceChild(f,e),y=a.getNodeFromPath(n,f),_+=o[0]}else e.childNodes?y=e.childNodes[0]:(y=a.createTextNode(a.zeroWidthSpace),e.appendChild(y));return{ancestor:f,container:y,offset:_}},actionCall:function(t,i,n){if(i){if(/more/i.test(i)&&n!==this._moreLayerActiveButton){const i=e.element.toolbar.querySelector("."+t);return void(i&&(this._moreLayerActiveButton&&(e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command")).style.display="none",a.removeClass(this._moreLayerActiveButton,"on")),a.addClass(n,"on"),this._moreLayerActiveButton=n,i.style.display="block",d._showToolbarBalloon(),d._showToolbarInline()))}if(/submenu/.test(i)&&(null===this._menuTray[t]||n!==this.submenuActiveButton))return void this.callPlugin(t,this.submenuOn.bind(this,n),n);if(/dialog/.test(i))return void this.callPlugin(t,this.plugins[t].open.bind(this),n);if(/command/.test(i))this.callPlugin(t,this.plugins[t].action.bind(this),n);else{if(/container/.test(i)&&(null===this._menuTray[t]||n!==this.containerActiveButton))return void this.callPlugin(t,this.containerOn.bind(this,n),n);/fileBrowser/.test(i)&&this.callPlugin(t,this.plugins[t].open.bind(this,null),n)}}else t&&this.commandHandler(n,t);if(/more/i.test(i)){const t=e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));t&&(a.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null,t.style.display="none",d._showToolbarBalloon(),d._showToolbarInline())}else/submenu/.test(i)?this.submenuOff():(this.submenuOff(),this.containerOff())},commandHandler:function(t,i){switch(i){case"selectAll":const n=e.element.wysiwyg,l=a.getChildElement(n.firstChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1)||n.firstChild,s=a.getChildElement(n.lastChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0)||n.lastChild;if(!l||!s)return;this.setRange(l,0,s,s.textContent.length);break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(t);break;case"indent":case"outdent":this.indent(i);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"save":if("function"===typeof o.callBackSave)o.callBackSave(this.getContents(!1));else{if("function"!==typeof h.save)throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");h.save()}e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:i=this._defaultCommand[i.toLowerCase()]||i,this.commandMap[i]||(this.commandMap[i]=t);const r=this._variable.currentNodesMap,c=r.indexOf(i)>-1?null:a.createElement(i);let u=i;/^SUB$/i.test(i)&&r.indexOf("SUP")>-1?u="SUP":/^SUP$/i.test(i)&&r.indexOf("SUB")>-1&&(u="SUB"),this.nodeChange(c,null,[u],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(e){const t=this.getRange(),i=this.getSelectedElements(null),n=[],o="indent"!==e;let l=t.startContainer,s=t.endContainer,r=t.startOffset,c=t.endOffset;for(let u,d,h=0,p=i.length;h<p;h++)u=i[h],a.isListCell(u)&&this.plugins.list?(o||u.previousElementSibling)&&n.push(u):(d=/\d+/.test(u.style.marginLeft)?a.getNumber(u.style.marginLeft,0):0,o?d-=25:d+=25,a.setStyle(u,"marginLeft",d<=0?"":d+"px"));n.length>0&&this.plugins.list.editInsideList.call(this,o,n),this.effectNode=null,this.setRange(l,r,s,c),this.history.push(!1)},toggleDisplayBlocks:function(){const t=e.element.wysiwyg;a.toggleClass(t,"se-show-block"),a.hasClass(t,"se-show-block")?a.addClass(this._styleCommandMap.showBlocks,"active"):a.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const t=this._variable.isCodeView;this.controllersOff(),a.setDisabledButtons(!t,this.codeViewDisabledButtons),t?(this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),"auto"!==o.height||o.codeMirrorEditor||(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(o.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,d._hideToolbar())),this.nativeFocus(),a.removeClass(this._styleCommandMap.codeView,"active"),this.history.push(!1)):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),"auto"!==o.height||o.codeMirrorEditor||(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),o.codeMirrorEditor&&o.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,d._showToolbarInline())),this._variable._range=null,e.element.code.focus(),a.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),"function"===typeof h.toggleCodeView&&h.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const t=this._getCodeView();if(o.fullPage){const e=this._parser.parseFromString(t,"text/html"),i=e.head.children;for(let t=0,o=i.length;t<o;t++)/script/i.test(i[t].tagName)&&(e.head.removeChild(i[t]),t--,o--);this._wd.head.innerHTML=e.head.innerHTML,this._wd.body.innerHTML=this.convertContentsForEditor(e.body.innerHTML);const n=e.body.attributes;for(let t=0,o=n.length;t<o;t++)"contenteditable"!==n[t].name&&this._wd.body.setAttribute(n[t].name,n[t].value);a.hasClass(this._wd.body,"sun-editor-editable")||a.addClass(this._wd.body,"sun-editor-editable")}else e.element.wysiwyg.innerHTML=t.length>0?this.convertContentsForEditor(t):"<p><br></p>"},_setEditorDataToCodeView:function(){const t=this.convertHTMLForCodeView(e.element.wysiwyg);let i="";if(o.fullPage){const e=a.getAttributesToString(this._wd.body,null);i="<!DOCTYPE html>\n<html>\n"+this._wd.head.outerHTML.replace(/>(?!\n)/g,">\n")+"<body "+e+">\n"+t+"</body>\n</html>"}else i=t;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(i)},toggleFullScreen:function(t){const i=e.element.topArea,n=e.element.toolbar,l=e.element.editorArea,u=e.element.wysiwygFrame,p=e.element.code,f=this._variable;this.controllersOff(),f.isFullScreen?(f.isFullScreen=!1,u.style.cssText=f._wysiwygOriginCssText,p.style.cssText=f._codeOriginCssText,n.style.cssText="",l.style.cssText=f._editorAreaOriginCssText,i.style.cssText=f._originCssText,s.body.style.overflow=f._bodyOverflow,o.toolbarContainer&&o.toolbarContainer.appendChild(n),o.stickyToolbar>-1&&a.removeClass(n,"se-toolbar-sticky"),f._fullScreenAttrs.sticky&&!o.toolbarContainer&&(f._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",a.addClass(n,"se-toolbar-sticky")),this._isInline=f._fullScreenAttrs.inline,this._isBalloon=f._fullScreenAttrs.balloon,this._isInline&&d._showToolbarInline(),o.toolbarContainer&&a.removeClass(n,"se-toolbar-balloon"),d.onScroll_window(),a.changeElement(t.firstElementChild,c.expansion),a.removeClass(this._styleCommandMap.fullScreen,"active")):(f.isFullScreen=!0,f._fullScreenAttrs.inline=this._isInline,f._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),o.toolbarContainer&&e.element.relative.insertBefore(n,l),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.maxWidth="100%",i.style.height="100%",i.style.zIndex="2147483647",""!==e.element._stickyDummy.style.display&&(f._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",a.removeClass(n,"se-toolbar-sticky")),f._bodyOverflow=s.body.style.overflow,s.body.style.overflow="hidden",f._editorAreaOriginCssText=l.style.cssText,f._wysiwygOriginCssText=u.style.cssText,f._codeOriginCssText=p.style.cssText,l.style.cssText=n.style.cssText="",u.style.cssText=(u.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],p.style.cssText=(p.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],n.style.width=u.style.height=p.style.height="100%",n.style.position="relative",n.style.display="block",f.innerHeight_fullScreen=r.innerHeight-n.offsetHeight,l.style.height=f.innerHeight_fullScreen+"px",a.changeElement(t.firstElementChild,c.reduction),o.iframe&&"auto"===o.height&&(l.style.overflow="auto",this._iframeAutoHeight()),a.addClass(this._styleCommandMap.fullScreen,"active")),"function"===typeof h.toggleFullScreen&&h.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const e=a.createElement("IFRAME");e.style.display="none",s.body.appendChild(e);const t=a.getIframeDocument(e),i=this.getContents(!0),n=this._wd;if(o.iframe){const e=o.fullPage?a.getAttributesToString(n.body,["contenteditable"]):'class="sun-editor-editable"';t.write("<!DOCTYPE html><html><head>"+n.head.innerHTML+"</head><body "+e+">"+i+"</body></html>")}else{const e=s.head.getElementsByTagName("link"),n=s.head.getElementsByTagName("style");let o="";for(let t=0,i=e.length;t<i;t++)o+=e[t].outerHTML;for(let t=0,i=n.length;t<i;t++)o+=n[t].outerHTML;t.write("<!DOCTYPE html><html><head>"+o+'</head><body class="sun-editor-editable">'+i+"</body></html>")}this.showLoading(),r.setTimeout((function(){try{if(e.focus(),a.isIE_Edge||s.documentMode||r.StyleMedia)try{e.contentWindow.document.execCommand("print",!1,null)}catch(t){e.contentWindow.print()}else e.contentWindow.print()}catch(i){throw Error("[SUNEDITOR.core.print.fail] error: "+i)}finally{u.closeLoading(),a.removeItem(e)}}),1e3)},preview:function(){u.submenuOff(),u.containerOff(),u.controllersOff();const t=this.getContents(!0),i=r.open("","_blank");i.mimeType="text/html";const l=e.element.wysiwygFrame.offsetWidth+"px !important",c=this._wd;if(o.iframe){const e=o.fullPage?a.getAttributesToString(c.body,["contenteditable"]):'class="sun-editor-editable"';i.document.write("<!DOCTYPE html><html><head>"+c.head.innerHTML+"<style>body {overflow:auto !important; width:"+l+"; border:1px solid #ccc; margin: 10px auto !important; height:auto !important;}</style></head><body "+e+">"+t+"</body></html>")}else{const e=s.head.getElementsByTagName("link"),o=s.head.getElementsByTagName("style");let r="";for(let t=0,i=e.length;t<i;t++)r+=e[t].outerHTML;for(let t=0,i=o.length;t<i;t++)r+=o[t].outerHTML;i.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1"><title>'+n.toolbar.preview+"</title>"+r+'</head><body class="sun-editor-editable" style="width:'+l+'; border:1px solid #ccc; margin:10px auto !important; height:auto !important;">'+t+"</body></html>")}},setContents:function(t){const i=this.convertContentsForEditor(t);if(this._resetComponents(),this._variable.isCodeView){const e=this.convertHTMLForCodeView(i);this._setCodeView(e)}else e.element.wysiwyg.innerHTML=i,this.history.push(!1)},getContents:function(t){const i=e.element.wysiwyg.innerHTML,n=a.createElement("DIV");n.innerHTML=i;const l=a.getListChildren(n,(function(e){return/FIGCAPTION/i.test(e.nodeName)}));for(let e=0,o=l.length;e<o;e++)l[e].removeAttribute("contenteditable");if(o.fullPage&&!t){const e=a.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+e+">"+n.innerHTML+"</body></html>"}return n.innerHTML},_makeLine:function(e,t){if(1===e.nodeType)return a._disallowedTags(e)?"":!t||a.isFormatElement(e)||a.isRangeFormatElement(e)||a.isComponent(e)||a.isMedia(e)||a.isAnchor(e)&&a.isMedia(e.firstElementChild)?e.outerHTML:"<p>"+e.outerHTML+"</p>";if(3===e.nodeType){if(!t)return e.textContent;const i=e.textContent.split(/\n/g);let n="";for(let e,t=0,o=i.length;t<o;t++)e=i[t].trim(),e.length>0&&(n+="<p>"+e+"</p>");return n}return 8===e.nodeType&&this._allowHTMLComments?"\x3c!--"+e.textContent.trim()+"--\x3e":""},_tagConvertor:function(e){if(!this._disallowedTextTagsRegExp)return e;const t={b:"strong",i:"em",ins:"u",strike:"del",s:"del"};return e.replace(this._disallowedTextTagsRegExp,(function(e,i,n){return i+("string"===typeof t[n]?t[n]:n)}))},_deleteDisallowedTags:function(e){return e.replace(/\n/g,"").replace(/<(script|style).*>(\n|.)*<\/(script|style)>/gi,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,"").replace(this.editorTagsWhitelistRegExp,"")},cleanHTML:function(e,t){e=this._deleteDisallowedTags(e).replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g,function(e,t){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(e))return e;let i=null;const n=this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];if(i=n?e.match(n):e.match(this._attributesWhitelistRegExp),/<span/i.test(t)&&(!i||!/style=/i.test(i.toString()))){const t=e.match(/style\s*=\s*"[^"]*"/);t&&(i||(i=[]),i.push(t[0]))}if(i)for(let o=0,l=i.length;o<l;o++)/^class="(?!(__se__|se-|katex))/.test(i[o])||(t+=" "+i[o]);return t}.bind(this));const i=s.createRange().createContextualFragment(e);try{a._consistencyCheckOfHTML(i,this._htmlCheckWhitelistRegExp)}catch(r){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+r)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const e=i.querySelectorAll(this.managedTagsInfo.query);for(let t,i,n=0,o=e.length;n<o;n++){i=[].slice.call(e[n].classList);for(let o=0,l=i.length;o<l;o++)if(t=this.managedTagsInfo.map[i[o]],t){t(e[n]);break}}}const n=i.childNodes;let o="",l=!1;for(let s,c=0,u=n.length;c<u;c++)if(s=n[c],1===s.nodeType&&!a.isTextStyleElement(s)&&!a.isBreak(s)&&!a._disallowedTags(s)){l=!0;break}for(let s=0,a=n.length;s<a;s++)o+=this._makeLine(n[s],l);return o=a.htmlRemoveWhiteSpace(o),this._tagConvertor(o?t?o.replace("string"===typeof t?a.createTagsWhitelist(t):t,""):o:e)},convertContentsForEditor:function(e){const t=s.createRange().createContextualFragment(this._deleteDisallowedTags(e));try{a._consistencyCheckOfHTML(t,this._htmlCheckWhitelistRegExp)}catch(o){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+o)}const i=t.childNodes;let n="";for(let l=0,s=i.length;l<s;l++)n+=this._makeLine(i[l],!0);return 0===n.length?"<p><br></p>":(n=a.htmlRemoveWhiteSpace(n),this._tagConvertor(n))},convertHTMLForCodeView:function(e){let t="";const i=r.RegExp,n=new i("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),o=a.isFormatElement.bind(a),l="string"===typeof e?s.createRange().createContextualFragment(e):e;let c=1*this._variable.codeIndent;return c=c>0?new r.Array(c+1).join(" "):"",function e(l,s,r){const u=l.childNodes,d=n.test(l.nodeName),h=d?s:"";for(let p,f,g,m=0,b=u.length;m<b;m++){if(p=u[m],g=n.test(p.nodeName),f=g?"\n":"",r=!o(p)||d||/^(TH|TD)$/i.test(l.nodeName)?"":"\n",8===p.nodeType){t+="\n\x3c!-- "+p.textContent.trim()+" --\x3e"+f;continue}if(3===p.nodeType){t+=a._HTMLConvertor(/^\n+$/.test(p.data)?"":p.data);continue}if(0===p.childNodes.length){t+=(/^HR$/i.test(p.nodeName)?"\n":"")+h+p.outerHTML+f;continue}p.innerHTML=p.innerHTML;const b=p.nodeName.toLowerCase();t+=(r||(d?"":f))+(h||g?s:"")+p.outerHTML.match(i("<"+b+"[^>]*>","i"))[0]+f,e(p,s+c,""),t+=(g?s:"")+"</"+b+">"+(r||f||d||/^(TH|TD)$/i.test(p.nodeName)?"\n":"")}}(l,"","\n"),t.trim()+"\n"},addDocEvent:function(e,t,i){s.addEventListener(e,t,i),o.iframe&&this._wd.addEventListener(e,t)},removeDocEvent:function(e,t){s.removeEventListener(e,t),o.iframe&&this._wd.removeEventListener(e,t)},_charCount:function(e){const t=o.maxCharCount,i=o.charCounterType;let n=0;if(e&&(n=this.getCharLength(e,i)),this._setCharCount(),t>0){let e=!1;const o=h.getCharCount(i);if(o>t){if(e=!0,n>0){this._editorRange();const e=this.getRange(),i=e.endOffset-1,n=this.getSelectionNode().textContent,l=e.endOffset-(o-t);this.getSelectionNode().textContent=n.slice(0,l<0?0:l)+n.slice(e.endOffset,n.length),this.setRange(e.endContainer,i,e.endContainer,i)}}else o+n>t&&(e=!0);if(e&&(this._callCounterBlink(),n>0))return!1}return!0},checkCharCount:function(e,t){if(o.maxCharCount){const i=t||o.charCounterType,n=this.getCharLength("string"===typeof e?e:this._charTypeHTML?e.outerHTML:e.textContent,i);if(n>0&&n+h.getCharCount(i)>o.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(e,t){return/byte/.test(t)?a.getByteLength(e):e.length},_setCharCount:function(){e.element.charCounter&&r.setTimeout((function(){e.element.charCounter.textContent=h.getCharCount(o.charCounterType)}))},_callCounterBlink:function(){const t=e.element.charWrapper;t&&!a.hasClass(t,"se-blink")&&(a.addClass(t,"se-blink"),r.setTimeout((function(){a.removeClass(t,"se-blink")}),600))},_checkComponents:function(){for(let e=0,t=this._fileInfoPluginsCheck.length;e<t;e++)this._fileInfoPluginsCheck[e]()},_resetComponents:function(){for(let e=0,t=this._fileInfoPluginsReset.length;e<t;e++)this._fileInfoPluginsReset[e]()},_setCodeView:function(t){o.codeMirrorEditor?o.codeMirrorEditor.getDoc().setValue(t):e.element.code.value=t},_getCodeView:function(){return o.codeMirrorEditor?o.codeMirrorEditor.getDoc().getValue():e.element.code.value},_init:function(n,l){const c=r.RegExp;if(this._ww=o.iframe?e.element.wysiwygFrame.contentWindow:r,this._wd=s,this._charTypeHTML="byte-html"===o.charCounterType,!o.iframe&&"function"===typeof r.ShadowRoot){let t=e.element.wysiwygFrame;for(;t;){if(t.shadowRoot){this._shadowRoot=t.shadowRoot;break}if(t instanceof r.ShadowRoot){this._shadowRoot=t;break}t=t.parentNode}}const u=["b","i","ins","s","strike"],d=o.addTagsWhitelist?o.addTagsWhitelist.split("|").filter((function(e){return/b|i|ins|s|strike/i.test(e)})):[];for(let e=0;e<d.length;e++)u.splice(u.indexOf(d[e].toLowerCase()),1);this._disallowedTextTagsRegExp=0===u.length?null:new c("(<\\/?)("+u.join("|")+")\\b\\s*(?:[^>^<]+)?\\s*(?=>)","gi");const h="contenteditable|colspan|rowspan|target|href|src|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size";this._allowHTMLComments=o._editorTagsWhitelist.indexOf("//")>-1,this._htmlCheckWhitelistRegExp=new c("^("+o._editorTagsWhitelist.replace("|//","")+")$","i"),this.editorTagsWhitelistRegExp=a.createTagsWhitelist(o._editorTagsWhitelist.replace("|//","|\x3c!--|--\x3e")),this.pasteTagsWhitelistRegExp=a.createTagsWhitelist(o.pasteTagsWhitelist);const p=o.attributesWhitelist,f={};let g="";if(p)for(let e in p)a.hasOwn(p,e)&&("all"===e?g=p[e]+"|":f[e]=new c("((?:"+p[e]+"|"+h+')s*=s*"[^"]*")',"ig"));this._attributesWhitelistRegExp=new c("((?:"+g+h+')s*=s*"[^"]*")',"ig"),this._attributesTagsWhitelist=f,this._isInline=/inline/i.test(o.mode),this._isBalloon=/balloon|balloon-always/i.test(o.mode),this._isBalloonAlways=/balloon-always/i.test(o.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const m=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let v,y,_=[];for(let e in i)if(a.hasOwn(i,e)){if(v=i[e],y=t[e],v.active&&y&&this.callPlugin(e,null,y),"function"===typeof v.checkFileInfo&&"function"===typeof v.resetFileInfo&&(this.callPlugin(e,null,y),this._fileInfoPluginsCheck.push(v.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(v.resetFileInfo.bind(this))),r.Array.isArray(v.fileTags)){const t=v.fileTags;this.callPlugin(e,null,y),this._fileManager.tags=this._fileManager.tags.concat(t),_.push(e);for(let i=0,n=t.length;i<n;i++)this._fileManager.pluginMap[t[i].toLowerCase()]=e}if(v.managedTags){const e=v.managedTags();m.push("."+e.className),this.managedTagsInfo.map[e.className]=e.method.bind(this)}}this.managedTagsInfo.query=m.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new c("^("+this._fileManager.tags.join("|")+")$","i"),this._fileManager.pluginRegExp=new c("^("+(0===_.length?"undefined":_.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=function(e,t){const i=e._w,n=e.util,o=e.context.options.historyStackDelayTime;let l=e.context.element,s=e.context.tool.undo,r=e.context.tool.redo,a=null,c=0,u=[];function d(){const i=u[c];l.wysiwyg.innerHTML=i.contents,e.setRange(n.getNodeFromPath(i.s.path,l.wysiwyg),i.s.offset,n.getNodeFromPath(i.e.path,l.wysiwyg),i.e.offset),e.focus(),0===c?(s&&s.setAttribute("disabled",!0),r&&r.removeAttribute("disabled")):c===u.length-1?(s&&s.removeAttribute("disabled"),r&&r.setAttribute("disabled",!0)):(s&&s.removeAttribute("disabled"),r&&r.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function h(){e._checkComponents();const i=e.getContents(!0);if(u[c]&&i===u[c].contents)return;c++;const o=e._variable._range;u.length>c&&(u=u.slice(0,c),r&&r.setAttribute("disabled",!0)),u[c]=o?{contents:i,s:{path:n.getNodePath(o.startContainer,null,null),offset:o.startOffset},e:{path:n.getNodePath(o.endContainer,null,null),offset:o.endOffset}}:{contents:i,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},1===c&&s&&s.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:u,push:function(t){i.setTimeout(e._resourcesStateChange.bind(e));const n="number"===typeof t?t>0?t:0:t?o:0;n&&!a||(i.clearTimeout(a),n)?a=i.setTimeout((function(){i.clearTimeout(a),a=null,h()}),n):h()},undo:function(){c>0&&(c--,d())},redo:function(){u.length-1>c&&(c++,d())},go:function(e){c=e<0?u.length-1:e,d()},reset:function(i){s&&s.setAttribute("disabled",!0),r&&r.setAttribute("disabled",!0),e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),u.splice(0),c=0,u[c]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},i||t()},_resetCachingButton:function(){l=e.context.element,s=e.context.tool.undo,r=e.context.tool.redo,0===c?(s&&s.setAttribute("disabled",!0),r&&c===u.length-1&&r.setAttribute("disabled",!0),e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):c===u.length-1&&r&&r.setAttribute("disabled",!0)},_destroy:function(){a&&i.clearTimeout(a),u=null}}}(this,this._onChange_historyStack.bind(this)),this.addModule([b]),o.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,o._editorStyles.editor&&(e.element.wysiwyg.style.cssText=o._editorStyles.editor),"auto"===o.height&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(n,l)},_cachingButtons:function(){this.codeViewDisabledButtons=e.element.toolbar.querySelectorAll('.se-toolbar button:not([class~="se-code-view-enabled"])'),this.resizingDisabledButtons=e.element.toolbar.querySelectorAll('.se-toolbar button:not([class~="se-resizing-enabled"])');const t=e.tool;this.commandMap={STRONG:t.bold,U:t.underline,EM:t.italic,DEL:t.strike,SUB:t.subscript,SUP:t.superscript,OUTDENT:t.outdent,INDENT:t.indent},this._styleCommandMap={fullScreen:t.fullScreen,showBlocks:t.showBlocks,codeView:t.codeView}},_initWysiwygArea:function(t,i){e.element.wysiwyg.innerHTML=t?i:this.convertContentsForEditor("string"===typeof i?i:e.element.originElement.value)},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){d._applyTagEffects(),e.tool.save&&e.tool.save.removeAttribute("disabled"),h.onChange&&h.onChange(this.getContents(!0),this)},_iframeAutoHeight:function(){this._iframeAuto&&r.setTimeout((function(){e.element.wysiwygFrame.style.height=u._iframeAuto.offsetHeight+"px"}))},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView)return void(this._placeholder.style.display="none");const t=e.element.wysiwyg;!a.onlyZeroWidthSpace(t.textContent)||t.querySelector(".se-component, pre, blockquote, hr, li, table, img, iframe, video")||(t.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(e){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const t=this.getRange(),i=t.commonAncestorContainer,n=t.startContainer,o=a.getRangeFormatElement(i,null);let l,s,r;const c=a.getParentElement(i,a.isComponent);if((!c||a.isTable(c))&&(!a.isRangeFormatElement(n)&&!a.isWysiwygDiv(n)||!a.isComponent(n.childNodes[t.startOffset]))){if(o)return r=a.createElement(e||"P"),r.innerHTML=o.innerHTML,0===r.childNodes.length&&(r.innerHTML=a.zeroWidthSpace),o.innerHTML=r.outerHTML,r=o.firstChild,l=a.getEdgeChildNodes(r,null).sc,l||(l=a.createTextNode(a.zeroWidthSpace),r.insertBefore(l,r.firstChild)),s=l.textContent.length,void this.setRange(l,s,l,s);if(a.isRangeFormatElement(i)&&i.childNodes.length<=1){let e=null;return 1===i.childNodes.length&&a.isBreak(i.firstChild)?e=i.firstChild:(e=a.createTextNode(a.zeroWidthSpace),i.appendChild(e)),void this.setRange(e,1,e,1)}if(this.execCommand("formatBlock",!1,e||"P"),l=a.getEdgeChildNodes(i,i),l=l?l.ec:i,r=a.getFormatElement(l,null),!r)return this.removeRange(),void this._editorRange();if(a.isBreak(r.nextSibling)&&a.removeItem(r.nextSibling),a.isBreak(r.previousSibling)&&a.removeItem(r.previousSibling),a.isBreak(l)){const e=a.createTextNode(a.zeroWidthSpace);l.parentNode.insertBefore(e,l),l=e}this.effectNode=null,this.nativeFocus()}},_setOptionsInit:function(t,i){this.context=e=m(t.originElement,this._getConstructed(t),o),this._componentsInfoReset=!0,this._editorInit(!0,i)},_editorInit:function(t,i){this._init(t,i),d._addEvent(),this._setCharCount(),d._offStickyToolbar(),d.onResize_window(),e.element.toolbar.style.visibility="",this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),this._resourcesStateChange(),r.setTimeout((function(){"function"===typeof h.onload&&h.onload(u,t)}))},_getConstructed:function(e){return{_top:e.topArea,_relative:e.relative,_toolBar:e.toolbar,_menuTray:e._menuTray,_editorArea:e.editorArea,_wysiwygArea:e.wysiwygFrame,_codeArea:e.code,_placeholder:e.placeholder,_resizingBar:e.resizingBar,_navigation:e.navigation,_charCounter:e.charCounter,_charWrapper:e.charWrapper,_loading:e.loading,_lineBreaker:e.lineBreaker,_lineBreaker_t:e.lineBreaker_t,_lineBreaker_b:e.lineBreaker_b,_resizeBack:e.resizeBackground,_stickyDummy:e._stickyDummy,_arrow:e._arrow}}},d={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_directionKeyCode:new r.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new r.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new r.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new r.RegExp("^(STRONG|U|EM|DEL|SUB|SUP)$"),_frontZeroWidthReg:new r.RegExp(a.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(e,t){let i=null;switch(d._keyCodeShortcut[e]){case"A":i="selectAll";break;case"B":-1===o.shortcutsDisable.indexOf("bold")&&(i="STRONG");break;case"S":t&&-1===o.shortcutsDisable.indexOf("strike")&&(i="DEL");break;case"U":-1===o.shortcutsDisable.indexOf("underline")&&(i="U");break;case"I":-1===o.shortcutsDisable.indexOf("italic")&&(i="EM");break;case"Z":-1===o.shortcutsDisable.indexOf("undo")&&(i=t?"redo":"undo");break;case"Y":-1===o.shortcutsDisable.indexOf("undo")&&(i="redo");break;case"[":-1===o.shortcutsDisable.indexOf("indent")&&(i="outdent");break;case"]":-1===o.shortcutsDisable.indexOf("indent")&&(i="indent")}return!!i&&(u.commandHandler(u.commandMap[i],i),!0)},_applyTagEffects:function(){let t=u.getSelectionNode();if(t===u.effectNode)return;u.effectNode=t;const n=u.commandMap,l=this._onButtonsCheck,s=[],r=[],c=u.activePlugins,d=c.length;let h="";for(;t.firstChild;)t=t.firstChild;for(let e=t;!a.isWysiwygDiv(e)&&e;e=e.parentNode)if(1===e.nodeType&&!a.isBreak(e)){h=e.nodeName.toUpperCase(),r.push(h);for(let t,n=0;n<d;n++)t=c[n],-1===s.indexOf(t)&&i[t].active.call(u,e)&&s.push(t);a.isFormatElement(e)?(-1===s.indexOf("OUTDENT")&&n.OUTDENT&&(a.isListCell(e)||e.style.marginLeft&&a.getNumber(e.style.marginLeft,0)>0)&&(s.push("OUTDENT"),n.OUTDENT.removeAttribute("disabled")),-1===s.indexOf("INDENT")&&n.INDENT&&a.isListCell(e)&&!e.previousElementSibling&&(s.push("INDENT"),n.INDENT.setAttribute("disabled",!0))):l.test(h)&&(s.push(h),a.addClass(n[h],"active"))}for(let e in n)s.indexOf(e)>-1||!a.hasOwn(n,e)||(c.indexOf(e)>-1?i[e].active.call(u,null):n.OUTDENT&&/^OUTDENT$/i.test(e)?n.OUTDENT.setAttribute("disabled",!0):n.INDENT&&/^INDENT$/i.test(e)?n.INDENT.removeAttribute("disabled"):a.removeClass(n[e],"active"));u._variable.currentNodes=r.reverse(),u._variable.currentNodesMap=s,o.showPathLabel&&(e.element.navigation.textContent=u._variable.currentNodes.join(" > "))},_cancelCaptionEdit:function(){this.setAttribute("contenteditable",!1),this.removeEventListener("blur",d._cancelCaptionEdit)},_buttonsEventHandler:function(e){let t=e.target;if(u._bindControllersOff&&e.stopPropagation(),/^(input|textarea|select|option)$/i.test(t.nodeName)?u._antiBlur=!1:e.preventDefault(),a.getParentElement(t,".se-submenu"))e.stopPropagation(),u._notHideToolbar=!0;else{let i=t.getAttribute("data-command"),n=t.className;for(;!i&&!/se-menu-list/.test(n)&&!/sun-editor-common/.test(n);)t=t.parentNode,i=t.getAttribute("data-command"),n=t.className;i!==u._submenuName&&i!==u._containerName||e.stopPropagation()}},onClick_toolbar:function(e){let t=e.target,i=t.getAttribute("data-display"),n=t.getAttribute("data-command"),o=t.className;for(;t.parentNode&&!n&&!/se-menu-list/.test(o)&&!/se-toolbar/.test(o);)t=t.parentNode,n=t.getAttribute("data-command"),i=t.getAttribute("data-display"),o=t.className;(n||i)&&(t.disabled||(u.hasFocus||u.nativeFocus(),u._variable.isCodeView||u._editorRange(),u.actionCall(n,i,t)))},onMouseDown_wysiwyg:function(t){if(a.isNonEditable(e.element.wysiwyg))return;const i=a.getParentElement(t.target,a.isCell);if(i){const e=u.plugins.table;e&&i!==e._fixedCell&&!e._shift&&u.callPlugin("table",(function(){e.onTableCellMultiSelect.call(u,i,!1)}),null)}u._isBalloon&&d._hideToolbar(),/FIGURE/i.test(t.target.nodeName)&&t.preventDefault(),"function"===typeof h.onMouseDown&&h.onMouseDown(t,u)},onClick_wysiwyg:function(t){const i=t.target;if(a.isNonEditable(e.element.wysiwyg))return;const n=u.getFileComponent(i);if(n)return t.preventDefault(),void u.selectComponent(n.target,n.pluginName);const o=a.getParentElement(i,"FIGCAPTION");if(a.isNonEditable(o)&&(t.preventDefault(),o.setAttribute("contenteditable",!0),o.focus(),u._isInline&&!u._inlineToolbarAttr.isShow)){d._showToolbarInline();const e=function(){d._hideToolbar(),o.removeEventListener("blur",e)};o.addEventListener("blur",e)}r.setTimeout(u._editorRange.bind(u)),u._editorRange();const l=u.getSelectionNode(),s=a.getFormatElement(l,null),c=a.getRangeFormatElement(l,null);if(s&&s!==c||a.isNonEditable(i)||a.isList(c))d._applyTagEffects();else{const e=u.getRange();if(a.getFormatElement(e.startContainer)===a.getFormatElement(e.endContainer)){if(a.isList(c)){const e=a.createElement("LI"),t=l.nextElementSibling;e.appendChild(l),c.insertBefore(e,t)}else a.isWysiwygDiv(l)||a.isComponent(l)||a.isTable(l)&&!a.isCell(l)||u._setDefaultFormat(a.isRangeFormatElement(c)?"DIV":"P");t.preventDefault(),u.focus()}}u._isBalloon&&r.setTimeout(d._toggleToolbarBalloon),"function"===typeof h.onClick&&h.onClick(t,u)},_balloonDelay:null,_showToolbarBalloonDelay:function(){d._balloonDelay&&r.clearTimeout(d._balloonDelay),d._balloonDelay=r.setTimeout(function(){r.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}.bind(d),350)},_toggleToolbarBalloon:function(){u._editorRange();const e=u.getRange();u._bindControllersOff||!u._isBalloonAlways&&e.collapsed?d._hideToolbar():d._showToolbarBalloon(e)},_showToolbarBalloon:function(t){if(!u._isBalloon)return;const i=t||u.getRange(),n=e.element.toolbar,o=u.getSelection();let l;if(u._isBalloonAlways&&i.collapsed)l=!0;else if(o.focusNode===o.anchorNode)l=o.focusOffset<o.anchorOffset;else{const e=a.getListChildNodes(i.commonAncestorContainer,null);l=a.getArrayIndex(e,o.focusNode)<a.getArrayIndex(e,o.anchorNode)}let s=i.getClientRects();s=s[l?0:s.length-1];let c=0,h=0,p=e.element.topArea;for(;p;)c+=p.scrollLeft,h+=p.scrollTop,p=p.parentElement;const f=e.element.topArea.offsetWidth,g=d._getEditorOffsets(null),m=g.top,b=g.left;if(n.style.top="-10000px",n.style.visibility="hidden",n.style.display="block",!s){const t=u.getSelectionNode();if(a.isFormatElement(t)){const e=a.createTextNode(a.zeroWidthSpace);u.insertNode(e,null,!1),u.setRange(e,1,e,1),u._editorRange(),s=u.getRange().getClientRects(),s=s[l?0:s.length-1]}if(!s){const i=a.getOffset(t,e.element.wysiwygFrame);s={left:i.left,top:i.top,right:i.left,bottom:i.top+t.offsetHeight,noText:!0},c=0,h=0}l=!0}const v=r.Math.round(e.element._arrow.offsetWidth/2),y=n.offsetWidth,_=n.offsetHeight,x=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;x&&(s={left:s.left+x.left,top:s.top+x.top,right:s.right+x.right-x.width,bottom:s.bottom+x.bottom-x.height}),d._setToolbarOffset(l,s,n,b,f,c,h,m,v),y===n.offsetWidth&&_===n.offsetHeight||d._setToolbarOffset(l,s,n,b,f,c,h,m,v),n.style.visibility=""},_setToolbarOffset:function(t,i,n,o,l,c,u,h,p){const f=n.offsetWidth,g=i.noText&&!t?0:n.offsetHeight,m=(t?i.left:i.right)-o-f/2+c,b=m+f-l;let v=(t?i.top-g-p:i.bottom+p)-(i.noText?0:h)+u,y=m<0?1:b<0?m:m-b-1-1,_=!1;const x=v+(t?d._getEditorOffsets(null).top:n.offsetHeight-e.element.wysiwyg.offsetHeight);!t&&x>0&&d._getPageBottomSpace()<x?(t=!0,_=!0):t&&s.documentElement.offsetTop>x&&(t=!1,_=!0),_&&(v=(t?i.top-g-p:i.bottom+p)-(i.noText?0:h)+u),n.style.left=r.Math.floor(y)+"px",n.style.top=r.Math.floor(v)+"px",t?(a.removeClass(e.element._arrow,"se-arrow-up"),a.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=g+"px"):(a.removeClass(e.element._arrow,"se-arrow-down"),a.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-p+"px");const w=r.Math.floor(f/2+(m-y));e.element._arrow.style.left=(w+p>n.offsetWidth?n.offsetWidth-p:w<p?p:w)+"px"},_showToolbarInline:function(){if(!u._isInline)return;const t=e.element.toolbar;o.toolbarContainer?t.style.position="relative":t.style.position="absolute",t.style.visibility="hidden",t.style.display="block",u._inlineToolbarAttr.width=t.style.width=o.toolbarWidth,u._inlineToolbarAttr.top=t.style.top=(o.toolbarContainer?0:-1-t.offsetHeight)+"px","function"===typeof h.showInline&&h.showInline(t,e,u),d.onScroll_window(),u._inlineToolbarAttr.isShow=!0,t.style.visibility=""},_hideToolbar:function(){u._notHideToolbar||u._variable.isFullScreen||(e.element.toolbar.style.display="none",u._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(e){u._editorRange();const t=(null===e.data?"":void 0===e.data?" ":e.data)||"";u._charCount(t)||(e.preventDefault(),e.stopPropagation()),u.history.push(!0),"function"===typeof h.onInput&&h.onInput(e,u)},_onShortcutKey:!1,onKeyDown_wysiwyg:function(t){const i=t.keyCode,n=t.shiftKey,l=t.ctrlKey||t.metaKey||91===i||92===i||224===i,s=t.altKey;if(d._IEisComposing=229===i,u.submenuOff(),u._isBalloon&&d._hideToolbar(),l&&d._shortcutCommand(i,n))return d._onShortcutKey=!0,t.preventDefault(),t.stopPropagation(),!1;d._onShortcutKey&&(d._onShortcutKey=!1);let c=u.getSelectionNode();const p=u.getRange(),f=!p.collapsed||p.startContainer!==p.endContainer,g=u._fileManager.pluginRegExp.test(u.currentControllerName)?u.currentControllerName:"";let m=a.getFormatElement(c,null)||c,b=a.getRangeFormatElement(m,null);switch(i){case 8:if(!f&&g){t.preventDefault(),t.stopPropagation(),u.plugins[g].destroy.call(u);break}if(f&&d._hardDelete()){t.preventDefault(),t.stopPropagation();break}if(!a.isFormatElement(m)&&!e.element.wysiwyg.firstElementChild&&!a.isComponent(c))return t.preventDefault(),t.stopPropagation(),u._setDefaultFormat("P"),!1;if(!f&&!m.previousElementSibling&&0===p.startOffset&&!c.previousSibling&&!a.isListCell(m)&&a.isFormatElement(m)&&(!a.isFreeFormatElement(m)||a.isClosureFreeFormatElement(m))){if(a.isClosureRangeFormatElement(m.parentNode))return t.preventDefault(),t.stopPropagation(),!1;if(a.isWysiwygDiv(m.parentNode)&&m.childNodes.length<=1&&(!m.firstChild||a.onlyZeroWidthSpace(m.textContent))){t.preventDefault(),t.stopPropagation(),m.innerHTML="<br>";const e=m.attributes;for(;e[0];)m.removeAttribute(e[0].name);return u.nativeFocus(),!1}}if(m&&p.startContainer===p.endContainer&&3===c.nodeType&&!a.isFormatElement(c.parentNode)&&(p.collapsed?1===c.textContent.length:p.endOffset-p.startOffset===c.textContent.length)){t.preventDefault();let e=null,i=c.parentNode.previousSibling;const n=c.parentNode.nextSibling;i||(n?(i=n,e=0):(i=a.createElement("BR"),m.appendChild(i))),c.textContent="",a.removeItemAllParents(c,null,m),e="number"===typeof e?e:3===i.nodeType?i.textContent.length:1,u.setRange(i,e,i,e);break}const i=p.commonAncestorContainer;if(m=a.getFormatElement(p.startContainer,null),b=a.getRangeFormatElement(m,null),b&&m&&!a.isCell(b)&&!/^FIGCAPTION$/i.test(b.nodeName)){if(a.isListCell(m)&&a.isList(b)&&(a.isListCell(b.parentNode)||m.previousElementSibling)&&(c===m||3===c.nodeType&&(!c.previousSibling||a.isList(c.previousSibling)))&&(a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null)?b.contains(p.startContainer):0===p.startOffset&&p.collapsed)){if(p.startContainer!==p.endContainer)t.preventDefault(),u.removeNode(),3===p.startContainer.nodeType&&u.setRange(p.startContainer,p.startContainer.textContent.length,p.startContainer,p.startContainer.textContent.length),u.history.push(!0);else{let e=m.previousElementSibling||b.parentNode;if(a.isListCell(e)){t.preventDefault();let i=e;if(!e.contains(m)&&a.isListCell(i)&&a.isList(i.lastElementChild)){for(i=i.lastElementChild.lastElementChild;a.isListCell(i)&&a.isList(i.lastElementChild);)i=i.lastElementChild&&i.lastElementChild.lastElementChild;e=i}let n=e===b.parentNode?b.previousSibling:e.lastChild;n||(n=a.createTextNode(a.zeroWidthSpace),b.parentNode.insertBefore(n,b.parentNode.firstChild));const o=3===n.nodeType?n.textContent.length:1,l=m.childNodes;let s=n,r=l[0];for(;r=l[0];)e.insertBefore(r,s.nextSibling),s=r;a.removeItem(m),0===b.children.length&&a.removeItem(b),u.setRange(n,o,n,o),u.history.push(!0)}}break}if(!f&&0===p.startOffset){let e=!0,n=i;for(;n&&n!==b&&!a.isWysiwygDiv(n);){if(n.previousSibling&&(1===n.previousSibling.nodeType||!a.onlyZeroWidthSpace(n.previousSibling.textContent.trim()))){e=!1;break}n=n.parentNode}if(e&&b.parentNode){t.preventDefault(),u.detachRangeFormatElement(b,a.isListCell(m)?[m]:null,null,!1,!1),u.history.push(!0);break}}}if(!f&&(0===p.startOffset||c===m&&m.childNodes[p.startOffset])){const e=c===m?m.childNodes[p.startOffset]:c,n=(3===i.nodeType||a.isBreak(i))&&!i.previousSibling&&0===p.startOffset;if(!e.previousSibling&&(a.isComponent(i.previousSibling)||n&&a.isComponent(m.previousSibling))){const e=u.getFileComponent(m.previousSibling);e&&(t.preventDefault(),t.stopPropagation(),0===m.textContent.length&&a.removeItem(m),u.selectComponent(e.target,e.pluginName));break}if(a.isNonEditable(e.previousSibling)){t.preventDefault(),t.stopPropagation(),a.removeItem(e.previousSibling);break}}break;case 46:if(g){t.preventDefault(),t.stopPropagation(),u.plugins[g].destroy.call(u);break}if(f&&d._hardDelete()){t.preventDefault(),t.stopPropagation();break}if((a.isFormatElement(c)||null===c.nextSibling||a.onlyZeroWidthSpace(c.nextSibling)&&null===c.nextSibling.nextSibling)&&p.startOffset===c.textContent.length){let e=m.nextElementSibling;if(!e){t.preventDefault();break}if(a.isComponent(e)){if(t.preventDefault(),a.onlyZeroWidthSpace(m)&&(a.removeItem(m),a.isTable(e))){let t=a.getChildElement(e,a.isCell,!1);t=t.firstElementChild||t,u.setRange(t,0,t,0);break}const i=u.getFileComponent(e);i&&(t.stopPropagation(),u.selectComponent(i.target,i.pluginName));break}}if(!f&&(u.isEdgePoint(p.endContainer,p.endOffset)||c===m&&m.childNodes[p.startOffset])){const e=c===m?m.childNodes[p.startOffset]:c;if(a.isNonEditable(e.nextSibling)){t.preventDefault(),t.stopPropagation(),a.removeItem(e.nextSibling);break}}if(m=a.getFormatElement(p.startContainer,null),b=a.getRangeFormatElement(m,null),a.isListCell(m)&&a.isList(b)&&(c===m||3===c.nodeType&&(!c.nextSibling||a.isList(c.nextSibling))&&(a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null)?b.contains(p.endContainer):p.endOffset===c.textContent.length&&p.collapsed))){p.startContainer!==p.endContainer&&u.removeNode();let e=a.getArrayItem(m.children,a.isList,!1);if(e=e||m.nextElementSibling||b.parentNode.nextElementSibling,e&&(a.isList(e)||a.getArrayItem(e.children,a.isList,!1))){let i,n;if(t.preventDefault(),a.isList(e)){const t=e.firstElementChild;for(n=t.childNodes,i=n[0];n[0];)m.insertBefore(n[0],e);a.removeItem(t)}else{for(i=e.firstChild,n=e.childNodes;n[0];)m.appendChild(n[0]);a.removeItem(e)}u.setRange(i,0,i,0),u.history.push(!0)}break}break;case 9:if(g||o.tabDisable)break;if(t.preventDefault(),l||s||a.isWysiwygDiv(c))break;const v=!p.collapsed||u.isEdgePoint(p.startContainer,p.startOffset),y=u.getSelectedElements(null);c=u.getSelectionNode();const _=[];let x=[],w=a.isListCell(y[0]),C=a.isListCell(y[y.length-1]),k={sc:p.startContainer,so:p.startOffset,ec:p.endContainer,eo:p.endOffset};for(let e,t=0,o=y.length;t<o;t++)if(e=y[t],a.isListCell(e)){if(!e.previousElementSibling&&!n)continue;_.push(e)}else x.push(e);if(_.length>0&&v&&u.plugins.list)k=u.plugins.list.editInsideList.call(u,n,_);else{const e=a.getParentElement(c,a.isCell);if(e&&v){const t=a.getParentElement(e,"table"),i=a.getListChildren(t,a.isCell);let o=n?a.prevIdx(i,e):a.nextIdx(i,e);o!==i.length||n||(o=0),-1===o&&n&&(o=i.length-1);let l=i[o];if(!l)break;l=l.firstElementChild||l,u.setRange(l,0,l,0);break}x=x.concat(_),w=C=null}if(x.length>0)if(n){const e=x.length-1;for(let n,o=0;o<=e;o++){n=x[o].childNodes;for(let e,t=0,i=n.length;t<i&&(e=n[t],e);t++)if(!a.onlyZeroWidthSpace(e)){/^\s{1,4}$/.test(e.textContent)?a.removeItem(e):/^\s{1,4}/.test(e.textContent)&&(e.textContent=e.textContent.replace(/^\s{1,4}/,""));break}}const t=a.getChildElement(x[0],"text",!1),i=a.getChildElement(x[e],"text",!0);!w&&t&&(k.sc=t,k.so=0),!C&&i&&(k.ec=i,k.eo=i.textContent.length)}else{const e=a.createTextNode(new r.Array(u._variable.tabSize+1).join("\xa0"));if(1===x.length){const t=u.insertNode(e,null,!0);if(!t)return!1;w||(k.sc=e,k.so=t.endOffset),C||(k.ec=e,k.eo=t.endOffset)}else{const t=x.length-1;for(let o,l=0;l<=t;l++)o=x[l].firstChild,o&&(a.isBreak(o)?x[l].insertBefore(e.cloneNode(!1),o):o.textContent=e.textContent+o.textContent);const i=a.getChildElement(x[0],"text",!1),n=a.getChildElement(x[t],"text",!0);!w&&i&&(k.sc=i,k.so=0),!C&&n&&(k.ec=n,k.eo=n.textContent.length)}}u.setRange(k.sc,k.so,k.ec,k.eo),u.history.push(!1);break;case 13:const S=a.getFreeFormatElement(c,null);if(u._charTypeHTML){let e="";if(e=!n&&S||n?"<br>":"<"+m.nodeName+"><br></"+m.nodeName+">",!u.checkCharCount(e,"byte-html"))return t.preventDefault(),!1}if(!n&&S){t.preventDefault();const e=c===S,i=u.getSelection(),n=c.childNodes,o=i.focusOffset,l=c.previousElementSibling,s=c.nextSibling;if(!a.isClosureFreeFormatElement(S)&&n&&(e&&p.collapsed&&n.length-1<=o+1&&a.isBreak(n[o])&&(!n[o+1]||(!n[o+2]||a.onlyZeroWidthSpace(n[o+2].textContent))&&3===n[o+1].nodeType&&a.onlyZeroWidthSpace(n[o+1].textContent))&&o>0&&a.isBreak(n[o-1])||!e&&a.onlyZeroWidthSpace(c.textContent)&&a.isBreak(l)&&(a.isBreak(l.previousSibling)||!a.onlyZeroWidthSpace(l.previousSibling.textContent))&&(!s||!a.isBreak(s)&&a.onlyZeroWidthSpace(s.textContent)))){e?a.removeItem(n[o-1]):a.removeItem(c);const t=u.appendFormatTag(S,a.isFormatElement(S.nextElementSibling)?S.nextElementSibling:null);a.copyFormatAttributes(t,S),u.setRange(t,1,t,1);break}if(e){h.insertHTML(p.collapsed&&a.isBreak(p.startContainer.childNodes[p.startOffset-1])?"<br>":"<br><br>",!0,!1);let e=i.focusNode;const t=i.focusOffset;S===e&&(e=e.childNodes[t-o>1?t-1:t]),u.setRange(e,1,e,1)}else{const e=i.focusNode.nextSibling,t=a.createElement("BR");u.insertNode(t,null,!1);const n=t.previousSibling,o=t.nextSibling;a.isBreak(e)||a.isBreak(n)||o&&!a.onlyZeroWidthSpace(o)?u.setRange(o,0,o,0):(t.parentNode.insertBefore(t.cloneNode(!1),t),u.setRange(t,1,t,1))}d._onShortcutKey=!0;break}if(f)break;if(b&&m&&!a.isCell(b)&&!/^FIGCAPTION$/i.test(b.nodeName)){const e=u.getRange();if(u.isEdgePoint(e.endContainer,e.endOffset)&&a.isList(c.nextSibling)){t.preventDefault();const e=a.createElement("LI"),i=a.createElement("BR");e.appendChild(i),m.parentNode.insertBefore(e,m.nextElementSibling),e.appendChild(c.nextSibling),u.setRange(i,1,i,1);break}if((3!==e.commonAncestorContainer.nodeType||!e.commonAncestorContainer.nextElementSibling)&&a.onlyZeroWidthSpace(m.innerText.trim())){t.preventDefault();let e=null;if(a.isListCell(b.parentNode)){if(b=m.parentNode.parentNode.parentNode,e=a.splitElement(m,null,a.getElementDepth(m)-2),!e){const t=a.createElement("LI");t.innerHTML="<br>",b.insertBefore(t,e),e=t}}else{const t=a.isCell(b.parentNode)?"DIV":a.isList(b.parentNode)?"LI":a.isFormatElement(b.nextElementSibling)?b.nextElementSibling.nodeName:a.isFormatElement(b.previousElementSibling)?b.previousElementSibling.nodeName:"P";e=a.createElement(t);const i=u.detachRangeFormatElement(b,[m],null,!0,!0);i.cc.insertBefore(e,i.ec)}e.innerHTML="<br>",a.copyFormatAttributes(e,m),a.removeItemAllParents(m,null,null),u.setRange(e,1,e,1);break}}if(b&&a.getParentElement(b,"FIGCAPTION")&&a.getParentElement(b,a.isList)&&(t.preventDefault(),m=u.appendFormatTag(m,null),u.setRange(m,0,m,0)),g){t.preventDefault(),t.stopPropagation();const i=e[g],n=i._container,o=n.previousElementSibling||n.nextElementSibling;let l=null;a.isListCell(n.parentNode)?l=a.createElement("BR"):(l=a.createElement(a.isFormatElement(o)?o.nodeName:"P"),l.innerHTML="<br>"),n.parentNode.insertBefore(l,n),u.callPlugin(g,(function(){u.selectComponent(i._element,g)}),null)}break;case 27:if(g)return t.preventDefault(),t.stopPropagation(),u.controllersOff(),!1}if(n&&/16/.test(i)){t.preventDefault(),t.stopPropagation();const e=u.plugins.table;if(e&&!e._shift&&!e._ref){const t=a.getParentElement(m,a.isCell);if(t)return void e.onTableCellMultiSelect.call(u,t,!0)}}if(!l&&!s&&!f&&!d._nonTextKeyCode.test(i)&&p.collapsed&&p.startContainer===p.endContainer&&a.isBreak(p.commonAncestorContainer)){const e=a.createTextNode(a.zeroWidthSpace);u.insertNode(e,null,!1),u.setRange(e,1,e,1)}"function"===typeof h.onKeyDown&&h.onKeyDown(t,u)},onKeyUp_wysiwyg:function(e){if(d._onShortcutKey)return;u._editorRange();const t=u.getRange(),i=e.keyCode,n=e.ctrlKey||e.metaKey||91===i||92===i||224===i,o=e.altKey;let l=u.getSelectionNode();if(u._isBalloon&&(u._isBalloonAlways&&27!==i||!t.collapsed)){if(!u._isBalloonAlways)return void d._showToolbarBalloon();27!==i&&d._showToolbarBalloonDelay()}if(8===i&&a.isWysiwygDiv(l)&&""===l.textContent&&0===l.children.length){e.preventDefault(),e.stopPropagation(),l.innerHTML="";const t=a.createElement(a.isFormatElement(u._variable.currentNodes[0])?u._variable.currentNodes[0]:"P");return t.innerHTML="<br>",l.appendChild(t),u.setRange(t,0,t,0),d._applyTagEffects(),void u.history.push(!1)}const s=a.getFormatElement(l,null),r=a.getRangeFormatElement(l,null);(s||!t.collapsed)&&s!==r||a.isComponent(l)||a.isList(l)||(u._setDefaultFormat(a.isRangeFormatElement(r)?"DIV":"P"),l=u.getSelectionNode()),d._directionKeyCode.test(i)&&d._applyTagEffects();if(!n&&!o&&!d._nonTextKeyCode.test(i)&&3===l.nodeType&&a.zeroWidthRegExp.test(l.textContent)&&!(void 0!==e.isComposing?e.isComposing:d._IEisComposing)){let e=t.startOffset,i=t.endOffset;const n=(l.textContent.substring(0,i).match(d._frontZeroWidthReg)||"").length;e=t.startOffset-n,i=t.endOffset-n,l.textContent=l.textContent.replace(a.zeroWidthRegExp,""),u.setRange(l,e<0?0:e,l,i<0?0:i)}u._charCount(""),u.history.push(!0),"function"===typeof h.onKeyUp&&h.onKeyUp(e,u)},onScroll_wysiwyg:function(e){u.controllersOff(),u._lineBreaker.style.display="none",u._isBalloon&&d._hideToolbar(),"function"===typeof h.onScroll&&h.onScroll(e,u)},onFocus_wysiwyg:function(e){u._antiBlur||(u.hasFocus=!0,u._isInline&&d._showToolbarInline(),"function"===typeof h.onFocus&&h.onFocus(e,u))},onBlur_wysiwyg:function(t){if(u._antiBlur)return;u.hasFocus=!1,u.controllersOff(),(u._isInline||u._isBalloon)&&d._hideToolbar(),"function"===typeof h.onBlur&&h.onBlur(t,u);const n=u.commandMap,l=u.activePlugins;for(let e in n)a.hasOwn(n,e)&&(l.indexOf(e)>-1?i[e].active.call(u,null):n.OUTDENT&&/^OUTDENT$/i.test(e)?n.OUTDENT.setAttribute("disabled",!0):n.INDENT&&/^INDENT$/i.test(e)?n.INDENT.removeAttribute("disabled"):a.removeClass(n[e],"active"));u._variable.currentNodes=[],u._variable.currentNodesMap=[],o.showPathLabel&&(e.element.navigation.textContent="")},onMouseDown_resizingBar:function(t){t.stopPropagation(),u._variable.resizeClientY=t.clientY,e.element.resizeBackground.style.display="block",s.addEventListener("mousemove",d._resize_editor),s.addEventListener("mouseup",(function t(){e.element.resizeBackground.style.display="none",s.removeEventListener("mousemove",d._resize_editor),s.removeEventListener("mouseup",t)}))},_resize_editor:function(t){const i=e.element.editorArea.offsetHeight+(t.clientY-u._variable.resizeClientY);e.element.wysiwygFrame.style.height=e.element.code.style.height=(i<u._variable.minResizingSize?u._variable.minResizingSize:i)+"px",u._variable.resizeClientY=t.clientY},onResize_window:function(){u.controllersOff();const t=d._responsiveButtonSize;if(t){const e=r.innerWidth;let i="default";for(let n=1,o=t.length;n<o;n++)e<t[n]&&(i=t[n]+"");d._responsiveCurrentSize!==i&&(d._responsiveCurrentSize=i,h.setToolbarButtons(d._responsiveButtons[i]))}if(0!==e.element.toolbar.offsetWidth){if(e.fileBrowser&&"block"===e.fileBrowser.area.style.display&&(e.fileBrowser.body.style.maxHeight=r.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),u.submenuActiveButton&&u.submenu&&u._setMenuPosition(u.submenuActiveButton,u.submenu),u._variable.isFullScreen)return u._variable.innerHeight_fullScreen+=r.innerHeight-e.element.toolbar.offsetHeight-u._variable.innerHeight_fullScreen,void(e.element.editorArea.style.height=u._variable.innerHeight_fullScreen+"px");u._variable.isCodeView&&u._isInline?d._showToolbarInline():(u._iframeAutoHeight(),u._sticky&&(e.element.toolbar.style.width=e.element.topArea.offsetWidth-2+"px",d.onScroll_window()))}},onScroll_window:function(){if(u._variable.isFullScreen||0===e.element.toolbar.offsetWidth||o.stickyToolbar<0)return;const t=e.element,i=t.editorArea.offsetHeight,n=(this.scrollY||s.documentElement.scrollTop)+o.stickyToolbar,l=d._getEditorOffsets(o.toolbarContainer).top-(u._isInline?t.toolbar.offsetHeight:0);n<l?d._offStickyToolbar():n+u._variable.minResizingSize>=i+l?(u._sticky||d._onStickyToolbar(),t.toolbar.style.top=i+l+o.stickyToolbar-n-u._variable.minResizingSize+"px"):n>=l&&d._onStickyToolbar()},_getEditorOffsets:function(t){let i=t||e.element.topArea,n=0,o=0,l=0;for(;i;)n+=i.offsetTop,o+=i.offsetLeft,l+=i.scrollTop,i=i.offsetParent;return{top:n,left:o,scroll:l}},_getPageBottomSpace:function(){return s.documentElement.scrollHeight-(d._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(){const t=e.element;u._isInline||o.toolbarContainer||(t._stickyDummy.style.height=t.toolbar.offsetHeight+"px",t._stickyDummy.style.display="block"),t.toolbar.style.top=o.stickyToolbar+"px",t.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:t.toolbar.offsetWidth+"px",a.addClass(t.toolbar,"se-toolbar-sticky"),u._sticky=!0},_offStickyToolbar:function(){const t=e.element;t._stickyDummy.style.display="none",t.toolbar.style.top=u._isInline?u._inlineToolbarAttr.top:"",t.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:"",t.editorArea.style.marginTop="",a.removeClass(t.toolbar,"se-toolbar-sticky"),u._sticky=!1},_codeViewAutoHeight:function(){e.element.code.style.height=e.element.code.scrollHeight+"px"},_hardDelete:function(){const e=u.getRange(),t=e.startContainer,i=e.endContainer,n=a.getRangeFormatElement(t),o=a.getRangeFormatElement(i),l=a.isCell(n),s=a.isCell(o);if((l&&!n.previousElementSibling&&!n.parentElement.previousElementSibling||s&&!o.nextElementSibling&&!o.parentElement.nextElementSibling)&&n!==o)if(l){if(s)return a.removeItem(a.getParentElement(n,a.isComponent)),u.nativeFocus(),!0;a.removeItem(a.getParentElement(n,a.isComponent))}else a.removeItem(a.getParentElement(o,a.isComponent));const r=1===t.nodeType?a.getParentElement(t,".se-component"):null,c=1===i.nodeType?a.getParentElement(i,".se-component"):null;return r&&a.removeItem(r),c&&a.removeItem(c),!1},onPaste_wysiwyg:function(e){const t=a.isIE?r.clipboardData:e.clipboardData;return!t||d._dataTransferAction("paste",e,t)},_setClipboardComponent:function(e,t,i){e.preventDefault(),e.stopPropagation(),i.setData("text/html",t.component.outerHTML)},onCopy_wysiwyg:function(e){const t=a.isIE?r.clipboardData:e.clipboardData;if("function"===typeof h.onCopy&&!h.onCopy(e,t,u))return e.preventDefault(),e.stopPropagation(),!1;const i=u.currentFileComponentInfo;i&&!a.isIE&&(d._setClipboardComponent(e,i,t),a.addClass(i.component,"se-component-copy"),r.setTimeout((function(){a.removeClass(i.component,"se-component-copy")}),150))},onCut_wysiwyg:function(e){const t=a.isIE?r.clipboardData:e.clipboardData;if("function"===typeof h.onCut&&!h.onCut(e,t,u))return e.preventDefault(),e.stopPropagation(),!1;const i=u.currentFileComponentInfo;i&&!a.isIE&&(d._setClipboardComponent(e,i,t),a.removeItem(i.component),u.controllersOff()),r.setTimeout((function(){u.history.push(!1)}))},onDrop_wysiwyg:function(e){const t=e.dataTransfer;return!t||(a.isIE?(e.preventDefault(),e.stopPropagation(),!1):(u.removeNode(),d._setDropLocationSelection(e),d._dataTransferAction("drop",e,t)))},_setDropLocationSelection:function(e){if(e.rangeParent)u.setRange(e.rangeParent,e.rangeOffset,e.rangeParent,e.rangeOffset);else if(u._wd.caretRangeFromPoint){const t=u._wd.caretRangeFromPoint(e.clientX,e.clientY);u.setRange(t.startContainer,t.startOffset,t.endContainer,t.endOffset)}else{const e=u.getRange();u.setRange(e.startContainer,e.startOffset,e.endContainer,e.endOffset)}},_dataTransferAction:function(t,i,n){let o,l;if(a.isIE){o=n.getData("Text");const s=u.getRange(),c=a.createElement("DIV"),h={sc:s.startContainer,so:s.startOffset,ec:s.endContainer,eo:s.endOffset};return c.setAttribute("contenteditable",!0),c.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(c),c.focus(),r.setTimeout((function(){l=c.innerHTML,a.removeItem(c),u.setRange(h.sc,h.so,h.ec,h.eo),d._setClipboardData(t,i,o,l,n)})),!0}if(o=n.getData("text/plain"),l=n.getData("text/html"),!1===d._setClipboardData(t,i,o,l,n))return i.preventDefault(),i.stopPropagation(),!1},_setClipboardData:function(e,t,i,n,o){/class=["']*Mso(Normal|List)/i.test(n)||/content=["']*Word.Document/i.test(n)||/content=["']*OneNote.File/i.test(n)?(n=n.replace(/\n/g," "),i=i.replace(/\n/g," ")):i=i.replace(/\n/g,""),n=u.cleanHTML(n,u.pasteTagsWhitelistRegExp);const l=u._charCount(u._charTypeHTML?n:i);if("paste"===e&&"function"===typeof h.onPaste&&!h.onPaste(t,n,l,u))return!1;if("drop"===e&&"function"===typeof h.onDrop&&!h.onDrop(t,o,u))return!1;const s=o.files;return s.length>0?(/^image/.test(s[0].type)&&u.plugins.image&&h.insertImage(s),!1):!!l&&(n?(h.insertHTML(n,!0,!1),!1):void 0)},onMouseMove_wysiwyg:function(t){if(u.isDisabled)return;const i=a.getParentElement(t.target,a.isComponent),n=u._lineBreaker.style;if(i&&!u.currentControllerName){let l=0,s=e.element.wysiwyg;do{l+=s.scrollTop,s=s.parentElement}while(s&&!/^(BODY|HTML)$/i.test(s.nodeName));const r=e.element.wysiwyg.scrollTop,c=d._getEditorOffsets(null),h=a.getOffset(i,e.element.wysiwygFrame).top+r,p=t.pageY+l+(o.iframe&&!o.toolbarContainer?e.element.toolbar.offsetHeight:0),f=h+(o.iframe?l:c.top),g=a.isListCell(i.parentNode);let m="",b="";if((g?!i.previousSibling:!a.isFormatElement(i.previousElementSibling))&&p<f+20)b=h,m="t";else{if((g?i.nextSibling:a.isFormatElement(i.nextElementSibling))||!(p>f+i.offsetHeight-20))return void(n.display="none");b=h+i.offsetHeight,m="b"}u._variable._lineBreakComp=i,u._variable._lineBreakDir=m,n.top=b-r+"px",u._lineBreakerButton.style.left=a.getOffset(i).left+i.offsetWidth/2-15+"px",n.display="block"}else"none"!==n.display&&(n.display="none")},_onMouseDown_lineBreak:function(e){e.preventDefault()},_onLineBreak:function(e){e.preventDefault();const t=u._variable._lineBreakComp,i=this?this:u._variable._lineBreakDir,n=a.isListCell(t.parentNode),o=a.createElement(n?"BR":a.isCell(t.parentNode)?"DIV":"P");if(n||(o.innerHTML="<br>"),u._charTypeHTML&&!u.checkCharCount(o.outerHTML,"byte-html"))return;t.parentNode.insertBefore(o,"t"===i?t:t.nextSibling),u._lineBreaker.style.display="none",u._variable._lineBreakComp=null;const l=n?o:o.firstChild;u.setRange(l,1,l,1),u.history.push(!1)},_addEvent:function(){const t=o.iframe?u._ww:e.element.wysiwyg;e.element.toolbar.addEventListener("mousedown",d._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",d._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",d.onClick_toolbar,!1),t.addEventListener("mousedown",d.onMouseDown_wysiwyg,!1),t.addEventListener("click",d.onClick_wysiwyg,!1),t.addEventListener(a.isIE?"textinput":"input",d.onInput_wysiwyg,!1),t.addEventListener("keydown",d.onKeyDown_wysiwyg,!1),t.addEventListener("keyup",d.onKeyUp_wysiwyg,!1),t.addEventListener("paste",d.onPaste_wysiwyg,!1),t.addEventListener("copy",d.onCopy_wysiwyg,!1),t.addEventListener("cut",d.onCut_wysiwyg,!1),t.addEventListener("drop",d.onDrop_wysiwyg,!1),t.addEventListener("scroll",d.onScroll_wysiwyg,!1),t.addEventListener("focus",d.onFocus_wysiwyg,!1),t.addEventListener("blur",d.onBlur_wysiwyg,!1),d._lineBreakerBind={a:d._onLineBreak.bind(""),t:d._onLineBreak.bind("t"),b:d._onLineBreak.bind("b")},t.addEventListener("mousemove",d.onMouseMove_wysiwyg,!1),u._lineBreakerButton.addEventListener("mousedown",d._onMouseDown_lineBreak,!1),u._lineBreakerButton.addEventListener("click",d._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",d._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",d._lineBreakerBind.b,!1),u.plugins.table&&t.addEventListener("touchstart",d.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),"auto"!==o.height||o.codeMirrorEditor||(e.element.code.addEventListener("keydown",d._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",d._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",d._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(o.height)?e.element.resizingBar.addEventListener("mousedown",d.onMouseDown_resizingBar,!1):a.addClass(e.element.resizingBar,"se-resizing-none")),d._setResponsiveToolbar(),r.removeEventListener("resize",d.onResize_window),r.removeEventListener("scroll",d.onScroll_window),r.addEventListener("resize",d.onResize_window,!1),o.stickyToolbar>-1&&r.addEventListener("scroll",d.onScroll_window,!1)},_removeEvent:function(){const t=o.iframe?u._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",d._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",d._buttonsEventHandler),e.element.toolbar.removeEventListener("click",d.onClick_toolbar),t.removeEventListener("mousedown",d.onMouseDown_wysiwyg),t.removeEventListener("click",d.onClick_wysiwyg),t.removeEventListener(a.isIE?"textinput":"input",d.onInput_wysiwyg),t.removeEventListener("keydown",d.onKeyDown_wysiwyg),t.removeEventListener("keyup",d.onKeyUp_wysiwyg),t.removeEventListener("paste",d.onPaste_wysiwyg),t.removeEventListener("copy",d.onCopy_wysiwyg),t.removeEventListener("cut",d.onCut_wysiwyg),t.removeEventListener("drop",d.onDrop_wysiwyg),t.removeEventListener("scroll",d.onScroll_wysiwyg),t.removeEventListener("mousemove",d.onMouseMove_wysiwyg),u._lineBreakerButton.removeEventListener("mousedown",d._onMouseDown_lineBreak),u._lineBreakerButton.removeEventListener("click",d._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",d._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",d._lineBreakerBind.b),d._lineBreakerBind=null,t.removeEventListener("touchstart",d.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),t.removeEventListener("focus",d.onFocus_wysiwyg),t.removeEventListener("blur",d.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",d._codeViewAutoHeight),e.element.code.removeEventListener("keyup",d._codeViewAutoHeight),e.element.code.removeEventListener("paste",d._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",d.onMouseDown_resizingBar),r.removeEventListener("resize",d.onResize_window),r.removeEventListener("scroll",d.onScroll_window)},_setResponsiveToolbar:function(){if(0===l.length)return void(l=null);const e=d._responsiveButtonSize=["default"],t=d._responsiveButtons={default:l[0]};for(let i,n,o=1,s=l.length;o<s;o++)n=l[o],i=1*n[0],e.push(i),t[i]=n[1]}},h={core:u,util:a,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onDrop:null,onChange:null,onCopy:null,onCut:null,onPaste:null,onFocus:null,onBlur:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,setToolbarButtons:function(n){u.submenuOff(),u.containerOff();const r=g._createToolBar(s,n,u.plugins,o);l=r.responsiveButtons,u._moreLayerActiveButton=null,d._setResponsiveToolbar(),e.element.toolbar.replaceChild(r._buttonTray,e.element._buttonTray);const c=m(e.element.originElement,u._getConstructed(e.element),o);e.element=c.element,e.tool=c.tool,o.iframe&&(e.element.wysiwyg=u._wd.body),u._cachingButtons(),u.history._resetCachingButton(),u.activePlugins=[];const h=t;let p,f,b;t=r.pluginCallButtons;for(let e in t)a.hasOwn(t,e)&&(p=i[e],f=t[e],p.active&&f&&(b=h[e],u.callPlugin(e,null,b||f),b&&(f.parentElement.replaceChild(b,f),t[e]=b)));u.hasFocus&&d._applyTagEffects(),u._variable.isCodeView&&a.addClass(u._styleCommandMap.codeView,"active"),u._variable.isFullScreen&&a.addClass(u._styleCommandMap.fullScreen,"active"),a.hasClass(e.element.wysiwyg,"se-show-block")&&a.addClass(u._styleCommandMap.showBlocks,"active")},setOptions:function(s){d._removeEvent(),u._resetComponents(),a.removeClass(u._styleCommandMap.showBlocks,"active"),a.removeClass(u._styleCommandMap.codeView,"active"),u._variable.isCodeView=!1,u._iframeAuto=null,u.plugins=s.plugins||u.plugins;const c=[o,s].reduce((function(e,t){for(let i in t)if(a.hasOwn(t,i))if("plugins"===i&&t[i]&&e[i]){let n=e[i],o=t[i];n=n.length?n:r.Object.keys(n).map((function(e){return n[e]})),o=o.length?o:r.Object.keys(o).map((function(e){return o[e]})),e[i]=o.filter((function(e){return-1===n.indexOf(e)})).concat(n)}else e[i]=t[i];return e}),{}),h=e.element,p=h.wysiwyg.innerHTML,f=g._setOptions(c,e,u.plugins,o);f.callButtons&&(t=f.callButtons,u.initPlugins={}),f.plugins&&(u.plugins=i=f.plugins),0===h._menuTray.children.length&&(this._menuTray={}),l=f.toolbar.responsiveButtons,o=c,u.lang=n=o.lang,o.iframe&&h.wysiwygFrame.addEventListener("load",(function(){a._setIframeDocument(this,o),u._setOptionsInit(h,p)})),h.editorArea.appendChild(h.wysiwygFrame),o.iframe||u._setOptionsInit(h,p)},setDefaultStyle:function(t){const i=o._editorStyles=a._setDefaultOptionStyle(o,t),n=e.element;n.topArea.style.cssText=i.top,n.code.style.cssText=o._editorStyles.frame,n.code.style.display="none","auto"===o.height?n.code.style.overflow="hidden":n.code.style.overflow="",o.iframe?(n.wysiwygFrame.style.cssText=i.frame,n.wysiwyg.style.cssText=i.editor):n.wysiwygFrame.style.cssText=i.frame+i.editor},noticeOpen:function(e){u.notice.open.call(u,e)},noticeClose:function(){u.notice.close.call(u)},save:function(){e.element.originElement.value=u.getContents(!1)},getContext:function(){return e},getContents:function(e){return u.getContents(e)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(t){return t="string"===typeof t?t:o.charCounterType,u.getCharLength(u._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,t)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(t){return e[t]?e[t]._infoList:[]},insertImage:function(e){u.plugins.image&&e&&(u.initPlugins.image?u.plugins.image.submitAction.call(u,e):u.callPlugin("image",u.plugins.image.submitAction.bind(u,e),null),u.focus())},insertHTML:function(e,t,i,n){if("string"===typeof e){t||(e=u.cleanHTML(e,null));try{const t=s.createRange().createContextualFragment(e).childNodes;if(i){const e=u._charTypeHTML?"outerHTML":"textContent";let i="";for(let n=0,o=t.length;n<o;n++)i+=t[n][e];if(!u.checkCharCount(i,null))return}let o,l,r,a;for(;o=t[0];)r=u.insertNode(o,l,!1),l=r.container||r,a||(a=r);const c=3===l.nodeType?r.endOffset||l.textContent.length:l.childNodes.length;n?u.setRange(a.container||a,a.startOffset||0,l,c):u.setRange(l,c,l,c)}catch(o){u.execCommand("insertHTML",!1,e)}}else if(a.isComponent(e))u.insertComponent(e,!1,i,!1);else{let t=null;(a.isFormatElement(e)||a.isMedia(e))&&(t=a.getFormatElement(u.getSelectionNode(),null)),u.insertNode(e,t,i)}u.effectNode=null,u.focus(),u.history.push(!1)},setContents:function(e){u.setContents(e)},appendContents:function(t){const i=u.convertContentsForEditor(t);if(u._variable.isCodeView)u._setCodeView(u._getCodeView()+"\n"+u.convertHTMLForCodeView(i));else{const t=a.createElement("DIV");t.innerHTML=i;const n=e.element.wysiwyg,o=t.children;for(let e=0,i=o.length;e<i;e++)n.appendChild(o[e])}u.history.push(!1)},disabled:function(){e.tool.cover.style.display="block",e.element.wysiwyg.setAttribute("contenteditable",!1),u.isDisabled=!0,o.codeMirrorEditor?o.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enabled:function(){e.tool.cover.style.display="none",e.element.wysiwyg.setAttribute("contenteditable",!0),u.isDisabled=!1,o.codeMirrorEditor?o.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")},show:function(){const t=e.element.topArea.style;"none"===t.display&&(t.display=o.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){u.submenuOff(),u.containerOff(),u.controllersOff(),u.notice&&u.notice.close.call(u),u.modalForm&&u.plugins.dialog.close.call(u),u.history._destroy(),d._removeEvent(),a.removeItem(e.element.toolbar),a.removeItem(e.element.topArea);for(let e in u)a.hasOwn(u,e)&&delete u[e];for(let e in d)a.hasOwn(d,e)&&delete d[e];for(let t in e)a.hasOwn(e,t)&&delete e[t];for(let e in t)a.hasOwn(t,e)&&delete t[e];for(let e in this)a.hasOwn(this,e)&&delete this[e]},toolbar:{disabled:function(){e.tool.cover.style.display="block"},enabled:function(){e.tool.cover.style.display="none"},show:function(){u._isInline?d._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display="")},hide:function(){u._isInline?d._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none")}}};u.functions=h;let p=e.element,v=p.originElement,y=p.topArea;return v.style.display="none",y.style.display="block",o.iframe&&p.wysiwygFrame.addEventListener("load",(function(){a._setIframeDocument(this,o),u._editorInit(!1,o.value),o.value=null})),"object"===typeof v.nextElementSibling?v.parentNode.insertBefore(y,v.nextElementSibling):v.parentNode.appendChild(y),p.editorArea.appendChild(p.wysiwygFrame),p=v=y=null,o.iframe||(u._editorInit(!1,o.value),o.value=null),h}(m(n,o.constructed,o.options),o.pluginCallButtons,o.plugins,o.options.lang,t,o._responsiveButtons)};function y(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var x=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!w(t))return[].concat(y(i),[t]);for(var n=0;n<t.length;n++)i=e(t[n],i);return i},w=function(e){return"[object Array]"===Object.prototype.toString.call(e)},C=function(e){var t=e.buttonList;if(t){if(w(t)){var n=[];return(t=x(t)).indexOf("align")>=0&&n.push(i(9).default),t.indexOf("math")>=0&&n.push(i(10).default),t.indexOf("imageGallery")>=0&&n.push(i(11).default),t.indexOf("blockquote")>=0&&n.push(i(12).default),t.indexOf("font")>=0&&n.push(i(13).default),t.indexOf("fontColor")>=0&&n.push(i(14).default),t.indexOf("fontSize")>=0&&n.push(i(15).default),t.indexOf("formatBlock")>=0&&n.push(i(16).default),t.indexOf("hiliteColor")>=0&&n.push(i(17).default),t.indexOf("horizontalRule")>=0&&n.push(i(18).default),t.indexOf("lineHeight")>=0&&n.push(i(19).default),t.indexOf("list")>=0&&n.push(i(20).default),t.indexOf("paragraphStyle")>=0&&n.push(i(21).default),t.indexOf("table")>=0&&n.push(i(22).default),t.indexOf("template")>=0&&n.push(i(23).default),t.indexOf("textStyle")>=0&&n.push(i(24).default),t.indexOf("image")>=0&&n.push(i(25).default),t.indexOf("link")>=0&&n.push(i(26).default),t.indexOf("video")>=0&&n.push(i(27).default),t.indexOf("audio")>=0&&n.push(i(28).default),n}throw new Error("Button List must be of type array")}},k=function(e){switch(typeof e){case"object":return e;case"string":switch(e){case"en":return i(4);case"da":return i(29);case"de":return i(30);case"es":return i(31);case"fr":return i(32);case"ja":return i(33);case"ko":return i(34);case"pt_br":return i(35);case"ru":return i(36);case"it":return i(37);case"zh_cn":return i(38);case"ro":return i(39);case"pl":return i(40);case"ckb":return i(41);case"lv":return i(42);default:return i(4)}}return i(4)},S=i(0),A=i.n(S);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=M(e);if(t){var o=M(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return T(this,i)}}function T(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(l,e);var t,i,n,o=N(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=o.call(this)).txtArea=Object(a.createRef)(),e}return t=l,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.lang,n=t.setOptions,o=void 0===n?{}:n,l=t.width,s=void 0===l?"100%":l,r=t.height;o.lang=o.lang||k(i),o.plugins=o.plugins||C(o),o.width=o.width||s,r&&(o.height=r),this.editor=v(this.txtArea.current);var a=this.props,c=a.name,u=a.insertHTML,d=a.setContents,h=a.setDefaultStyle,p=a.appendContents,f=a.disable,g=a.enable,m=a.hide,b=a.show,y=a.showToolbar,_=void 0===y||y,x=a.enableToolbar,w=void 0===x||x,S=a.onScroll,A=a.onClick,E=a.onKeyDown,L=a.onKeyUp,z=a.onDrop,N=a.onChange,T=a.onCopy,M=a.onCut,B=a.onImageUpload,I=a.onImageUploadError,D=a.onPaste,O=a.autoFocus,R=a.onBlur,H=a.onFocus,F=a.onLoad,P=a.onInput,U=a.onImageUploadBefore,V=a.onVideoUploadBefore,W=a.onAudioUploadBefore,q=a.onVideoUpload,Z=a.onMouseDown,j=a.onAudioUpload,G=a.onVideoUploadError,Y=a.onAudioUploadError,X=a.placeholder,$=a.imageUploadHandler,K=a.toggleCodeView,Q=a.toggleFullScreen,J=a.showInline,ee=a.showController;(N||c)&&(this.editor.onChange=function(t){c&&(e.txtArea.current.value=t),N&&N(t)}),T&&(this.editor.onCopy=function(e,t){return T(e,t)}),M&&(this.editor.onCut=function(e,t){return M(e,t)}),Z&&(this.editor.onMouseDown=function(e){return Z(e)}),S&&(this.editor.onScroll=function(e){return S(e)}),P&&(this.editor.onInput=function(e){return P(e)}),A&&(this.editor.onClick=function(e){return A(e)}),L&&(this.editor.onKeyUp=function(e){return L(e)}),E&&(this.editor.onKeyDown=function(e){return E(e)}),R&&(this.editor.onBlur=function(t){return R(t,e.editor.getContents())}),H&&(this.editor.onFocus=function(e){return H(e)}),U&&(this.editor.onImageUploadBefore=function(e,t,i,n){return U(e,t,n)}),V&&(this.editor.onVideoUploadBefore=function(e,t,i,n){return V(e,t,n)}),W&&(this.editor.onAudioUploadBefore=function(e,t,i,n){return W(e,t,n)}),z&&(this.editor.onDrop=function(e){return z(e)}),D&&(this.editor.onPaste=function(e,t,i){return D(e,t,i)}),B&&(this.editor.onImageUpload=function(e,t,i,n,o){return B(e,t,i,n,o)}),q&&(this.editor.onVideoUpload=function(e,t,i,n,o){return q(e,t,i,n,o)}),j&&(this.editor.onAudioUpload=function(e,t,i,n,o){return j(e,t,i,n,o)}),I&&(this.editor.onImageUploadError=function(e,t){return I(e,t)}),G&&(this.editor.onVideoUploadError=function(e,t){return G(e,t)}),Y&&(this.editor.onAudioUploadError=function(e,t){return Y(e,t)}),X&&(o.placeholder=X),this.editor.setOptions(o),this.editor.onload=function(t,i){!1===i&&(d&&(e.editor.setContents(d),e.editor.core.focusEdge()),h&&e.editor.setDefaultStyle(h),u&&e.editor.insertHTML(u),p&&e.editor.appendContents(p),e.editor.util.isIE&&e.editor.core._createDefaultRange(),!0===g&&e.editor.enabled(),!0===f&&e.editor.disabled(),!0===m&&e.editor.hide(),!0===b&&e.editor.show(),!0===_?e.editor.toolbar.show():e.editor.toolbar.hide(),!0===w?e.editor.toolbar.enabled():e.editor.toolbar.disabled(),!1===O?e.editor.core.context.element.wysiwyg.blur():!0===O&&e.editor.core.context.element.wysiwyg.focus()),F&&F(i)},$&&"function"===typeof $&&(this.editor.imageUploadHandler=$),K&&"function"===typeof K&&(this.editor.toggleCodeView=function(e){return K(e)}),Q&&"function"===typeof Q&&(this.editor.toggleFullScreen=function(e){return Q(e)}),J&&"function"===typeof J&&(this.editor.showInline=function(e,t){return J(e,t)}),ee&&"function"===typeof ee&&(this.editor.showController=function(e,t){return ee(e,t)})}},{key:"componentDidUpdate",value:function(e){e.lang!==this.props.lang&&this.editor.setOptions({lang:k(this.props.lang)}),e.height!==this.props.height&&this.editor.setOptions({height:this.props.height}),e.width!==this.props.width&&this.editor.setOptions({width:this.props.width}),e.setDefaultStyle!==this.props.setDefaultStyle&&this.editor.setDefaultStyle(this.props.setDefaultStyle),e.setContents!==this.props.setContents&&!this.editor.core.hasFocus&&this.editor.setContents(this.props.setContents),e.appendContents!==this.props.appendContents&&(this.editor.appendContents(this.props.appendContents),this.editor.core.focusEdge()),e.insertHTML!==this.props.insertHTML&&this.editor.insertHTML(this.props.insertHTML),e.enable!==this.props.enable&&(!0===this.props.enable?this.editor.enabled():this.editor.disabled()),e.disable!==this.props.disable&&(!0===this.props.disable?this.editor.disabled():this.editor.enabled()),e.showToolbar!==this.props.showToolbar&&(!0===this.props.showToolbar?this.editor.toolbar.show():this.editor.toolbar.hide()),e.enableToolbar!==this.props.enableToolbar&&(!0===this.props.enableToolbar?this.editor.toolbar.enabled():this.editor.toolbar.disabled()),e.show!==this.props.show&&(!0===this.props.show?this.editor.show():this.editor.hide()),e.hide!==this.props.hide&&(!0===this.props.hide?this.editor.hide():this.editor.show())}},{key:"componentWillUnmount",value:function(){this.editor&&this.editor.destroy()}},{key:"render",value:function(){var e={};return this.props.name&&(e.name=this.props.name),c.a.createElement("textarea",E({ref:this.txtArea},e))}}])&&L(t.prototype,i),n&&L(t,n),l}(a.Component);B.propTypes={imageUploadHandler:A.a.func,toggleCodeView:A.a.func,toggleFullScreen:A.a.func,showInline:A.a.func,showController:A.a.func,onChange:A.a.func,onScroll:A.a.func,onClick:A.a.func,onKeyUp:A.a.func,onKeyDown:A.a.func,onInput:A.a.func,onDrop:A.a.func,onBlur:A.a.func,onFocus:A.a.func,onLoad:A.a.func,onCut:A.a.func,onCopy:A.a.func,onPaste:A.a.func,onImageUploadBefore:A.a.func,onImageUpload:A.a.func,onImageUploadError:A.a.func,onVideoUploadBefore:A.a.func,onAudioUploadBefore:A.a.func,onVideoUpload:A.a.func,onMouseDown:A.a.func,onAudioUpload:A.a.func,onVideoUploadError:A.a.func,onAudioUploadError:A.a.func,setOptions:A.a.object,setContents:A.a.string,name:A.a.string,appendContents:A.a.string,setDefaultStyle:A.a.string,enable:A.a.bool,showToolbar:A.a.bool,enableToolbar:A.a.bool,disable:A.a.bool,hide:A.a.bool,show:A.a.bool,autoFocus:A.a.bool,placeholder:A.a.string,lang:A.a.oneOfType([A.a.object,A.a.string]),width:A.a.oneOfType([A.a.number,A.a.string]),height:A.a.oneOfType([A.a.number,A.a.string])};var I=B;t.default=I}])},2293:function(e,t,i){"use strict";var n,o;n="undefined"!==typeof window?window:this,o=function(e,t){const i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(e){const t=e.context;t.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let i=e.util.createElement("DIV");i.className="se-file-browser sun-editor-common";let n=e.util.createElement("DIV");n.className="se-file-browser-back";let o=e.util.createElement("DIV");o.className="se-file-browser-inner",o.innerHTML=this.set_browser(e),i.appendChild(n),i.appendChild(o),this._loading=i.querySelector(".se-loading-box"),t.fileBrowser.area=i,t.fileBrowser.header=o.querySelector(".se-file-browser-header"),t.fileBrowser.titleArea=o.querySelector(".se-file-browser-title"),t.fileBrowser.tagArea=o.querySelector(".se-file-browser-tags"),t.fileBrowser.body=o.querySelector(".se-file-browser-body"),t.fileBrowser.list=o.querySelector(".se-file-browser-list"),t.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(e)),t.fileBrowser.list.addEventListener("click",this.onClickFile.bind(e)),o.addEventListener("mousedown",this._onMouseDown_browser.bind(e)),o.addEventListener("click",this._onClick_browser.bind(e)),t.element.relative.appendChild(i),i=null,n=null,o=null},set_browser:function(e){return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" aria-label="Close" title="'+e.lang.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(e){/se-file-browser-inner/.test(e.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(e){e.stopPropagation(),(/close/.test(e.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(e,t){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const i=this.context.fileBrowser;i.contextPlugin=e,i.selectorHandler=t;const n=this.context[e],o=n.listClass;this.util.hasClass(i.list,o)||(i.list.className="se-file-browser-list "+o),"full"===this.context.option.popupDisplay?i.area.style.position="fixed":i.area.style.position="absolute",i.titleArea.textContent=n.title,i.area.style.display="block",this.plugins.fileBrowser._drawFileList.call(this,this.context[e].url)},_bindClose:null,close:function(){const e=this.plugins.fileBrowser;e._xmlHttp&&e._xmlHttp.abort(),e._bindClose&&(this._d.removeEventListener("keydown",e._bindClose),e._bindClose=null);const t=this.context.fileBrowser;t.area.style.display="none",t.selectorHandler=null,t.selectedTags=[],t.items=[],t.list.innerHTML=t.tagArea.innerHTML=t.titleArea.textContent="","function"===typeof this.plugins[t.contextPlugin].init&&this.plugins[t.contextPlugin].init.call(this),t.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(e){const t=this.plugins.fileBrowser,i=t._xmlHttp=this.util.getXMLHttpRequest();i.onreadystatechange=t._callBackGet.bind(this,i),i.open("get",e,!0),i.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(e){if(4===e.readyState)if(this.plugins.fileBrowser._xmlHttp=null,200===e.status)try{this.plugins.fileBrowser._drawListItem.call(this,JSON.parse(e.responseText).result,!0)}catch(t){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+t.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),0!==e.status){const t=e.responseText?JSON.parse(e.responseText):e,i="[SUNEDITOR.fileBrowser.get.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw Error(i)}},_drawListItem:function(e,t){const i=this.context.fileBrowser,n=this.context[i.contextPlugin],o=[],l=e.length,s=n.columnSize||i.columnSize,r=s<=1?1:Math.round(l/s)||1,a=n.itemTemplateHandler;let c="",u='<div class="se-file-item-column">',d=1;for(let h,p,f=0;f<l;f++)if(h=e[f],p=h.tag?"string"===typeof h.tag?h.tag.split(","):h.tag:[],p=h.tag=p.map((function(e){return e.trim()})),u+=a(h),(f+1)%r===0&&d<s&&f+1<l&&(d++,u+='</div><div class="se-file-item-column">'),t&&p.length>0)for(let e,t=0,i=p.length;t<i;t++)e=p[t],e&&-1===o.indexOf(e)&&(o.push(e),c+='<a title="'+e+'">'+e+"</a>");u+="</div>",i.list.innerHTML=u,t&&(i.items=e,i.tagArea.innerHTML=c,i.tagElements=i.tagArea.querySelectorAll("A"))},onClickTag:function(e){const t=e.target;if(!this.util.isAnchor(t))return;const i=t.textContent,n=this.plugins.fileBrowser,o=this.context.fileBrowser,l=o.tagArea.querySelector('a[title="'+i+'"]'),s=o.selectedTags,r=s.indexOf(i);r>-1?(s.splice(r,1),this.util.removeClass(l,"on")):(s.push(i),this.util.addClass(l,"on")),n._drawListItem.call(this,0===s.length?o.items:o.items.filter((function(e){return e.tag.some((function(e){return s.indexOf(e)>-1}))})),!1)},onClickFile:function(e){e.preventDefault(),e.stopPropagation();const t=this.context.fileBrowser,i=t.list;let n=e.target,o=null;if(n===i)return;for(;i!==n.parentNode&&(o=n.getAttribute("data-command"),!o);)n=n.parentNode;if(!o)return;const l=t.selectorHandler||this.context[t.contextPlugin].selectorHandler;this.plugins.fileBrowser.close.call(this),l(n)}};return"undefined"===typeof t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"===typeof e.exports?e.exports=n.document?o(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return o(e)}:o(n)},2294:function(e,t,i){var n=i(2295);"string"===typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(113)(n,o);n.locals&&(e.exports=n.locals)},2295:function(e,t,i){(e.exports=i(112)(!1)).push([e.i,'.sun-editor{width:auto;height:auto;box-sizing:border-box;font-family:Helvetica Neue,sans-serif;border:1px solid #dadada;text-align:left;background-color:#fff;color:#000;user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none}.sun-editor *{box-sizing:border-box;-webkit-user-drag:none;overflow:visible}.sun-editor-common button,.sun-editor-common input,.sun-editor-common select,.sun-editor-common textarea{font-size:14px;line-height:1.5}.sun-editor-common blockquote,.sun-editor-common body,.sun-editor-common button,.sun-editor-common code,.sun-editor-common dd,.sun-editor-common div,.sun-editor-common dl,.sun-editor-common dt,.sun-editor-common fieldset,.sun-editor-common form,.sun-editor-common h1,.sun-editor-common h2,.sun-editor-common h3,.sun-editor-common h4,.sun-editor-common h5,.sun-editor-common h6,.sun-editor-common input,.sun-editor-common legend,.sun-editor-common li,.sun-editor-common ol,.sun-editor-common p,.sun-editor-common pre,.sun-editor-common select,.sun-editor-common td,.sun-editor-common textarea,.sun-editor-common th,.sun-editor-common ul{margin:0;padding:0;border:0}.sun-editor-common dl,.sun-editor-common li,.sun-editor-common menu,.sun-editor-common ol,.sun-editor-common ul{list-style:none!important}.sun-editor-common hr{margin:6px 0!important}.sun-editor textarea{resize:none;border:0;padding:0}.sun-editor button{border:0;background-color:transparent;touch-action:manipulation;cursor:pointer;outline:none}.sun-editor button,.sun-editor input,.sun-editor select,.sun-editor textarea{vertical-align:middle}.sun-editor button span{display:block;margin:0;padding:0}.sun-editor button .txt{display:block;margin-top:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sun-editor button *{pointer-events:none;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.sun-editor .se-svg,.sun-editor button>svg{width:16px;height:16px;margin:auto;fill:currentColor;display:block;text-align:center;float:none}.sun-editor .close>svg,.sun-editor .se-dialog-close>svg{width:10px;height:10px}.sun-editor .se-btn-select>svg{float:right;width:10px;height:10px}.sun-editor .se-btn-list>.se-list-icon{display:inline-block;width:16px;height:16px;margin:-1px 10px 0 0;vertical-align:middle}.sun-editor .se-line-breaker>button>svg{width:24px;height:24px}.sun-editor button>i:before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-variant:normal;text-rendering:auto;font-size:15px;line-height:2}.sun-editor button>[class=se-icon-text]{font-size:20px;line-height:1}.sun-editor .se-arrow,.sun-editor .se-arrow:after{position:absolute;display:block;width:0;height:0;border:11px solid transparent}.sun-editor .se-arrow.se-arrow-up{top:-11px;left:20px;margin-left:-11px;border-top-width:0;border-bottom-color:rgba(0,0,0,.25)}.sun-editor .se-arrow.se-arrow-up:after{top:1px;margin-left:-11px;content:" ";border-top-width:0;border-bottom-color:#fff}.sun-editor .se-toolbar .se-arrow.se-arrow-up:after{border-bottom-color:#fafafa}.sun-editor .se-arrow.se-arrow-down{top:0;left:0;margin-left:-11px;border-bottom-width:0;border-top-color:rgba(0,0,0,.25)}.sun-editor .se-arrow.se-arrow-down:after{top:-12px;margin-left:-11px;content:" ";border-bottom-width:0;border-top-color:#fff}.sun-editor .se-toolbar .se-arrow.se-arrow-down:after{border-top-color:#fafafa}.sun-editor .se-container{position:relative;width:100%;height:100%}.sun-editor button{color:#000}.sun-editor .se-btn{float:left;width:34px;height:34px;border:0;border-radius:4px;margin:1px!important;padding:0;font-size:12px;line-height:27px}.sun-editor .se-btn:enabled:focus,.sun-editor .se-btn:enabled:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn:enabled:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-btn-primary{color:#000;background-color:#c7deff;border:1px solid #80bdff;border-radius:4px}.sun-editor .se-btn-primary:focus,.sun-editor .se-btn-primary:hover{color:#000;background-color:#80bdff;border-color:#3f9dff;outline:0 none}.sun-editor .se-btn-primary:active{color:#fff;background-color:#3f9dff;border-color:#4592ff;-webkit-box-shadow:inset 0 3px 5px #4592ff;box-shadow:inset 0 3px 5px #4592ff}.sun-editor input,.sun-editor select,.sun-editor textarea{color:#000;border:1px solid #ccc;border-radius:4px}.sun-editor input:focus,.sun-editor select:focus,.sun-editor textarea:focus{border:1px solid #80bdff;outline:0;-webkit-box-shadow:0 0 0 .2rem #c7deff;box-shadow:0 0 0 .2rem #c7deff;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.sun-editor .se-btn:enabled.active{color:#4592ff;outline:0 none}.sun-editor .se-btn:enabled.active:focus,.sun-editor .se-btn:enabled.active:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn:enabled.active:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-btn:enabled.on{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn:enabled.on:focus,.sun-editor .se-btn:enabled.on:hover{background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-btn:enabled.on:active{background-color:#c1c1c1;border-color:#b1b1b1;-webkit-box-shadow:inset 0 3px 5px #b1b1b1;box-shadow:inset 0 3px 5px #b1b1b1}.sun-editor .se-btn-list:disabled,.sun-editor .se-btn:disabled,.sun-editor button:disabled{cursor:not-allowed;background-color:inherit;color:#bdbdbd}.sun-editor .se-loading-box{position:absolute;display:none;width:100%;height:100%;top:0;left:0;background-color:#fff;opacity:.7;filter:alpha(opacity=70);z-index:2147483647}.sun-editor .se-loading-box .se-loading-effect{position:absolute;display:block;top:50%;left:50%;height:25px;width:25px;border-top:2px solid #07d;border-right:2px solid transparent;border-radius:50%;animation:spinner .8s linear infinite;margin:-25px 0 0 -25px}.sun-editor .se-line-breaker{position:absolute;display:none;width:100%;height:1px;cursor:text;border-top:1px solid #3288ff;z-index:7}.sun-editor .se-line-breaker>button.se-btn{position:relative;display:inline-block;width:30px;height:30px;top:-15px;float:none;left:-50%;background-color:#fff;border:1px solid #0c2240;opacity:.6;cursor:pointer}.sun-editor .se-line-breaker>button.se-btn:hover{opacity:.9;background-color:#fff;border-color:#041b39}.sun-editor .se-line-breaker-component{position:absolute;display:none;width:24px;height:24px;background-color:#fff;border:1px solid #0c2240;opacity:.6;border-radius:4px;cursor:pointer;z-index:7}.sun-editor .se-line-breaker-component:hover{opacity:.9}.sun-editor .se-toolbar{display:block;position:relative;height:auto;width:100%;overflow:visible;padding:4px 3px 0;margin:0;background-color:#fafafa;outline:1px solid #dadada;z-index:5}.sun-editor .se-toolbar-cover{position:absolute;display:none;font-size:36px;width:100%;height:100%;top:0;left:0;background-color:#fefefe;opacity:.5;filter:alpha(opacity=50);cursor:not-allowed;z-index:4}.sun-editor .se-toolbar-separator-vertical{display:inline-block;height:0;width:0;margin:1px;vertical-align:top}.sun-editor .se-toolbar.se-toolbar-balloon,.sun-editor .se-toolbar.se-toolbar-inline{display:none;position:absolute;z-index:2147483647;box-shadow:0 3px 9px rgba(0,0,0,.5);-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5)}.sun-editor .se-toolbar.se-toolbar-balloon{width:auto}.sun-editor .se-toolbar.se-toolbar-sticky{position:fixed;top:0}.sun-editor .se-toolbar-sticky-dummy{display:none;position:static;z-index:-1}.sun-editor .se-btn-module{display:inline-block}.sun-editor .se-btn-module-border{border:1px solid #dadada;border-radius:4px}.sun-editor .se-btn-module-enter{display:block;width:100%;height:1px;margin-bottom:5px;background-color:transparent}.sun-editor .se-toolbar-more-layer{margin:0 -3px;background-color:#f3f3f3}.sun-editor .se-toolbar-more-layer .se-more-layer{display:none;border-top:1px solid #dadada}.sun-editor .se-toolbar-more-layer .se-more-layer .se-more-form{display:inline-block;width:100%;height:auto;padding:4px 3px 0}.sun-editor .se-btn-module .se-btn-more.se-btn-more-text{width:auto;padding:0 4px}.sun-editor .se-btn-module .se-btn-more:focus,.sun-editor .se-btn-module .se-btn-more:hover{color:#000;background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-btn-module .se-btn-more.on{color:#333;background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-btn-module .se-btn-more.on:hover{color:#000;background-color:#c1c1c1;border-color:#b1b1b1;outline:0 none}.sun-editor .se-menu-list,.sun-editor .se-menu-list li{float:left;padding:0;margin:0}.sun-editor .se-menu-list li{position:relative}.sun-editor .se-btn-select{width:auto;display:flex;text-align:left;padding:4px 6px}.sun-editor .se-btn-select .txt{flex:auto;float:left;text-align:left}.sun-editor .se-btn-select.se-btn-tool-font{width:100px}.sun-editor .se-btn-select.se-btn-tool-format,.sun-editor .se-btn-select.se-btn-tool-size{width:80px}.sun-editor .se-btn-tray{position:relative;width:100%;height:100%;margin:0;padding:0}.sun-editor .se-menu-tray{position:absolute;top:0;left:0;width:100%;height:0}.sun-editor .se-submenu{overflow-x:hidden;overflow-y:auto}.sun-editor .se-list-layer{display:none;position:absolute;top:0;left:0;height:auto;z-index:5;border:1px solid #bababa;border-radius:4px;padding:6px 0;background-color:#fff;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0 none}.sun-editor .se-list-layer .se-list-inner{padding:0;margin:0;overflow-x:initial;overflow-y:initial;overflow:visible}.sun-editor .se-list-layer button{margin:0;width:100%}.sun-editor .se-list-inner .se-list-basic{width:100%;padding:0}.sun-editor .se-list-inner .se-list-basic li{width:100%}.sun-editor .se-list-inner .se-list-basic li>button{min-width:100%;width:max-content}.sun-editor .se-list-inner .se-list-basic li button.active{background-color:#80bdff;border:1px solid #3f9dff;border-left:0;border-right:0}.sun-editor .se-list-inner .se-list-basic li button.active:hover{background-color:#3f9dff;border:1px solid #4592ff;border-left:0;border-right:0}.sun-editor .se-list-inner .se-list-basic li button.active:active{background-color:#4592ff;border:1px solid #407dd1;border-left:0;border-right:0;-webkit-box-shadow:inset 0 3px 5px #407dd1;box-shadow:inset 0 3px 5px #407dd1}.sun-editor .se-btn-list{width:100%;height:auto;min-height:32px;padding:0 14px;cursor:pointer;font-size:12px;line-height:normal;text-indent:0;text-decoration:none;text-align:left}.sun-editor .se-btn-list.default_value{background-color:#f3f3f3;border-top:1px dotted #b1b1b1;border-bottom:1px dotted #b1b1b1}.sun-editor .se-btn-list:focus,.sun-editor .se-btn-list:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn-list:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-list-layer.se-list-font-size{min-width:140px;max-height:300px}.sun-editor .se-list-layer.se-list-font-family{min-width:156px}.sun-editor .se-list-layer.se-list-font-family .default{border-bottom:1px solid #ccc}.sun-editor .se-list-layer.se-list-line{width:125px}.sun-editor .se-list-layer.se-list-align .se-list-inner{left:9px;width:125px}.sun-editor .se-list-layer.se-list-format{min-width:156px}.sun-editor .se-list-layer.se-list-format li{padding:0;width:100%}.sun-editor .se-list-layer.se-list-format ul .se-btn-list{line-height:100%}.sun-editor .se-list-layer.se-list-format ul .se-btn-list[data-value=h1]{height:40px}.sun-editor .se-list-layer.se-list-format ul .se-btn-list[data-value=h2]{height:34px}.sun-editor .se-list-layer.se-list-format ul p{font-size:13px}.sun-editor .se-list-layer.se-list-format ul div{font-size:13px;padding:4px 2px}.sun-editor .se-list-layer.se-list-format ul h1{font-size:2em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h2{font-size:1.5em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h3{font-size:1.17em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h4{font-size:1em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h5{font-size:.83em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h6{font-size:.67em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul blockquote{font-size:13px;color:#999;height:22px;margin:0;background-color:transparent;line-height:1.5;border-color:#b1b1b1;padding:0 0 0 7px;border-left:5px #b1b1b1;border-style:solid}.sun-editor .se-list-layer.se-list-format ul pre{font-size:13px;color:#666;padding:4px 11px;margin:0;background-color:#f9f9f9;border:1px solid #e1e1e1;border-radius:4px}.sun-editor .se-selector-table{display:none;position:absolute;top:34px;left:1px;z-index:5;padding:5px 0;float:left;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.sun-editor .se-selector-table .se-table-size{font-size:18px;padding:0 5px}.sun-editor .se-selector-table .se-table-size-picker{position:absolute!important;z-index:3;font-size:18px;width:10em;height:10em;cursor:pointer}.sun-editor .se-selector-table .se-table-size-highlighted{position:absolute!important;z-index:2;font-size:18px;width:1em;height:1em;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4QTZCNzMzN0I3RUYxMUU4ODcwQ0QwMjM1NTgzRTJDNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4QTZCNzMzNkI3RUYxMUU4ODcwQ0QwMjM1NTgzRTJDNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MzYyNEUxRUI3RUUxMUU4ODZGQzgwRjNBODgyNTdFOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MzYyNEUxRkI3RUUxMUU4ODZGQzgwRjNBODgyNTdFOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl0yAuwAAABBSURBVDhPY/wPBAxUAGCDGvdBeWSAeicIDTfIXREiQArYeR9hEBOEohyMGkQYjBpEGAxjg6ib+yFMygCVvMbAAABj0hwMTNeKJwAAAABJRU5ErkJggg==") repeat}.sun-editor .se-selector-table .se-table-size-unhighlighted{position:relative!important;z-index:1;font-size:18px;width:10em;height:10em;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASAgMAAAAroGbEAAAACVBMVEUAAIj4+Pjp6ekKlAqjAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfYAR0BKhmnaJzPAAAAG0lEQVQI12NgAAOtVatWMTCohoaGUY+EmIkEAEruEzK2J7tvAAAAAElFTkSuQmCC") repeat}.sun-editor .se-selector-table .se-table-size-display{padding-left:5px}.sun-editor .se-list-layer .se-selector-color{display:flex;width:max-content;max-width:270px;height:auto;padding:0;margin:auto}.sun-editor .se-list-layer .se-selector-color .se-color-pallet{width:100%;height:100%;padding:0}.sun-editor .se-list-layer .se-selector-color .se-color-pallet li{display:flex;float:left;position:relative;margin:0}.sun-editor .se-list-layer .se-selector-color .se-color-pallet button{display:block;cursor:default;width:30px;height:30px;text-indent:-9999px}.sun-editor .se-list-layer .se-selector-color .se-color-pallet button.active,.sun-editor .se-list-layer .se-selector-color .se-color-pallet button:focus,.sun-editor .se-list-layer .se-selector-color .se-color-pallet button:hover{border:3px solid #fff}.sun-editor .se-submenu-form-group{display:flex;width:100%;height:auto;padding:4px}.sun-editor .se-submenu-form-group input{flex:auto;display:inline-block;width:auto;height:33px;color:#555;font-size:12px;margin:1px 0;padding:0;border-radius:.25rem;border:1px solid #ccc}.sun-editor .se-submenu-form-group button{float:right;width:34px;height:34px;margin:0 0 0 4px!important}.sun-editor .se-submenu-form-group button.se-btn{border:1px solid #ccc}.sun-editor .se-submenu-form-group>div{position:relative}.sun-editor .se-submenu-form-group .se-color-input{width:72px;text-transform:uppercase;border:none;border-bottom:2px solid #b1b1b1;outline:none}.sun-editor .se-submenu-form-group .se-color-input:focus{border-bottom:3px solid #b1b1b1}.sun-editor .se-wrapper{position:relative!important;width:100%;height:auto;overflow:hidden;z-index:1}.sun-editor .se-wrapper .se-wrapper-inner{width:100%;height:100%;min-height:65px;overflow-y:auto;overflow-x:auto;-webkit-overflow-scrolling:touch;user-select:text;-o-user-select:text;-moz-user-select:text;-khtml-user-select:text;-webkit-user-select:text;-ms-user-select:text}.sun-editor .se-wrapper .se-wrapper-inner:focus{outline:none}.sun-editor .se-wrapper .se-wrapper-code{background-color:#191919;color:#fff;font-size:13px;word-break:break-all;padding:4px;margin:0;resize:none!important}.sun-editor .se-wrapper .se-wrapper-wysiwyg{background-color:#fff;display:block}.sun-editor .se-wrapper .se-wrapper-code-mirror{font-size:13px}.sun-editor .se-wrapper .se-placeholder{position:absolute;display:none;white-space:nowrap;text-overflow:ellipsis;z-index:1;color:#b1b1b1;font-size:13px;line-height:1.5;top:0;left:0;right:0;overflow:hidden;margin-top:0;padding-top:16px;padding-left:16px;margin-left:0;padding-right:16px;margin-right:0;pointer-events:none;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.sun-editor .se-resizing-bar{display:flex;width:auto;height:auto;min-height:16px;border-top:1px solid #dadada;padding:0 4px;background-color:#fafafa;cursor:ns-resize}.sun-editor .se-resizing-bar.se-resizing-none{cursor:default}.sun-editor .se-resizing-back{position:absolute;display:none;cursor:default;top:0;left:0;width:100%;height:100%;z-index:2147483647}.sun-editor .se-resizing-bar .se-navigation{flex:auto;position:relative;width:auto;height:auto;color:#666;margin:0;padding:0;font-size:10px;font-weight:700;line-height:1.5;background:transparent}.sun-editor .se-resizing-bar .se-char-counter-wrapper{flex:none;position:relative;display:block;width:auto;height:auto;margin:0;padding:0;color:#999;font-size:13px;background:transparent}.sun-editor .se-resizing-bar .se-char-counter-wrapper.se-blink{color:#b94a48;animation:blinker .2s linear infinite}.sun-editor .se-resizing-bar .se-char-counter-wrapper .se-char-label{margin-right:4px}.sun-editor .se-dialog{position:absolute;display:none;top:0;left:0;width:100%;height:100%;z-index:2147483647}.sun-editor .se-dialog button,.sun-editor .se-dialog input,.sun-editor .se-dialog label{font-size:14px;line-height:1.5;color:#111;margin:0}.sun-editor .se-dialog .se-dialog-back{background-color:#222;opacity:.5}.sun-editor .se-dialog .se-dialog-back,.sun-editor .se-dialog .se-dialog-inner{position:absolute;width:100%;height:100%;top:0;left:0}.sun-editor .se-dialog .se-dialog-inner .se-dialog-content{position:relative;width:auto;max-width:500px;margin:20px auto;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:4px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}@media screen and (max-width:509px){.sun-editor .se-dialog .se-dialog-inner .se-dialog-content{width:100%}}.sun-editor .se-dialog .se-dialog-inner .se-dialog-content label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}.sun-editor .se-dialog .se-dialog-inner .se-dialog-content .se-btn-primary{display:inline-block;padding:6px 12px;margin:0 0 10px!important;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;border-radius:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-header{height:50px;padding:6px 15px;border-bottom:1px solid #e5e5e5}.sun-editor .se-dialog .se-dialog-inner .se-dialog-header .se-dialog-close{float:right;font-weight:700;text-shadow:0 1px 0 #fff;-webkit-appearance:none;filter:alpha(opacity=100);opacity:1}.sun-editor .se-dialog .se-dialog-inner .se-dialog-header .se-modal-title{font-size:14px;font-weight:700;margin:0;padding:0;line-height:2.5}.sun-editor .se-dialog .se-dialog-inner .se-dialog-body{position:relative;padding:15px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form{margin-bottom:10px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form-footer{margin-top:10px;margin-bottom:0}.sun-editor .se-dialog .se-dialog-inner input:disabled{background-color:#f3f3f3}.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-text{width:100%}.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-text .size-h,.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-text .size-w{width:70px;text-align:center}.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-x{margin:0 8px;width:25px;text-align:center}.sun-editor .se-dialog .se-dialog-inner .se-dialog-footer{padding:10px 15px 0;text-align:right;border-top:1px solid #e5e5e5}.sun-editor .se-dialog .se-dialog-inner .se-dialog-footer>div{float:left}.sun-editor .se-dialog .se-dialog-inner .se-dialog-footer>div>label{margin-top:5px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-radio{margin-left:12px;margin-right:6px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-check{margin-left:12px;margin-right:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form-footer .se-dialog-btn-check{margin-left:0;margin-right:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files{position:relative;display:flex;align-items:center}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files>input{flex:auto}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button{flex:auto;opacity:.8;border:1px solid #ccc}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button.se-file-remove>svg{width:8px;height:8px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button:hover{background-color:#f0f0f0;outline:0 none}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button:active{background-color:#e9e9e9;-webkit-box-shadow:inset 0 3px 5px #d6d6d6;box-shadow:inset 0 3px 5px #d6d6d6}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-select{display:inline-block;width:auto;height:34px;font-size:14px;text-align:center;line-height:1.42857143}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-control{display:inline-block;width:70px;height:34px;font-size:14px;text-align:center;line-height:1.42857143}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form{display:block;width:100%;height:34px;font-size:14px;line-height:1.42857143;padding:0 4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form.se-input-url:disabled{text-decoration:line-through;color:#999}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-video-ratio{width:70px;margin-left:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form a{color:#004cff}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-revert{border:1px solid #ccc}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-revert:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-revert:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-dialog-tabs{width:100%;height:25px;border-bottom:1px solid #e5e5e5}.sun-editor .se-dialog-tabs button{background-color:#e5e5e5;border-right:1px solid #e5e5e5;float:left;outline:none;padding:2px 13px;transition:.3s}.sun-editor .se-dialog-tabs button:hover{background-color:#fff}.sun-editor .se-dialog-tabs button.active{background-color:#fff;border-bottom:0}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form.se-math-exp{resize:vertical;height:4rem;border:1px solid #ccc;font-size:13px;padding:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-select.se-math-size{width:6em;height:28px;margin-left:1em}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview{font-size:13px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview>span{display:inline-block;-webkit-box-shadow:0 0 0 .1rem #c7deff;box-shadow:0 0 0 .1rem #c7deff}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-link-preview{display:block;height:auto;max-height:18px;margin:4px 0 0 4px;font-size:13px;font-weight:400;font-family:inherit;color:#666;background-color:transparent;overflow:hidden;text-overflow:ellipsis;word-break:break-all;white-space:pre}.sun-editor .se-controller .se-arrow.se-arrow-up{border-bottom-color:rgba(0,0,0,.25)}.sun-editor .se-controller{position:absolute;display:none;overflow:visible;z-index:6;border:1px solid rgba(0,0,0,.25);border-radius:4px;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);line-break:auto}.sun-editor .se-controller .se-btn-group{position:relative;display:flex;vertical-align:middle;padding:2px;top:0;left:0}.sun-editor .se-controller .se-btn-group .se-btn-group-sub{left:50%;min-width:auto;width:max-content;display:none}.sun-editor .se-controller .se-btn-group .se-btn-group-sub button{margin:0;min-width:72px}.sun-editor .se-controller .se-btn-group button{position:relative;min-height:34px;height:auto;border:none;border-radius:4px;margin:1px;padding:5px 10px;font-size:12px;line-height:1.5;display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation}.sun-editor .se-controller .se-btn-group button:focus:enabled,.sun-editor .se-controller .se-btn-group button:hover:enabled{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-controller .se-btn-group button:active:enabled{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-controller .se-btn-group button span{display:block;padding:0;margin:0}.sun-editor .se-controller .se-btn-group button:enabled.active{color:#4592ff;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.active:focus,.sun-editor .se-controller .se-btn-group button:enabled.active:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.active:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-controller .se-btn-group button:enabled.on{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.on:focus,.sun-editor .se-controller .se-btn-group button:enabled.on:hover{background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.on:active{background-color:#c1c1c1;border-color:#b1b1b1;-webkit-box-shadow:inset 0 3px 5px #b1b1b1;box-shadow:inset 0 3px 5px #b1b1b1}.sun-editor .se-controller-resizing{margin-top:-50px!important;padding:0;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143}.sun-editor .se-controller-resizing .se-btn-group .se-btn-group-sub.se-resizing-align-list{left:57px;width:74px}.sun-editor .se-resizing-container{position:absolute;display:none;outline:1px solid #3f9dff;background-color:transparent}.sun-editor .se-resizing-container .se-modal-resize{position:absolute;display:inline-block;background-color:#3f9dff;opacity:.3}.sun-editor .se-resizing-container .se-resize-dot{position:absolute;top:0;left:0;width:100%;height:100%}.sun-editor .se-resizing-container .se-resize-dot>span{position:absolute;width:7px;height:7px;background-color:#3f9dff;border:1px solid #4592ff}.sun-editor .se-resizing-container .se-resize-dot>span.tl{top:-5px;left:-5px;cursor:nw-resize}.sun-editor .se-resizing-container .se-resize-dot>span.tr{top:-5px;right:-5px;cursor:ne-resize}.sun-editor .se-resizing-container .se-resize-dot>span.bl{bottom:-5px;left:-5px;cursor:sw-resize}.sun-editor .se-resizing-container .se-resize-dot>span.br{right:-5px;bottom:-5px;cursor:se-resize}.sun-editor .se-resizing-container .se-resize-dot>span.lw{left:-7px;bottom:50%;cursor:w-resize}.sun-editor .se-resizing-container .se-resize-dot>span.th{left:50%;top:-7px;cursor:n-resize}.sun-editor .se-resizing-container .se-resize-dot>span.rw{right:-7px;bottom:50%;cursor:e-resize}.sun-editor .se-resizing-container .se-resize-dot>span.bh{right:50%;bottom:-7px;cursor:s-resize}.sun-editor .se-resizing-container .se-resize-display{position:absolute;right:0;bottom:0;padding:5px;margin:5px;font-size:12px;color:#fff;background-color:#333;border-radius:4px}.sun-editor .se-controller-table,.sun-editor .se-controller-table-cell{width:auto}.sun-editor .se-controller-link,.sun-editor .se-controller-table,.sun-editor .se-controller-table-cell{padding:0;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143}.sun-editor .se-controller-link:after,.sun-editor .se-controller-link:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.sun-editor .se-controller-link .link-content{padding:0;margin:0}.sun-editor .se-controller-link .link-content a{display:inline-block;color:#4592ff;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;margin-left:5px}.sun-editor .se-file-browser{position:absolute;display:none;top:0;left:0;width:100%;height:100%;z-index:2147483647}.sun-editor .se-file-browser button,.sun-editor .se-file-browser input,.sun-editor .se-file-browser label{font-size:14px;line-height:1.5;color:#111;margin:0}.sun-editor .se-file-browser .se-file-browser-back{background-color:#222;opacity:.5}.sun-editor .se-file-browser .se-file-browser-back,.sun-editor .se-file-browser .se-file-browser-inner{position:absolute;display:block;width:100%;height:100%;top:0;left:0}.sun-editor .se-file-browser .se-file-browser-inner .se-file-browser-content{position:relative;width:960px;max-width:100%;margin:20px auto;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:4px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}.sun-editor .se-file-browser .se-file-browser-header{height:auto;min-height:50px;padding:6px 15px;border-bottom:1px solid #e5e5e5}.sun-editor .se-file-browser .se-file-browser-header .se-file-browser-close{float:right;font-weight:700;text-shadow:0 1px 0 #fff;-webkit-appearance:none;filter:alpha(opacity=100);opacity:1}.sun-editor .se-file-browser .se-file-browser-header .se-file-browser-close>svg{width:12px;height:12px}.sun-editor .se-file-browser .se-file-browser-header .se-file-browser-title{font-size:16px;font-weight:700;margin:0;padding:0;line-height:2.2}.sun-editor .se-file-browser .se-file-browser-tags{display:block;width:100%;padding:0;text-align:left;margin:0 -15px}.sun-editor .se-file-browser .se-file-browser-tags a{display:inline-block;background-color:#f5f5f5;padding:6px 12px;margin:8px 0 8px 8px;color:#333;text-decoration:none;border-radius:32px;-moz-border-radius:32px;-webkit-border-radius:32px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;cursor:pointer}.sun-editor .se-file-browser .se-file-browser-tags a:hover{background-color:#e1e1e1}.sun-editor .se-file-browser .se-file-browser-tags a:active{background-color:#d1d1d1}.sun-editor .se-file-browser .se-file-browser-tags a.on{background-color:#ebf3fe;color:#4592ff}.sun-editor .se-file-browser .se-file-browser-tags a.on:hover{background-color:#d8e8fe}.sun-editor .se-file-browser .se-file-browser-tags a.on:active{background-color:#c7deff}.sun-editor .se-file-browser .se-file-browser-body{position:relative;height:auto;min-height:350px;padding:20px;overflow-y:auto}.sun-editor .se-file-browser .se-file-browser-body .se-file-browser-list{position:relative;width:100%}@media screen and (max-width:992px){.sun-editor .se-file-browser .se-file-browser-inner .se-file-browser-content{width:748px}}@media screen and (max-width:768px){.sun-editor .se-file-browser .se-file-browser-inner .se-file-browser-content{width:600px}}.sun-editor .se-file-browser .se-file-browser-list .se-file-item-column{position:relative;display:block;height:auto;float:left}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-column{width:calc(25% - 20px);margin:0 10px}@media screen and (max-width:992px){.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-column{width:calc(33% - 20px)}}@media screen and (max-width:768px){.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-column{width:calc(50% - 20px)}}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img{position:relative;display:block;cursor:pointer;width:100%;height:auto;border-radius:4px;outline:0;margin:10px 0}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img:hover{opacity:.8;-webkit-box-shadow:0 0 0 .2rem #3288ff;box-shadow:0 0 0 .2rem #3288ff}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img>img{position:relative;display:block;width:100%;border-radius:4px;outline:0;height:auto}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img>.se-file-img-name{position:absolute;z-index:1;font-size:13px;color:#fff;left:0;bottom:0;padding:5px 10px;background-color:transparent;width:100%;height:30px;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img>.se-file-img-name.se-file-name-back{background-color:#333;opacity:.6}.sun-editor .se-notice{position:absolute;top:0;display:none;z-index:7;width:100%;height:auto;word-break:break-all;font-size:13px;color:#b94a48;background-color:#f2dede;padding:15px;margin:0;border:1px solid #eed3d7;user-select:text;-o-user-select:text;-moz-user-select:text;-khtml-user-select:text;-webkit-user-select:text;-ms-user-select:text}.sun-editor .se-notice button{float:right;padding:7px}.sun-editor .se-tooltip{position:relative;overflow:visible}.sun-editor .se-tooltip .se-tooltip-inner{visibility:hidden;position:absolute;display:block;width:auto;top:120%;left:50%;background:transparent;opacity:0;z-index:1;line-height:1.5;transition:opacity .5s;margin:0;padding:0;bottom:auto;float:none;pointer-events:none;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.sun-editor .se-tooltip .se-tooltip-inner .se-tooltip-text{position:relative;display:inline-block;width:auto;left:-50%;font-size:.9em;margin:0;padding:4px 6px;border-radius:2px;background-color:#333;color:#fff;text-align:center;line-height:unset;white-space:nowrap;cursor:auto}.sun-editor .se-tooltip .se-tooltip-inner .se-tooltip-text:after{content:"";position:absolute;bottom:100%;left:50%;margin-left:-5px;border:5px solid transparent;border-bottom-color:#333}.sun-editor .se-tooltip:hover .se-tooltip-inner{visibility:visible;opacity:1}@keyframes blinker{50%{opacity:0}}@keyframes spinner{to{transform:rotate(361deg)}}.sun-editor-editable{font-family:Helvetica Neue,sans-serif;font-size:13px;color:#333;line-height:1.5;text-align:left;background-color:#fff;word-break:normal;word-wrap:break-word;padding:16px;margin:0}.sun-editor-editable *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;font-family:inherit;font-size:inherit;color:inherit}.sun-editor-editable audio,.sun-editor-editable figcaption,.sun-editor-editable figure,.sun-editor-editable iframe,.sun-editor-editable img,.sun-editor-editable td,.sun-editor-editable th,.sun-editor-editable video{position:relative}.sun-editor-editable .__se__float-left{float:left}.sun-editor-editable .__se__float-right{float:right}.sun-editor-editable .__se__float-center{float:center}.sun-editor-editable .__se__float-none{float:none}.sun-editor-editable :not(.se-code-language .katex) span{display:inline;vertical-align:baseline;margin:0;padding:0}.sun-editor-editable span.katex{display:inline-block}.sun-editor-editable a{color:#004cff;text-decoration:none}.sun-editor-editable span[style~="color:"] a{color:inherit}.sun-editor-editable a:focus,.sun-editor-editable a:hover{cursor:pointer;color:#0093ff;text-decoration:underline}.sun-editor-editable pre{display:block;padding:8px;margin:0 0 10px;font-family:monospace;color:#666;line-height:1.45;background-color:#f9f9f9;border:1px solid #e1e1e1;border-radius:2px;white-space:pre-wrap;word-wrap:break-word;overflow:visible}.sun-editor-editable ol{list-style-type:decimal}.sun-editor-editable ol,.sun-editor-editable ul{display:block;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0;margin-inline-end:0;padding-inline-start:40px}.sun-editor-editable ul{list-style-type:disc}.sun-editor-editable li{display:list-item;text-align:-webkit-match-parent;margin-bottom:5px}.sun-editor-editable ol ol,.sun-editor-editable ol ul,.sun-editor-editable ul ol,.sun-editor-editable ul ul{margin:0}.sun-editor-editable ol ol,.sun-editor-editable ul ol{list-style-type:lower-alpha}.sun-editor-editable ol ol ol,.sun-editor-editable ul ol ol,.sun-editor-editable ul ul ol{list-style-type:upper-roman}.sun-editor-editable ol ul,.sun-editor-editable ul ul{list-style-type:circle}.sun-editor-editable ol ol ul,.sun-editor-editable ol ul ul,.sun-editor-editable ul ul ul{list-style-type:square}.sun-editor-editable sub,.sun-editor-editable sup{font-size:75%;line-height:0}.sun-editor-editable sub{vertical-align:sub}.sun-editor-editable sup{vertical-align:super}.sun-editor-editable p{display:block;margin:0 0 10px}.sun-editor-editable div{display:block;margin:0;padding:0}.sun-editor-editable blockquote{display:block;font-family:inherit;font-size:inherit;color:#999;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0;margin-inline-end:0;padding:0 5px 0 20px;border:solid #b1b1b1;border-width:0 0 0 5px}.sun-editor-editable blockquote blockquote{border-color:#c1c1c1}.sun-editor-editable blockquote blockquote blockquote{border-color:#d1d1d1}.sun-editor-editable blockquote blockquote blockquote blockquote{border-color:#e1e1e1}.sun-editor-editable h1{font-size:2em;margin-block-start:.67em;margin-block-end:.67em}.sun-editor-editable h1,.sun-editor-editable h2{display:block;margin-inline-start:0;margin-inline-end:0;font-weight:700}.sun-editor-editable h2{font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em}.sun-editor-editable h3{font-size:1.17em;margin-block-start:1em;margin-block-end:1em}.sun-editor-editable h3,.sun-editor-editable h4{display:block;margin-inline-start:0;margin-inline-end:0;font-weight:700}.sun-editor-editable h4{font-size:1em;margin-block-start:1.33em;margin-block-end:1.33em}.sun-editor-editable h5{font-size:.83em;margin-block-start:1.67em;margin-block-end:1.67em}.sun-editor-editable h5,.sun-editor-editable h6{display:block;margin-inline-start:0;margin-inline-end:0;font-weight:700}.sun-editor-editable h6{font-size:.67em;margin-block-start:2.33em;margin-block-end:2.33em}.sun-editor-editable hr{display:flex;border-width:1px 0 0;border-color:#000;border-image:initial;height:1px}.sun-editor-editable hr.__se__solid{border-style:solid none none}.sun-editor-editable hr.__se__dotted{border-style:dotted none none}.sun-editor-editable hr.__se__dashed{border-style:dashed none none}.sun-editor-editable table{display:table;table-layout:auto;border:1px solid #ccc;width:100%;max-width:100%;margin:0 0 10px;background-color:transparent;border-spacing:0;border-collapse:collapse}.sun-editor-editable table thead{border-bottom:2px solid #333}.sun-editor-editable table tr{border:1px solid #efefef}.sun-editor-editable table th{background-color:#f3f3f3}.sun-editor-editable table td,.sun-editor-editable table th{border:1px solid #e1e1e1;padding:.4em;background-clip:padding-box}.sun-editor-editable table.se-table-size-auto{width:auto!important}.sun-editor-editable table.se-table-size-100{width:100%!important}.sun-editor-editable table.se-table-layout-auto{table-layout:auto!important}.sun-editor-editable table.se-table-layout-fixed{table-layout:fixed!important}.sun-editor-editable table td.se-table-selected-cell,.sun-editor-editable table th.se-table-selected-cell{border:1px double #4592ff;background-color:#f1f7ff}.sun-editor-editable.se-disabled *{user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none}.sun-editor-editable .se-component{display:flex;padding:1px;margin:0 0 10px}.sun-editor-editable .se-component.__se__float-left{margin:0 20px 10px 0}.sun-editor-editable .se-component.__se__float-right{margin:0 0 10px 20px}.sun-editor-editable[contenteditable=true] .se-component{outline:1px dashed #e1e1e1}.sun-editor-editable[contenteditable=true] .se-component.se-component-copy{-webkit-box-shadow:0 0 0 .2rem #80bdff;box-shadow:0 0 0 .2rem #3f9dff;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.sun-editor-editable audio,.sun-editor-editable iframe,.sun-editor-editable img,.sun-editor-editable video{display:block;margin:0;padding:0;width:auto;height:auto;max-width:100%}.sun-editor-editable[contenteditable=true] figure:after{position:absolute;content:"";z-index:1;top:0;left:0;right:0;bottom:0;cursor:default;display:block;background:transparent}.sun-editor-editable[contenteditable=true] figure a,.sun-editor-editable[contenteditable=true] figure iframe,.sun-editor-editable[contenteditable=true] figure img,.sun-editor-editable[contenteditable=true] figure video{z-index:0}.sun-editor-editable[contenteditable=true] figure figcaption{display:block;z-index:2}.sun-editor-editable[contenteditable=true] figure figcaption:focus{border-color:#80bdff;outline:0;-webkit-box-shadow:0 0 0 .2rem #c7deff;box-shadow:0 0 0 .2rem #c7deff}.sun-editor-editable .se-image-container,.sun-editor-editable .se-video-container{width:auto;height:auto;max-width:100%}.sun-editor-editable figure{display:block;outline:none;margin:0;padding:0}.sun-editor-editable figure figcaption{padding:1em .5em;margin:0;background-color:#f9f9f9;outline:none}.sun-editor-editable figure figcaption p{line-height:2;margin:0}.sun-editor-editable .se-image-container a img{padding:1px;margin:1px;outline:1px solid #4592ff}.sun-editor-editable .se-video-container iframe,.sun-editor-editable .se-video-container video{outline:1px solid #9e9e9e;position:absolute;top:0;left:0;border:0;width:100%;height:100%}.sun-editor-editable .se-video-container figure{left:0;width:100%;max-width:100%}.sun-editor-editable audio{width:300px;height:54px}.sun-editor-editable audio.active{outline:2px solid #80bdff}.sun-editor-editable.se-show-block div,.sun-editor-editable.se-show-block h1,.sun-editor-editable.se-show-block h2,.sun-editor-editable.se-show-block h3,.sun-editor-editable.se-show-block h4,.sun-editor-editable.se-show-block h5,.sun-editor-editable.se-show-block h6,.sun-editor-editable.se-show-block li,.sun-editor-editable.se-show-block ol,.sun-editor-editable.se-show-block p,.sun-editor-editable.se-show-block pre,.sun-editor-editable.se-show-block ul{border:1px dashed #3f9dff!important;padding:14px 8px 8px!important}.sun-editor-editable.se-show-block ol,.sun-editor-editable.se-show-block ul{border:1px dashed #d539ff!important}.sun-editor-editable.se-show-block pre{border:1px dashed #27c022!important}.se-show-block p{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPAQMAAAAF7dc0AAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAaSURBVAjXY/j/gwGCPvxg+F4BQiAGDP1HQQByxxw0gqOzIwAAAABJRU5ErkJggg==") no-repeat}.se-show-block div{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAPAQMAAAAxlBYoAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAmSURBVAjXY/j//wcDDH+8XsHwDYi/hwNx1A8w/nYLKH4XoQYJAwCXnSgcl2MOPgAAAABJRU5ErkJggg==") no-repeat}.se-show-block h1{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAfSURBVAjXY/j/v4EBhr+9B+LzEPrDeygfhI8j1CBhAEhmJGY4Rf6uAAAAAElFTkSuQmCC") no-repeat}.se-show-block h2{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAmSURBVAjXY/j/v4EBhr+dB+LtQPy9geEDEH97D8T3gbgdoQYJAwA51iPuD2haEAAAAABJRU5ErkJggg==") no-repeat}.se-show-block h3{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAiSURBVAjXY/j/v4EBhr+dB+LtQPy9geHDeQgN5p9HqEHCADeWI+69VG2MAAAAAElFTkSuQmCC") no-repeat}.se-show-block h4{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPAQMAAADTSA1RAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAiSURBVAjXY/j//wADDH97DsTXIfjDdiDdDMTfIRhZHRQDAKJOJ6L+K3y7AAAAAElFTkSuQmCC") no-repeat}.se-show-block h5{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAlSURBVAjXY/j/v4EBhr+1A/F+IO5vYPiwHUh/B2IQfR6hBgkDABlWIy5uM+9GAAAAAElFTkSuQmCC") no-repeat}.se-show-block h6{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAiSURBVAjXY/j/v4EBhr+dB+LtQLy/geFDP5S9HSKOrA6KAR9GIza1ptJnAAAAAElFTkSuQmCC") no-repeat}.se-show-block li{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA7SURBVDhPYxgFcNDQ0PAfykQBIHEYhgoRB/BpwCfHBKWpBkaggYxQGgOgBzyQD1aLLA4TGwWDGjAwAACR3RcEU9Ui+wAAAABJRU5ErkJggg==") no-repeat}.se-show-block ol{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABHSURBVDhPYxgFcNDQ0PAfhKFcFIBLHCdA1oBNM0kGEmMAPgOZoDTVANUNxAqQvURMECADRiiNAWCagDSGGhyW4DRrMAEGBgAu0SX6WpGgjAAAAABJRU5ErkJggg==") no-repeat}.se-show-block ul{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA1SURBVDhPYxgFDA0NDf+hTBSALI5LDQgwQWmqgVEDKQcsUBoF4ItFGEBXA+QzQpmDGjAwAAA8DQ4Lni6gdAAAAABJRU5ErkJggg==") no-repeat}.sun-editor-editable .__se__p-bordered,.sun-editor .__se__p-bordered{border-top:1px solid #b1b1b1;border-bottom:1px solid #b1b1b1;padding:4px 0}.sun-editor-editable .__se__p-spaced,.sun-editor .__se__p-spaced{letter-spacing:1px}.sun-editor-editable .__se__p-neon,.sun-editor .__se__p-neon{font-weight:200;font-style:italic;background:#000;color:#fff;padding:6px 4px;border:2px solid #fff;border-radius:6px;text-transform:uppercase;animation:neonFlicker 1.5s infinite alternate}@keyframes neonFlicker{0%,19%,21%,23%,25%,54%,56%,to{text-shadow:-.2rem -.2rem 1rem #fff,.2rem .2rem 1rem #fff,0 0 2px #f40,0 0 4px #f40,0 0 6px #f40,0 0 8px #f40,0 0 10px #f40;box-shadow:0 0 .5px #fff,inset 0 0 .5px #fff,0 0 2px #08f,inset 0 0 2px #08f,0 0 4px #08f,inset 0 0 4px #08f}20%,24%,55%{text-shadow:none;box-shadow:none}}.sun-editor-editable .__se__t-shadow,.sun-editor .__se__t-shadow{text-shadow:-.2rem -.2rem 1rem #fff,.2rem .2rem 1rem #fff,0 0 .2rem #999,0 0 .4rem #888,0 0 .6rem #777,0 0 .8rem #666,0 0 1rem #555}.sun-editor-editable .__se__t-code,.sun-editor .__se__t-code{font-family:monospace;color:#666;background-color:rgba(27,31,35,.05);border-radius:6px;padding:.2em .4em}',""])},2384:function(e,t,i){"use strict";i.r(t),i.d(t,"blockquote",(function(){return n})),i.d(t,"align",(function(){return o})),i.d(t,"font",(function(){return l})),i.d(t,"fontSize",(function(){return s})),i.d(t,"fontColor",(function(){return a})),i.d(t,"hiliteColor",(function(){return c})),i.d(t,"horizontalRule",(function(){return u})),i.d(t,"list",(function(){return d})),i.d(t,"table",(function(){return h})),i.d(t,"formatBlock",(function(){return p})),i.d(t,"lineHeight",(function(){return f})),i.d(t,"template",(function(){return g})),i.d(t,"paragraphStyle",(function(){return m})),i.d(t,"textStyle",(function(){return b})),i.d(t,"link",(function(){return _})),i.d(t,"image",(function(){return E})),i.d(t,"video",(function(){return L})),i.d(t,"audio",(function(){return z})),i.d(t,"math",(function(){return N})),i.d(t,"imageGallery",(function(){return B}));var n={name:"blockquote",display:"command",add:function(e,t){e.context.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(e){if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0}else this.util.removeClass(this.context.blockquote.targetButton,"active");return!1},action:function(){const e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},o={name:"align",display:"submenu",add:function(e,t){const i=e.icons,n=e.context;n.align={targetButton:t,_alignList:null,currentAlign:"",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let o=this.setSubmenu.call(e),l=o.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),n.align._alignList=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,o),o=null,l=null},setSubmenu:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-submenu se-list-layer se-list-align",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-btn-align" data-command="justifyleft" data-value="left" title="'+e.toolbar.alignLeft+'"><span class="se-list-icon">'+t.align_left+"</span>"+e.toolbar.alignLeft+'</button></li><li><button type="button" class="se-btn-list se-btn-align" data-command="justifycenter" data-value="center" title="'+e.toolbar.alignCenter+'"><span class="se-list-icon">'+t.align_center+"</span>"+e.toolbar.alignCenter+'</button></li><li><button type="button" class="se-btn-list se-btn-align" data-command="justifyright" data-value="right" title="'+e.toolbar.alignRight+'"><span class="se-list-icon">'+t.align_right+"</span>"+e.toolbar.alignRight+'</button></li><li><button type="button" class="se-btn-list se-btn-align" data-command="justifyfull" data-value="justify" title="'+e.toolbar.alignJustify+'"><span class="se-list-icon">'+t.align_justify+"</span>"+e.toolbar.alignJustify+"</button></li></ul></div>",i},active:function(e){const t=this.context.align.targetButton,i=t.firstElementChild;if(e){if(this.util.isFormatElement(e)){const n=e.style.textAlign;if(n)return this.util.changeElement(i,this.context.align.icons[n]),t.setAttribute("data-focus",n),!0}}else this.util.changeElement(i,this.context.align.icons.left),t.removeAttribute("data-focus");return!1},on:function(){const e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||"left";if(i!==e.currentAlign){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentAlign=i}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.getSelectedElements();for(let o=0,l=n.length;o<l;o++)this.util.setStyle(n[o],"textAlign","left"===i?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},l={name:"font",display:"submenu",add:function(e,t){const i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu.call(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");let n,o,l,s;i.className="se-submenu se-list-layer se-list-font-family";let r=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(l=0,s=r.length;l<s;l++)n=r[l],o=n.split(",")[0],a+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+o+'" title="'+o+'" style="font-family:'+n+';">'+o+"</button></li>";return a+="</ul></div>",i.innerHTML=a,i},active:function(e){const t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){const n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,n),!0}}else{const e=this.lang.toolbar.font;this.util.changeTxt(t,e),this.util.changeTxt(i,e)}return!1},on:function(){const e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontFamily=t,this.nodeChange(e,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},s={name:"fontSize",display:"submenu",add:function(e,t){const i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-size";const n=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(let l,s=0,r=e.fontSizeUnit,a=n.length;s<a;s++)l=n[s],o+='<li><button type="button" class="se-btn-list" data-value="'+l+r+'" title="'+l+r+'" style="font-size:'+l+r+';">'+l+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},active:function(e){if(e){if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,e.style.fontSize),!0}else this.util.changeTxt(this.context.fontSize.targetText,this.lang.toolbar.fontSize);return!1},on:function(){const e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontSize=t,this.nodeChange(e,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},r={name:"colorPicker",add:function(e){const t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]};let i=this.createColorList(e,this._makeColorList);t.colorPicker.colorListHTML=i,i=null},createColorList:function(e,t){const i=e.context.option,n=e.lang,o=i.colorList&&0!==i.colorList.length?i.colorList:["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"];let l=[],s='<div class="se-list-inner">';for(let r,a=0,c=o.length;a<c;a++)r=o[a],r&&("string"===typeof r&&(l.push(r),a<c-1)||(l.length>0&&(s+='<div class="se-selector-color">'+t(l)+"</div>",l=[]),"object"===typeof r&&(s+='<div class="se-selector-color">'+t(r)+"</div>")));return s+='<form class="se-submenu-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",s},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i,n=0,o=e.length;n<o;n++)i=e[n],"string"===typeof i&&(t+='<li><button type="button" data-value="'+i+'" title="'+i+'" style="background-color:'+i+';"></button></li>');return t+="</ul>",t},init:function(e,t){const i=this.plugins.colorPicker;let n=t||(i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor);n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const o=this.context.colorPicker._colorList;if(o)for(let l=0,s=o.length;l<s;l++)n.toLowerCase()===o[l].getAttribute("data-value").toLowerCase()?this.util.addClass(o[l],"active"):this.util.removeClass(o[l],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="";const i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&0===t.length;)1===e.nodeType&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){const t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map((function(e){return parseInt(e,10)}));return this.util.removeItem(t),i.length>=3&&"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1)}},a={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([r]);const i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu.call(e);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.colorPicker.colorListHTML,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML=e,t},on:function(){const e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput,e._defaultColor="#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}},c={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([r]);const i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu.call(e);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.colorPicker.colorListHTML,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML=e,t},on:function(){const e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput,e._defaultColor="#FFFFFF",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}},u={name:"horizontalRule",display:"submenu",add:function(e,t){let i=this.setSubmenu.call(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer se-list-line",t.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="solid" title="'+e.toolbar.hr_solid+'"><hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /></button></li><li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="dotted" title="'+e.toolbar.hr_dotted+'"><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /></button></li><li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="dashed" title="'+e.toolbar.hr_dashed+'"><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" /></button></li></ul></div>',t},appendHr:function(e){const t=this.util.createElement("HR");return t.className=e,this.focus(),this.insertComponent(t,!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,"__se__"+i);n&&(this.setRange(n,0,n,0),this.submenuOff())}},d={name:"list",display:"submenu",add:function(e,t){const i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.list._list=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'">'+this.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'">'+this.icons.list_bullets+"</button></li></ul></div>",t},active:function(e){const t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(e){if(n.isList(e)){const o=e.nodeName;return t.setAttribute("data-focus",o),n.addClass(t,"active"),/UL/i.test(o)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}}else t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active");return!1},on:function(){const e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-command")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),o=t||this.getSelectedElementsAndComponents(!1);if(0===o.length){if(t)return;if(n=this.getRange_addLine(n),o=this.getSelectedElementsAndComponents(!1),0===o.length)return}const l=this.util;l.sortByDepth(o,!0);let s=o[0],r=o[o.length-1],a=!l.isListCell(s)&&!l.isComponent(s)||s.previousElementSibling?s.previousElementSibling:s.parentNode.previousElementSibling,c=!l.isListCell(r)&&!l.isComponent(r)||r.nextElementSibling?r.nextElementSibling:r.parentNode.nextElementSibling;const u={sc:n.startContainer,so:n.startOffset,ec:n.endContainer,eo:n.endOffset};let d=!0;for(let h=0,p=o.length;h<p;h++)if(!l.isList(l.getRangeFormatElement(o[h],function(e){return this.getRangeFormatElement(e)&&e!==o[h]}.bind(l)))){d=!1;break}if(!d||a&&s.tagName===a.tagName&&e===a.tagName.toUpperCase()||c&&r.tagName===c.tagName&&e===c.tagName.toUpperCase()){const t=a?a.parentNode:a,i=c?c.parentNode:c;a=t&&!l.isWysiwygDiv(t)&&t.nodeName===e?t:a,c=i&&!l.isWysiwygDiv(i)&&i.nodeName===e?i:c;const n=a&&a.tagName===e,s=c&&c.tagName===e;let r=n?a:l.createElement(e),u=null,d=null,h=null,p=null;const f=function(e){return!this.isComponent(e)&&!this.isList(e)}.bind(l);for(let a,c,g,m,b,v,y,_,x,w=0,C=o.length;w<C;w++)if(c=o[w],0!==c.childNodes.length||l._isIgnoreNodeChange(c)){if(m=o[w+1],b=c.parentNode,v=m?m.parentNode:null,g=l.isListCell(c),x=l.isRangeFormatElement(b)?b:null,y=g&&!l.isWysiwygDiv(b)?b.parentNode:b,_=g&&!l.isWysiwygDiv(b)?!m||l.isListCell(y)?b:b.nextSibling:c.nextSibling,a=l.createElement("LI"),l.copyFormatAttributes(a,c),l.isComponent(c)){const e=/^HR$/i.test(c.nodeName);e||(a.innerHTML="<br>"),a.innerHTML+=c.outerHTML,e&&(a.innerHTML+="<br>")}else{const e=c.childNodes;for(;e[0];)a.appendChild(e[0])}r.appendChild(a),m||(d=r),m&&y===v&&!l.isRangeFormatElement(_)||(u||(u=r),n&&m&&y===v||m&&l.isList(v)&&v===b||r.parentNode!==y&&y.insertBefore(r,_)),l.removeItem(c),n&&null===h&&(h=r.children.length-1),m&&(l.getRangeFormatElement(v,f)!==l.getRangeFormatElement(b,f)||l.isList(v)&&l.isList(b)&&l.getElementDepth(v)!==l.getElementDepth(b))&&(r=l.createElement(e)),x&&0===x.children.length&&l.removeItem(x)}else l.removeItem(c);h&&(u=u.children[h]),s&&(p=r.children.length-1,r.innerHTML+=c.innerHTML,d=r.children[p],l.removeItem(c))}else{if(i)for(let e=0,i=o.length;e<i;e++)for(let t=e-1;t>=0;t--)if(o[t].contains(o[e])){o.splice(e,1),e--,i--;break}const t=l.getRangeFormatElement(s),n=t&&t.tagName===e;let r,a;const c=function(e){return!this.isComponent(e)}.bind(l);n||(a=l.createElement(e));for(let s,u,d=0,h=o.length;d<h;d++)u=l.getRangeFormatElement(o[d],c),u&&l.isList(u)&&(s?s!==u?(i&&l.isListCell(u.parentNode)?this.plugins.list._detachNested.call(this,r.f):this.detachRangeFormatElement(r.f[0].parentNode,r.f,a,!1,!0),u=o[d].parentNode,n||(a=l.createElement(e)),s=u,r={r:s,f:[l.getParentElement(o[d],"LI")]}):r.f.push(l.getParentElement(o[d],"LI")):(s=u,r={r:s,f:[l.getParentElement(o[d],"LI")]}),d===h-1&&(i&&l.isListCell(u.parentNode)?this.plugins.list._detachNested.call(this,r.f):this.detachRangeFormatElement(r.f[0].parentNode,r.f,a,!1,!0)))}return this.effectNode=null,u},_detachNested:function(e){const t=e[0],i=e[e.length-1],n=i.nextElementSibling,o=t.parentNode,l=o.parentNode.nextElementSibling,s=o.parentNode.parentNode;for(let a=0,c=e.length;a<c;a++)s.insertBefore(e[a],l);if(n&&o.children.length>0){const e=o.cloneNode(!1),t=o.childNodes,l=this.util.getPositionIndex(n);for(;t[l];)e.appendChild(t[l]);i.appendChild(e)}0===o.children.length&&this.util.removeItem(o),this.util.mergeSameTags(s);const r=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:r.sc,ec:r.ec}},editInsideList:function(e,t){const i=(t=t||this.getSelectedElements().filter(function(e){return this.isListCell(e)}.bind(this.util))).length;if(0===i||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,o=t[i-1],l=null;if(e){if(n!==o.parentNode&&this.util.isList(o.parentNode.parentNode)&&o.nextElementSibling)for(o=o.nextElementSibling;o;)t.push(o),o=o.nextElementSibling;l=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let e=this.util.createElement(n.nodeName),s=t[0].previousElementSibling,r=o.nextElementSibling;const a={s:null,e:null,sl:n,el:n};for(let o,l=0,d=i;l<d;l++)o=t[l],o.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,e,s,r,a),n=o.parentNode,e=this.util.createElement(n.nodeName)),s=o.previousElementSibling,r=o.nextElementSibling,e.appendChild(o);this.plugins.list._insiedList.call(this,n,e,s,r,a);const c=this.util.getNodeFromPath(a.s,a.sl),u=this.util.getNodeFromPath(a.e,a.el);l={sc:c,so:0,ec:u,eo:u.textContent.length}}return l},_insiedList:function(e,t,i,n,o){let l=!1;if(i&&t.tagName===i.tagName){const e=t.children;for(;e[0];)i.appendChild(e[0]);t=i,l=!0}if(n&&t.tagName===n.tagName){const e=n.children;for(;e[0];)t.appendChild(e[0]);const i=n.nextElementSibling;n.parentNode.removeChild(n),n=i}if(!l){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),o.s||(o.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),o.sl=e);const l=e.contains(o.sl)?this.util.getNodePath(o.sl,e):null;o.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),o.el=e,this.util.mergeSameTags(e,[o.s,o.e,l],!1),this.util.mergeNestedTags(e),l&&(o.sl=this.util.getNodeFromPath(l,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},h={name:"table",display:"submenu",add:function(e,t){const i=e.context;i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,cellControllerTop:"top"===i.options.tableCellControllerPosition,resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}};let n=this.setSubmenu.call(e),o=n.querySelector(".se-controller-table-picker");i.table.tableHighlight=n.querySelector(".se-table-size-highlighted"),i.table.tableUnHighlight=n.querySelector(".se-table-size-unhighlighted"),i.table.tableDisplay=n.querySelector(".se-table-size-display");let l=this.setController_table.call(e);i.table.tableController=l,i.table.resizeButton=l.querySelector("._se_table_resize"),i.table.resizeText=l.querySelector("._se_table_resize > span > span"),i.table.columnFixedButton=l.querySelector("._se_table_fixed_column"),i.table.headerButton=l.querySelector("._se_table_header"),l.addEventListener("mousedown",e.eventStop);let s=this.setController_tableEditor.call(e,i.table.cellControllerTop);i.table.resizeDiv=s,i.table.splitMenu=s.querySelector(".se-btn-group-sub"),i.table.mergeButton=s.querySelector("._se_table_merge_button"),i.table.splitButton=s.querySelector("._se_table_split_button"),i.table.insertRowAboveButton=s.querySelector("._se_table_insert_row_a"),i.table.insertRowBelowButton=s.querySelector("._se_table_insert_row_b"),s.addEventListener("mousedown",e.eventStop),o.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e)),o.addEventListener("click",this.appendTable.bind(e)),s.addEventListener("click",this.onClick_tableController.bind(e)),l.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,n),i.element.relative.appendChild(s),i.element.relative.appendChild(l),n=null,o=null,s=null,l=null},setSubmenu:function(){const e=this.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-table",i.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+t.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+t.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+t.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},setController_tableEditor:function(e){const t=this.lang,i=this.icons,n=this.util.createElement("DIV");return n.className="se-controller se-controller-table-cell",n.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+i.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+i.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+i.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+i.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+i.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+i.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+i.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+i.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+t.controller.VerticalSplit+'">'+t.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+t.controller.HorizontalSplit+'">'+t.controller.HorizontalSplit+"</li></ul></div></div></div>",n},appendTable:function(){const e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],o="<tbody>";for(;n>0;)o+="<tr>"+t.call(this,"td",i)+"</tr>",--n;o+="</tbody>",e.innerHTML=o;if(this.insertComponent(e,!1,!0,!1)){const t=e.querySelector("td div");this.setRange(t,0,t,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){const t=this.util.createElement(e);return t.innerHTML="<div><br></div>",t}{let i="";for(;t>0;)i+="<"+e+"><div><br></div></"+e+">",t--;return i}},onMouseMove_tablePicker:function(e){e.stopPropagation();let t=this._w.Math.ceil(e.offsetX/18),i=this._w.Math.ceil(e.offsetY/18);t=t<1?1:t,i=i<1?1:i,this.context.table.tableHighlight.style.width=t+"em",this.context.table.tableHighlight.style.height=i+"em";this.context.table.tableUnHighlight.style.width="10em",this.context.table.tableUnHighlight.style.height="10em",this.util.changeTxt(this.context.table.tableDisplay,t+" x "+i),this.context.table._tableXY=[t,i]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){const e=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let t=0,i=e.length;t<i;t++)this.util.removeClass(e[t],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){const t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell)return this.controllersOff(),void this.util.removeClass(e,"se-table-selected-cell");const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");t.setPositionControllerTop.call(this,n),i._maxWidth=this.util.hasClass(n,"se-table-size-100")||"100%"===n.style.width||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||"fixed"===n.style.tableLayout,t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){const t=this.context.table.tableController,i=this.util.getOffset(e,this.context.element.wysiwygFrame);t.style.left=i.left+"px",t.style.display="block",t.style.top=i.top-t.offsetHeight-2+"px"},setPositionControllerDiv:function(e,t){const i=this.context.table,n=i.resizeDiv;if(this.plugins.table.setCellInfo.call(this,e,t),n.style.visibility="hidden",n.style.display="block",i.cellControllerTop){const e=this.util.getOffset(i._element,this.context.element.wysiwygFrame);n.style.top=e.top-n.offsetHeight-2+"px",n.style.left=e.left+i.tableController.offsetWidth+"px"}else{const t=this.util.getOffset(e,this.context.element.wysiwygFrame);n.style.left=t.left-this.context.element.wysiwygFrame.scrollLeft+"px",n.style.top=t.top+e.offsetHeight+12+"px";const i=this.context.element.wysiwygFrame.offsetWidth-(n.offsetLeft+n.offsetWidth);i<0?(n.style.left=n.offsetLeft+i+"px",n.firstElementChild.style.left=20-i+"px"):n.firstElementChild.style.left="20px"}n.style.visibility=""},setCellInfo:function(e,t){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||0===i._physical_cellCnt){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);const t=i._trElements=n.rows,o=e.cellIndex;let l=0;for(let e=0,i=t[0].cells,n=t[0].cells.length;e<n;e++)l+=i[e].colSpan;const s=i._rowIndex=i._trElement.rowIndex;i._rowCnt=t.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=l,i._physical_cellIndex=o,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan,i._trElement.cells[o].rowSpan;let r=[],a=[];for(let e,n,c=0;c<=s;c++){e=t[c].cells,n=0;for(let t,l,u,d,h=0,p=e.length;h<p;h++){if(t=e[h],l=t.colSpan-1,u=t.rowSpan-1,d=h+n,a.length>0)for(let e,t=0;t<a.length;t++)e=a[t],e.row>c||(d>=e.index?(n+=e.cs,d+=e.cs,e.rs-=1,e.row=c+1,e.rs<1&&(a.splice(t,1),t--)):h===p-1&&(e.rs-=1,e.row=c+1,e.rs<1&&(a.splice(t,1),t--)));if(c===s&&h===o){i._logical_cellIndex=d;break}u>0&&r.push({index:d,cs:l+1,rs:u,row:-1}),n+=l}a=a.concat(r).sort((function(e,t){return e.index-t.index})),r=[]}r=null,a=null}},editTable:function(e,t){const i=this.plugins.table,n=this.context.table,o=n._element,l="row"===e;if(l){const e=n._trElement.parentNode;if(/^THEAD$/i.test(e.nodeName)){if("up"===t)return;if(!e.nextElementSibling||!/^TBODY$/i.test(e.nextElementSibling.nodeName))return void(o.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>")}}if(i._ref){const e=n._tdElement,o=i._selectedCells;if(l)if(t)i.setCellInfo.call(this,"up"===t?o[0]:o[o.length-1],!0),i.editRow.call(this,t,e);else{let e=o[0].parentNode;const n=[o[0]];for(let t,i=1,l=o.length;i<l;i++)t=o[i],e!==t.parentNode&&(n.push(t),e=t.parentNode);for(let o=0,l=n.length;o<l;o++)i.setCellInfo.call(this,n[o],!0),i.editRow.call(this,t)}else{const n=o[0].parentNode;if(t){let l=null;for(let e=0,t=o.length-1;e<t;e++)if(n!==o[e+1].parentNode){l=o[e];break}i.setCellInfo.call(this,"left"===t?o[0]:l||o[0],!0),i.editCell.call(this,t,e)}else{const e=[o[0]];for(let t,i=1,l=o.length;i<l&&(t=o[i],n===t.parentNode);i++)e.push(t);for(let n=0,o=e.length;n<o;n++)i.setCellInfo.call(this,e[n],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[l?"editRow":"editCell"].call(this,t);if(!t){const e=o.children;for(let t=0;t<e.length;t++)0===e[t].children.length&&(this.util.removeItem(e[t]),t--);0===o.children.length&&this.util.removeItem(o)}},editRow:function(e,t){const i=this.context.table,n=!e,o="up"===e,l=i._rowIndex,s=n||o?l:l+i._current_rowSpan+1,r=n?-1:1,a=i._trElements;let c=i._logical_cellCnt;for(let u,d=0,h=l+(n?-1:0);d<=h;d++){if(u=a[d].cells,0===u.length)return;for(let e,t,i=0,n=u.length;i<n;i++)e=u[i].rowSpan,t=u[i].colSpan,e<2&&t<2||e+d>s&&s>d&&(u[i].rowSpan=e+r,c-=t)}if(n){const e=a[l+1];if(e){const t=[];let i=a[l].cells,n=0;for(let e,o,l=0,s=i.length;l<s;l++)e=i[l],o=l+n,n+=e.colSpan-1,e.rowSpan>1&&(e.rowSpan-=1,t.push({cell:e.cloneNode(!1),index:o}));if(t.length>0){let o=t.shift();i=e.cells,n=0;for(let l,s,r=0,a=i.length;r<a&&(l=i[r],s=r+n,n+=l.colSpan-1,!(s>=o.index)||(r--,n--,n+=o.cell.colSpan-1,e.insertBefore(o.cell,l),o=t.shift(),o));r++);if(o){e.appendChild(o.cell);for(let i=0,n=t.length;i<n;i++)e.appendChild(t[i].cell)}}}i._element.deleteRow(s)}else{i._element.insertRow(s).innerHTML=this.plugins.table.createCells.call(this,"td",c,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){const i=this.context.table,n=this.util,o=!e,l="left"===e,s=i._current_colSpan,r=o||l?i._logical_cellIndex:i._logical_cellIndex+s+1,a=i._trElements;let c=[],u=[],d=0;const h=[],p=[];for(let f,g,m,b,v,y,_=0,x=i._rowCnt;_<x;_++){f=a[_],g=r,v=!1,m=f.cells,y=0;for(let e,t,i,l,a=0,f=m.length;a<f&&(e=m[a],e);a++)if(t=e.rowSpan-1,i=e.colSpan-1,o){if(l=a+y,u.length>0){const e=!m[a+1];for(let t,i=0;i<u.length;i++)t=u[i],t.row>_||(l>=t.index?(y+=t.cs,l=a+y,t.rs-=1,t.row=_+1,t.rs<1&&(u.splice(i,1),i--)):e&&(t.rs-=1,t.row=_+1,t.rs<1&&(u.splice(i,1),i--)))}t>0&&c.push({rs:t,cs:i+1,index:l,row:-1}),l>=g&&l+i<=g+s?h.push(e):l<=g+s&&l+i>=g?e.colSpan-=n.getOverlapRangeAtIndex(r,r+s,l,l+i):t>0&&(l<g||l+i>g+s)&&p.push({cell:e,i:_,rs:_+t}),y+=i}else{if(a>=g)break;if(i>0){if(d<1&&i+a>=g){e.colSpan+=1,g=null,d=t+1;break}g-=i}if(!v){for(let e,t=0;t<u.length;t++)e=u[t],g-=e.cs,e.rs-=1,e.rs<1&&(u.splice(t,1),t--);v=!0}}if(u=u.concat(c).sort((function(e,t){return e.index-t.index})),c=[],!o){if(d>0){d-=1;continue}null!==g&&m.length>0&&(b=this.plugins.table.createCells.call(this,m[0].nodeName,0,!0),b=f.insertBefore(b,m[g]))}}if(o){let e,t;for(let i,o=0,l=h.length;o<l;o++)i=h[o].parentNode,n.removeItem(h[o]),0===i.cells.length&&(e||(e=n.getArrayIndex(a,i)),t=n.getArrayIndex(a,i),n.removeItem(i));for(let i,o=0,l=p.length;o<l;o++)i=p[o],i.cell.rowSpan=n.getOverlapRangeAtIndex(e,t,i.i,i.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("mousedown",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("mousedown",this.plugins.table._closeSplitMenu)},splitCells:function(e){const t=this.util,i="vertical"===e,n=this.context.table,o=n._tdElement,l=n._trElements,s=n._trElement,r=n._logical_cellIndex,a=n._rowIndex,c=this.plugins.table.createCells.call(this,o.nodeName,0,!0);if(i){const e=o.colSpan;if(c.rowSpan=o.rowSpan,e>1)c.colSpan=this._w.Math.floor(e/2),o.colSpan=e-c.colSpan,s.insertBefore(c,o.nextElementSibling);else{let t=[],i=[];for(let s,a,c=0,u=n._rowCnt;c<u;c++){s=l[c].cells,a=0;for(let n,l,u,d,h=0,p=s.length;h<p;h++){if(n=s[h],l=n.colSpan-1,u=n.rowSpan-1,d=h+a,i.length>0)for(let e,t=0;t<i.length;t++)e=i[t],e.row>c||(d>=e.index?(a+=e.cs,d+=e.cs,e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)):h===p-1&&(e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)));if(d<=r&&u>0&&t.push({index:d,cs:l+1,rs:u,row:-1}),n!==o&&d<=r&&d+l>=r+e-1){n.colSpan+=1;break}if(d>r)break;a+=l}i=i.concat(t).sort((function(e,t){return e.index-t.index})),t=[]}s.insertBefore(c,o.nextElementSibling)}}else{const e=o.rowSpan;if(c.colSpan=o.colSpan,e>1){c.rowSpan=this._w.Math.floor(e/2);const i=e-c.rowSpan,n=[],a=t.getArrayIndex(l,s)+i;for(let e,t,o=0;o<a;o++){e=l[o].cells,t=0;for(let i,l,s,c=0,u=e.length;c<u&&(s=c+t,!(s>=r));c++)i=e[c],l=i.rowSpan-1,l>0&&l+o>=a&&s<r&&n.push({index:s,cs:i.colSpan}),t+=i.colSpan-1}const u=l[a],d=u.cells;let h=n.shift();for(let e,t,o,l,s=0,p=d.length,f=0;s<p;s++){if(o=s+f,e=d[s],t=e.colSpan-1,l=o+t+1,h&&l>=h.index&&(f+=h.cs,l+=h.cs,h=n.shift()),l>=r||s===p-1){u.insertBefore(c,e.nextElementSibling);break}f+=t}o.rowSpan=i}else{c.rowSpan=o.rowSpan;const e=t.createElement("TR");e.appendChild(c);for(let t,n=0;n<a;n++){if(t=l[n].cells,0===t.length)return;for(let e=0,i=t.length;e<i;e++)n+t[e].rowSpan-1>=a&&(t[e].rowSpan+=1)}const i=n._physical_cellIndex,r=s.cells;for(let t=0,n=r.length;t<n;t++)t!==i&&(r[t].rowSpan+=1);s.parentNode.insertBefore(e,s.nextElementSibling)}}this.focusEdge(o),this.plugins.table.setPositionControllerDiv.call(this,o,!0)},mergeCells:function(){const e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,o=e._selectedCells,l=o[0];let s=null,r=null,a=n.ce-n.cs+1,c=n.re-n.rs+1,u="",d=null;for(let h,p,f=1,g=o.length;f<g;f++){h=o[f],d!==h.parentNode&&(d=h.parentNode),p=h.children;for(let e=0,t=p.length;e<t;e++)i.isFormatElement(p[e])&&i.onlyZeroWidthSpace(p[e].textContent)&&i.removeItem(p[e]);u+=h.innerHTML,i.removeItem(h),0===d.cells.length&&(s?r=d:s=d,c-=1)}if(s){const e=t._trElements,n=i.getArrayIndex(e,s),o=i.getArrayIndex(e,r||s),l=[];for(let t,s=0;s<=o;s++)if(t=e[s].cells,0!==t.length)for(let e,l,r=0,a=t.length;r<a;r++)e=t[r],l=e.rowSpan-1,l>0&&s+l>=n&&(e.rowSpan-=i.getOverlapRangeAtIndex(n,o,s,s+l));else l.push(e[s]);for(let t=0,s=l.length;t<s;t++)i.removeItem(l[t])}l.innerHTML+=u,l.colSpan=a,l.rowSpan=c,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,l),i.addClass(l,"se-table-selected-cell"),this.focusEdge(l)},toggleHeader:function(){const e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{const t=e.createElement("THEAD");t.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(t,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){const t=this.context.table,i=t._element;let n,o,l,s;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,o=t.resizeText,t._maxWidth?(l=t.icons.reduction,s=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(l=t.icons.expansion,s=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,l),this.util.changeTxt(o,s)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){const i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),t&&e!==t?(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled")):(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();const t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),t._fixedCell&&t._selectedTable&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;const t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}i&&i!==t._selectedCell&&t._fixedCellName===i.nodeName&&t._selectedTable===this.util.getParentElement(i,"TABLE")&&(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){const i=this.plugins.table,n=i._selectedTable.rows,o=this.util,l=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let u=0,d=l.length;u<d;u++)o.removeClass(l[u],"se-table-selected-cell");if(e===t&&(o.addClass(e,"se-table-selected-cell"),!i._shift))return;let s=!0,r=[],a=[];const c=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let u,d,h=0,p=n.length;h<p;h++){u=n[h].cells,d=0;for(let i,n,l,p,f=0,g=u.length;f<g;f++){if(i=u[f],l=i.colSpan-1,p=i.rowSpan-1,n=f+d,r.length>0)for(let e,t=0;t<r.length;t++)e=r[t],e.row>h||(n>=e.index?(d+=e.cs,n+=e.cs,e.rs-=1,e.row=h+1,e.rs<1&&(r.splice(t,1),t--)):f===g-1&&(e.rs-=1,e.row=h+1,e.rs<1&&(r.splice(t,1),t--)));if(s){if(i!==e&&i!==t||(c.cs=null!==c.cs&&c.cs<n?c.cs:n,c.ce=null!==c.ce&&c.ce>n+l?c.ce:n+l,c.rs=null!==c.rs&&c.rs<h?c.rs:h,c.re=null!==c.re&&c.re>h+p?c.re:h+p,c._i+=1),2===c._i){s=!1,r=[],a=[],h=-1;break}}else if(o.getOverlapRangeAtIndex(c.cs,c.ce,n,n+l)&&o.getOverlapRangeAtIndex(c.rs,c.re,h,h+p)){const e=c.cs<n?c.cs:n,t=c.ce>n+l?c.ce:n+l,s=c.rs<h?c.rs:h,u=c.re>h+p?c.re:h+p;if(c.cs!==e||c.ce!==t||c.rs!==s||c.re!==u){c.cs=e,c.ce=t,c.rs=s,c.re=u,h=-1,r=[],a=[];break}o.addClass(i,"se-table-selected-cell")}p>0&&a.push({index:n,cs:l+1,rs:p,row:-1}),d+=i.colSpan-1}r=r.concat(a).sort((function(e,t){return e.index-t.index})),a=[]}},_removeEvents:function(){const e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let o=0,l=n.length;o<l;o++)this.util.removeClass(n[o],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;const i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),o=t.getAttribute("data-option"),l=this.plugins.table;if("function"===typeof l._closeSplitMenu&&(l._closeSplitMenu(),"onsplit"===i))return;if(!i)return;e.preventDefault();const s=this.context.table;switch(i){case"insert":case"delete":l.editTable.call(this,n,o);break;case"header":l.toggleHeader.call(this);break;case"onsplit":l.openSplitMenu.call(this);break;case"split":l.splitCells.call(this,n);break;case"merge":l.mergeCells.call(this);break;case"resize":s._maxWidth=!s._maxWidth,l.setTableStyle.call(this,"width"),l.setPositionControllerTop.call(this,s._element),l.setPositionControllerDiv.call(this,s._tdElement,l._shift);break;case"layout":s._fixedColumn=!s._fixedColumn,l.setTableStyle.call(this,"column"),l.setPositionControllerTop.call(this,s._element),l.setPositionControllerDiv.call(this,s._tdElement,l._shift);break;case"remove":const e=s._element.parentNode;this.util.removeItem(s._element),this.controllersOff(),e!==this.context.element.wysiwyg&&this.util.removeItemAllParents(e,(function(e){return 0===e.childNodes.length}),null),this.focus()}this.history.push(!1)}},p={name:"formatBlock",display:"submenu",add:function(e,t){const i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu.call(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.option,t=this.lang.toolbar,i=this.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],o=e.formats&&0!==e.formats.length?e.formats:n;let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let s,r,a,c,u,d,h,p=0,f=o.length;p<f;p++)s=o[p],"string"===typeof s&&n.indexOf(s)>-1?(r=s.toLowerCase(),a="blockquote"===r?"range":"pre"===r?"free":"replace",u=/^h/.test(r)?r.match(/\d+/)[0]:"",c=t["tag_"+(u?"h":r)]+u,h="",d=""):(r=s.tag.toLowerCase(),a=s.command,c=s.name||r,h=s.class,d=h?' class="'+h+'"':""),l+='<li><button type="button" class="se-btn-list" data-command="'+a+'" data-value="'+r+'" data-class="'+h+'" title="'+c+'"><'+r+d+">"+c+"</"+r+"></button></li>";return l+="</ul></div>",i.innerHTML=l,i},active:function(e){let t=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText,n=this.context.formatBlock.targetTooltip;if(e){if(this.util.isFormatElement(e)){const o=this.context.formatBlock._formatList,l=e.nodeName.toLowerCase(),s=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let e,i=0,n=o.length;i<n;i++)if(e=o[i],l===e.getAttribute("data-value")&&s===e.getAttribute("data-class")){t=e.title;break}return this.util.changeTxt(i,t),this.util.changeTxt(n,t),i.setAttribute("data-value",l),i.setAttribute("data-class",s),!0}}else this.util.changeTxt(i,t),this.util.changeTxt(n,t);return!1},on:function(){const e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let e,i=0,o=t.length;i<o;i++)e=t[i],n===e.getAttribute("data-value")+e.getAttribute("data-class")?this.util.addClass(e,"active"):this.util.removeClass(e,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,o=null,l="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),l=t.getAttribute("data-class"),i){o=t.firstChild;break}t=t.parentNode}if(i){if("range"===i){const e=o.cloneNode(!1);this.applyRangeFormatElement(e)}else{let e=this.getRange(),t=this.getSelectedElementsAndComponents(!1);if(0===t.length&&(e=this.getRange_addLine(e),t=this.getSelectedElementsAndComponents(!1),0===t.length))return;const s=e.startOffset,r=e.endOffset,a=this.util;let c=t[0],u=t[t.length-1];const d=a.getNodePath(e.startContainer,c,null,null),h=a.getNodePath(e.endContainer,u,null,null),p=this.detachList(t,!1);p.sc&&(c=p.sc),p.ec&&(u=p.ec),this.setRange(a.getNodeFromPath(d,c),s,a.getNodeFromPath(h,u),r);const f=this.getSelectedElementsAndComponents(!1);if("free"===i){const e=f.length-1;let t=f[e].parentNode,i=o.cloneNode(!1);const n=i;for(let l,s,r,c,u,d,h=e,p=!0;h>=0;h--)if(l=f[h],l!==(f[h+1]?f[h+1].parentNode:null)){if(d=a.isComponent(l),s=d?"":l.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),r=a.getParentElement(l,(function(e){return e.parentNode===t})),(t!==l.parentNode||d)&&(a.isFormatElement(t)?(t.parentNode.insertBefore(i,t.nextSibling),t=t.parentNode):(t.insertBefore(i,r?r.nextSibling:null),t=l.parentNode),c=i.nextSibling,c&&i.nodeName===c.nodeName&&a.isSameAttributes(i,c)&&(i.innerHTML+="<BR>"+c.innerHTML,a.removeItem(c)),i=o.cloneNode(!1),p=!0),u=i.innerHTML,i.innerHTML=(p||!s||!u||/<br>$/i.test(s)?s:s+"<BR>")+u,0===h){t.insertBefore(i,l),c=l.nextSibling,c&&i.nodeName===c.nodeName&&a.isSameAttributes(i,c)&&(i.innerHTML+="<BR>"+c.innerHTML,a.removeItem(c));const e=i.previousSibling;e&&i.nodeName===e.nodeName&&a.isSameAttributes(i,e)&&(e.innerHTML+="<BR>"+i.innerHTML,a.removeItem(i))}d||a.removeItem(l),s&&(p=!1)}this.setRange(n,0,n,0)}else{for(let e,t,i=0,s=f.length;i<s;i++)e=f[i],e.nodeName.toLowerCase()===n.toLowerCase()&&(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()===l||a.isComponent(e)||(t=o.cloneNode(!1),a.copyFormatAttributes(t,e),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)),0===i&&(c=t||e),i===s-1&&(u=t||e),t=null;this.setRange(a.getNodeFromPath(d,c),s,a.getNodeFromPath(h,u),r)}this.history.push(!1)}this.submenuOff()}}},f={name:"lineHeight",display:"submenu",add:function(e,t){const i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-submenu se-list-layer";const n=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(let l,s=0,r=n.length;s<r;s++)l=n[s],o+='<li><button type="button" class="se-btn-list" data-value="'+l.value+'" title="'+l.text+'">'+l.text+"</button></li>";return o+="</ul></div>",i.innerHTML=o,i},on:function(){const e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let e=0,i=t.length;e<i;e++)n===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,o=i.length;n<o;n++)i[n].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}},g={name:"template",display:"submenu",add:function(e,t){e.context.template={};let i=this.setSubmenu.call(e);i.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(){const e=this.context.option.templates;if(!e||0===e.length)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const t=this.util.createElement("DIV");t.className="se-list-layer";let i='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let n,o=0,l=e.length;o<l;o++)n=e[o],i+='<li><button type="button" class="se-btn-list" data-value="'+o+'" title="'+n.name+'">'+n.name+"</button></li>";return i+="</ul></div>",t.innerHTML=i,t},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=this.context.option.templates[e.target.getAttribute("data-value")];if(!t.html)throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.setContents(t.html),this.submenuOff()}},m={name:"paragraphStyle",display:"submenu",add:function(e,t){const i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu.call(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(){const e=this.context.option,t=this.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-format";const i=this.lang.menu,n={spaced:{name:i.spaced,class:"__se__p-spaced",_class:""},bordered:{name:i.bordered,class:"__se__p-bordered",_class:""},neon:{name:i.neon,class:"__se__p-neon",_class:""}},o=e.paragraphStyles&&0!==e.paragraphStyles.length?e.paragraphStyles:["spaced","bordered","neon"];let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let s,r,a,c,u=0,d=o.length;u<d;u++){if(s=o[u],"string"===typeof s){const e=n[s.toLowerCase()];if(!e)continue;s=e}r=s.name,a=s.class?' class="'+s.class+'"':"",c=s._class,l+='<li><button type="button" class="se-btn-list'+(c?" "+c:"")+'" data-value="'+s.class+'" title="'+r+'"><div'+a+">"+r+"</div></button></li>"}return l+="</ul></div>",t.innerHTML=l,t},on:function(){const e=this.context.paragraphStyle._classList,t=this.util.getFormatElement(this.getSelectionNode());for(let i=0,n=e.length;i<n;i++)this.util.hasClass(t,e[i].getAttribute("data-value"))?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(0===n.length&&(this.getRange_addLine(this.getRange()),n=this.getSelectedElements(),0===n.length))return;const o=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let l=0,s=n.length;l<s;l++)o(n[l],i);this.submenuOff(),this.history.push(!1)}},b={name:"textStyle",display:"submenu",add:function(e,t){const i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu.call(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(){const e=this.context.option,t=this.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-format";const i={code:{name:this.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:this.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:this.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},n=e.textStyles?e.textStyles:this._w.Object.keys(i);let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let l,s,r,a,c,u,d,h=0,p=n.length;h<p;h++){if(l=n[h],a="",u="",c=[],"string"===typeof l){const e=i[l.toLowerCase()];if(!e)continue;l=e}r=l.name,s=l.tag||"span",d=l._class,l.style&&(a+=' style="'+l.style+'"',u+=l.style.replace(/:[^;]+(;|$)\s*/g,","),c.push("style")),l.class&&(a+=' class="'+l.class+'"',u+="."+l.class.trim().replace(/\s+/g,",."),c.push("class")),u=u.replace(/,$/,""),o+='<li><button type="button" class="se-btn-list'+(d?" "+d:"")+'" data-command="'+s+'" data-value="'+u+'" title="'+r+'"><'+s+a+">"+r+"</"+s+"></button></li>"}return o+="</ul></div>",t.innerHTML=o,t},on:function(){const e=this.util,t=this.context.textStyle._styleList,i=this.getSelectionNode();for(let n,o,l,s=0,r=t.length;s<r;s++){n=t[s],o=n.getAttribute("data-value").split(",");for(let t,s,r=0;r<o.length;r++){for(t=i,l=!1;t&&!e.isFormatElement(t)&&!e.isComponent(t);){if(t.nodeName.toLowerCase()===n.getAttribute("data-command").toLowerCase()&&(s=o[r],/^\./.test(s)?e.hasClass(t,s.replace(/^\./,"")):t.style[s])){l=!0;break}t=t.parentNode}if(!l)break}l?e.addClass(n,"active"):e.removeClass(n,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;const o=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");o.pop();const l=n.classList;for(let a=0,c=l.length;a<c;a++)o.push("."+l[a]);const s=this.util.hasClass(t,"active")?null:n.cloneNode(!1),r=s?null:[n.nodeName];this.nodeChange(s,o,r,!0),this.submenuOff()}},v=i(2193),y=i.n(v),_={name:"link",display:"dialog",add:function(e){e.addModule([y.a]);const t=e.context;t.link={focusElement:null,linkNewWindowCheck:null,linkAnchorText:null,_linkAnchor:null,_linkValue:""};let i=this.setDialog.call(e);t.link.modal=i,t.link.focusElement=i.querySelector("._se_link_url"),t.link.linkAnchorText=i.querySelector("._se_link_text"),t.link.linkNewWindowCheck=i.querySelector("._se_link_check"),t.link.preview=i.querySelector(".se-link-preview");let n=this.setController_LinkButton.call(e);t.link.linkController=n,t.link._linkAnchor=null,n.addEventListener("mousedown",e.eventStop),i.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),n.addEventListener("click",this.onClick_linkController.bind(e)),t.link.focusElement.addEventListener("input",this._onLinkPreview.bind(t.link.preview,t.link,t.options.linkProtocol)),t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-dialog-content",t.style.display="none",t.innerHTML='<form class="editor_link"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+e.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><input class="se-input-form _se_link_url" type="text" /><pre class="se-link-preview"></pre></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_link_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_link_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t},setController_LinkButton:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+t.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"link","link"===this.currentControllerName)},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=function(){const e=this.context.link;if(0===e._linkValue.length)return!1;const t=e._linkValue,i=e.linkAnchorText,n=0===i.value.length?t:i.value;if(this.context.dialog.updateModal){e._linkAnchor.href=t,e._linkAnchor.textContent=n,e._linkAnchor.target=e.linkNewWindowCheck.checked?"_blank":"";const i=e._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{const i=this.util.createElement("A");i.href=t,i.textContent=n,i.target=e.linkNewWindowCheck.checked?"_blank":"";const o=this.getSelectedElements();if(o.length>1){const e=this.util.createElement(o[0].nodeName);if(e.appendChild(i),!this.insertNode(e,null,!0))return}else if(!this.insertNode(i,null,!0))return;this.setRange(i.childNodes[0],0,i.childNodes[0],i.textContent.length)}e._linkValue=e.preview.textContent=e.focusElement.value=e.linkAnchorText.value=""}.bind(this);try{t()}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(e){if(this.util.isAnchor(e)&&null===e.getAttribute("data-image-link"))return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0}else this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();return!1},on:function(e){const t=this.context.link;e?t._linkAnchor&&(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.focusElement.value=t._linkAnchor.href,t.linkAnchorText.value=t._linkAnchor.textContent,t.linkNewWindowCheck.checked=!!/_blank/i.test(t._linkAnchor.target)):(this.plugins.link.init.call(this),t.linkAnchorText.value=this.getSelection().toString())},call_controller:function(e){this.editLink=this.context.link._linkAnchor=e;const t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent;const n=this.util.getOffset(e,this.context.element.wysiwygFrame);t.style.top=n.top+e.offsetHeight+10+"px",t.style.left=n.left-this.context.element.wysiwygFrame.scrollLeft+"px",t.style.display="block";const o=this.context.element.wysiwygFrame.offsetWidth-(t.offsetLeft+t.offsetWidth);o<0?(t.style.left=t.offsetLeft+o+"px",t.firstElementChild.style.left=20-o+"px"):t.firstElementChild.style.left="20px",this.controllersOn(t,e,"link")},onClick_linkController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t)){const e=this.context.link;e._linkValue=e.preview.textContent=e.focusElement.value=e._linkAnchor.href,e.linkAnchorText.value=e._linkAnchor.textContent,e.linkNewWindowCheck.checked=!!/_blank/i.test(e._linkAnchor.target),this.plugins.dialog.open.call(this,"link",!0)}else if(/unlink/.test(t)){const e=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1),t=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0);this.setRange(e,0,t,t.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.link._linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){const e=this.context.link;e.linkController.style.display="none",e._linkAnchor=null,e._linkValue=e.preview.textContent=e.focusElement.value="",e.linkAnchorText.value="",e.linkNewWindowCheck.checked=!1}},x=i(2209),w=i.n(x),C=i(2226),k=i.n(C),S=i(2210),A=i.n(S),E={name:"image",display:"dialog",add:function(e){e.addModule([y.a,w.a,k.a,A.a]);const t=e.context,i=t.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,sizeUnit:t.option._imageSizeUnit,_altText:"",_linkElement:null,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_link:{_linkValue:""},_v_src:{_linkValue:""},svgDefaultSize:"30%",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:"auto"===t.option.imageWidth?"":t.option.imageWidth,_origin_h:"auto"===t.option.imageHeight?"":t.option.imageHeight,_proportionChecked:!0,_resizing:t.option.imageResizing,_resizeDotHide:!t.option.imageHeightShow,_rotation:t.option.imageRotation,_onlyPercentage:t.option.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let n=this.setDialog.call(e);i.modal=n,i.imgInputFile=n.querySelector("._se_image_file"),i.imgUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.imgInputFile||i.imgUrlFile,i.altText=n.querySelector("._se_image_alt"),i.imgLink=n.querySelector("._se_image_link"),i.imgLinkNewWindowCheck=n.querySelector("._se_image_link_check"),i.captionCheckEl=n.querySelector("._se_image_check_caption"),i.previewLink=n.querySelector("._se_tab_content_url .se-link-preview"),i.previewSrc=n.querySelector("._se_tab_content_image .se-link-preview"),n.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),n.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),i.imgInputFile&&n.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(i.imgInputFile,i.imgUrlFile,i.previewSrc)),i.imgInputFile&&i.imgUrlFile&&i.imgInputFile.addEventListener("change",this._fileInputChange.bind(i)),i.imgLink.addEventListener("input",this._onLinkPreview.bind(i.previewLink,i._v_link,t.options.linkProtocol)),i.imgUrlFile&&i.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(i.previewSrc,i._v_src,t.options.linkProtocol));const o=n.querySelector(".__se__gallery");o&&o.addEventListener("click",this._openGallery.bind(e)),i.proportion={},i.inputX={},i.inputY={},t.option.imageResizing&&(i.proportion=n.querySelector("._se_image_check_proportion"),i.inputX=n.querySelector("._se_image_size_x"),i.inputY=n.querySelector("._se_image_size_y"),i.inputX.value=t.option.imageWidth,i.inputY.value=t.option.imageHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),i.inputX.addEventListener("change",this.setRatio.bind(e)),i.inputY.addEventListener("change",this.setRatio.bind(e)),i.proportion.addEventListener("change",this.setRatio.bind(e)),n.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),t.dialog.modal.appendChild(n),n=null},setDialog:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let n='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" aria-label="Close" title="'+t.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+t.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+t.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'">'+this.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" />'+(e.imageGalleryUrl&&this.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+t.toolbar.imageGallery+'">'+this.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),n+='</div><div class="se-dialog-form"><label>'+t.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const i=e.imageSizeOnlyPercentage,o=i?' style="display: none !important;"':"",l=e.imageHeightShow?"":' style="display: none !important;"';n+='<div class="se-dialog-form">',i||!e.imageHeightShow?n+='<div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.size+"</label></div>":n+='<div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+t.dialogBox.height+"</label></div>",n+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(i?' type="number" min="1"':'type="text"')+(i?' max="100"':"")+' /><label class="se-dialog-size-x"'+l+">"+(i?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+o+(i?' max="100"':"")+l+"/><label"+o+l+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+t.dialogBox.proportion+'</label><button type="button" title="'+t.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+this.icons.revert+"</button></div>"}return n+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+t.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none"><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><input class="se-input-form _se_image_link" type="text" /><pre class="se-link-preview"></pre></div><label><input type="checkbox" class="_se_image_link_check"/>&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label></div></div><div class="se-dialog-footer"><div><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+t.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+t.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+t.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+t.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=n,i},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){const t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=1*t.getAttribute("data-index");let o=i.previousElementSibling||i.nextElementSibling;const l=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(o),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){const t=this.context.image;e?t.imgInputFile&&this.context.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.context.option.imageWidth===t._defaultSizeX?"":this.context.option.imageWidth,t.inputY.value=t._origin_h=this.context.option.imageHeight===t._defaultSizeY?"":this.context.option.imageHeight,t.imgInputFile&&this.context.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"image","image"===this.currentControllerName)},openTab:function(e){const t=this.context.image.modal,i="init"===e?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link");let o,l,s;for(l=t.getElementsByClassName("_se_tab_content"),o=0;o<l.length;o++)l[o].style.display="none";for(s=t.getElementsByClassName("_se_tab_link"),o=0;o<s.length;o++)this.util.removeClass(s[o],"active");return t.querySelector("._se_tab_content_"+n).style.display="block",this.util.addClass(i,"active"),"image"===n&&this.context.image.focusElement?this.context.image.focusElement.focus():"url"===n&&this.context.image.imgLink&&this.context.image.imgLink.focus(),!1},submit:function(e){const t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let s=0,r=e.length;s<r;s++)/image/i.test(e[s].type)&&(i.push(e[s]),t+=e[s].size);const n=this.context.option.imageUploadSizeLimit;if(n>0){let e=0;const i=this.context.image._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";return void(("function"!==this.functions.onImageUploadError||this.functions.onImageUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.image;o._uploadFileLength=i.length;const l={linkValue:o._v_link._linkValue,linkNewWindow:o.imgLinkNewWindowCheck.checked,inputWidth:o.inputX.value,inputHeight:o.inputY.value,align:o._align,isUpdate:this.context.dialog.updateModal,element:o._element};if("function"===typeof this.functions.onImageUploadBefore){const e=this.functions.onImageUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.image.register.call(this,l,e):this.plugins.image.upload.call(this,l,e)}.bind(this));if("undefined"===typeof e)return;if(!e)return void this.closeLoading();this._w.Array.isArray(e)&&e.length>0&&(i=e)}this.plugins.image.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!==typeof this.functions.onImageUploadError||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"===typeof t)return void this.plugins.image.error.call(this,t,null);const i=this.context.option.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if("string"===typeof i&&i.length>0){const o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.context.option.imageUploadHeader,o,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.linkValue,e.linkNewWindow,e.inputWidth,e.inputHeight,e.align,n-1,e.isUpdate)},callBack_imgUpload:function(e,t){if("function"===typeof this.functions.imageUploadHandler)this.functions.imageUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let n,o=0,l=i.length;o<l;o++){if(n={name:i[o].name,size:i[o].size},e.isUpdate){this.plugins.image.update_src.call(this,i[o].url,e.element,n);break}this.plugins.image.create_image.call(this,i[o].url,e.linkValue,e.linkNewWindow,e.inputWidth,e.inputHeight,e.align,n)}this.closeLoading()},setup_reader:function(e,t,i,n,o,l,s,r){try{const a=this._w.FileReader;for(let c,u,d=0;d<=s;d++)c=new a,u=e[d],r&&(this.context.image._element.setAttribute("data-file-name",u.name),this.context.image._element.setAttribute("data-file-size",u.size)),c.onload=function(e,s,r,a){this.context.image.inputX.value=n,this.context.image.inputY.value=o,e?this.plugins.image.update_src.call(this,c.result,s,r):this.plugins.image.create_image.call(this,c.result,t,i,n,o,l,r),a&&this.closeLoading()}.bind(this,r,this.context.image._element,u,d===s),c.readAsDataURL(u)}catch(a){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+a.message+'"')}},onRender_imgUrl:function(){const e=this.context.image;if(0===e._v_src._linkValue.length)return!1;try{const t={name:e._v_src._linkValue.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e._v_src._linkValue,e._element,t):this.plugins.image.create_image.call(this,e._v_src._linkValue,e._v_link._linkValue,e.imgLinkNewWindowCheck.checked,e.inputX.value,e.inputY.value,e._align,t)}catch(t){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t,i){if(t.trim().length>0){const n=this.util.createElement("A");return n.href=/^https?:\/\//.test(t)?t:"http://"+t,n.target=i?"_blank":"",n.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t),n.appendChild(e),n}return e},setInputSize:function(e,t){t&&32===t.keyCode?t.preventDefault():this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const e=this.plugins.image,t=function(t){e.onModifyMode.call(this,t,null),e.openModify.call(this,!0),e.update_image.call(this,!0,!1,!0)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,t,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,o,l,s){const r=this.plugins.image,a=this.context.image;this.context.resizing._resize_plugin="image";let c=this.util.createElement("IMG");c.src=e,c.alt=a._altText,c=r.onRender_link.call(this,c,t,i),c.setAttribute("data-rotate","0"),a._resizing&&c.setAttribute("data-proportion",a._proportionChecked);const u=this.plugins.component.set_cover.call(this,c),d=this.plugins.component.set_container.call(this,u,"se-image-container");a._captionChecked&&(a._caption=this.plugins.component.create_caption.call(this),a._caption.setAttribute("contenteditable",!1),u.appendChild(a._caption)),a._element=c,a._cover=u,a._container=d,r.applySize.call(this,n,o),r.setAlign.call(this,l,c,u,d),c.onload=r._image_create_onload.bind(this,c,a.svgDefaultSize),this.insertComponent(d,!0,!0,!0)&&this.plugins.fileManager.setInfo.call(this,"image",c,this.functions.onImageUpload,s,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t){0===e.offsetWidth&&this.plugins.image.applySize.call(this,t,""),this.selectComponent.call(this,e,"image")},update_image:function(e,t,i){const n=this.context.image,o=n._v_link._linkValue;let l,s=n._element,r=n._cover,a=n._container,c=!1;null===r&&(c=!0,s=n._element.cloneNode(!0),r=this.plugins.component.set_cover.call(this,s)),null===a?(r=r.cloneNode(!0),s=r.querySelector("img"),c=!0,a=this.plugins.component.set_container.call(this,r,"se-image-container")):c&&(a.innerHTML="",a.appendChild(r),n._cover=r,n._element=s,c=!1);const u=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,d=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;l=/%$/.test(s.style.width)?u!==a.style.width||d!==a.style.height:u!==s.style.width||d!==s.style.height,s.alt=n._altText;let h=!1;if(n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),r.appendChild(n._caption),h=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,h=!0),o.trim().length>0)if(null!==n._linkElement&&r.contains(n._linkElement))n._linkElement.href=o,n._linkElement.target=n.imgLinkNewWindowCheck.checked?"_blank":"",s.setAttribute("data-image-link",o);else{let e=this.plugins.image.onRender_link.call(this,s,o,this.context.image.imgLinkNewWindowCheck.checked);r.insertBefore(e,n._caption)}else if(null!==n._linkElement){const e=s;e.setAttribute("data-image-link","");let t=e.cloneNode(!0);r.removeChild(n._linkElement),r.insertBefore(t,n._caption),s=t}if(c){const e=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:/^A$/i.test(n._element.parentNode.nodeName)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element;e.parentNode.replaceChild(a,e),s=a.querySelector("img"),n._element=s,n._cover=r,n._container=a}(h||!n._onlyPercentage&&l)&&!e&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0)));n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),l&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),t&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;const i=this.context.image;i._linkElement=/^A$/i.test(e.parentNode.nodeName)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.getAttribute("data-align")||"none",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");n?(n=n.split(","),i._origin_w=n[0],i._origin_h=n[1]):t&&(i._origin_w=t.w,i._origin_h=t.h)},openModify:function(e){const t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,t._v_link._linkValue=t.previewLink.textContent=t.imgLink.value=null===t._linkElement?"":t._linkElement.href,t.imgLinkNewWindowCheck.checked=t._linkElement&&"_blank"===t._linkElement.target,t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]').checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},applySize:function(e,t){const i=this.context.image;return e||(e=i.inputX.value||this.context.option.imageWidth),t||(t=i.inputY.value||this.context.option.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.image.setSize.call(this,e,t,!1):this.plugins.image.setAutoSize.call(this),!1)},setSize:function(e,t,i,n){const o=this.context.image,l=/^(rw|lw)$/.test(n),s=/^(th|bh)$/.test(n);this.plugins.image.cancelPercentAttr.call(this),s||(o._element.style.width=this.util.isNumber(e)?e+o.sizeUnit:e),l||(o._element.style.height=this.util.isNumber(t)?t+o.sizeUnit:/%$/.test(t)?"":t),"center"===o._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i||o._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,o)},setAutoSize:function(){const e=this.context.image;this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){const e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);const t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){const i=this.context.image;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||"":this.util.isNumber(t)?t+"%":t;const n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="","center"===i._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const o=this.context.image;e||(e=o._align),t||(t=o._element),i||(i=o._cover),n||(n=o._container),i.style.margin=e&&"none"!==e?"auto":"0",/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width&&"auto"!==t.style.width?t.style.width||"100%":""),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,o._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},resetAlign:function(){const e=this.context.image;e._element.setAttribute("data-align",""),e._align="none",e._cover.style.margin="0",this.util.removeClass(e._container,e._floatClassRegExp)},init:function(){const e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e._v_link._linkValue=e.previewLink.textContent=e.imgLink.value="",e.imgLinkNewWindowCheck.checked=!1,e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.context.option.imageWidth===e._defaultSizeX?"":this.context.option.imageWidth,e.inputY.value=this.context.option.imageHeight===e._defaultSizeY?"":this.context.option.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1)}},L={name:"video",display:"dialog",add:function(e){e.addModule([y.a,w.a,k.a,A.a]);const t=e.context,i=t.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,sizeUnit:t.option._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.option.youtubeQuery,_videoRatio:100*t.option.videoRatio+"%",_defaultRatio:100*t.option.videoRatio+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:100*t.option.videoRatio+"%",_origin_w:"100%"===t.option.videoWidth?"":t.option.videoWidth,_origin_h:"56.25%"===t.option.videoHeight?"":t.option.videoHeight,_proportionChecked:!0,_resizing:t.option.videoResizing,_resizeDotHide:!t.option.videoHeightShow,_rotation:t.option.videoRotation,_onlyPercentage:t.option.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let n=this.setDialog.call(e);i.modal=n,i.videoInputFile=n.querySelector("._se_video_file"),i.videoUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.videoUrlFile||i.videoInputFile,i.preview=n.querySelector(".se-link-preview"),n.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),i.videoInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.videoInputFile,i.videoUrlFile,i.preview)),i.videoInputFile&&i.videoUrlFile&&i.videoInputFile.addEventListener("change",this._fileInputChange.bind(i)),i.videoUrlFile&&i.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),i.proportion={},i.videoRatioOption={},i.inputX={},i.inputY={},t.option.videoResizing&&(i.proportion=n.querySelector("._se_video_check_proportion"),i.videoRatioOption=n.querySelector(".se-video-ratio"),i.inputX=n.querySelector("._se_video_size_x"),i.inputY=n.querySelector("._se_video_size_y"),i.inputX.value=t.option.videoWidth,i.inputY.value=t.option.videoHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),i.inputX.addEventListener("change",this.setRatio.bind(e)),i.inputY.addEventListener("change",this.setRatio.bind(e)),i.proportion.addEventListener("change",this.setRatio.bind(e)),i.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),n.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),t.dialog.modal.appendChild(n),n=null},setDialog:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let n='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+t.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'">'+this.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const i=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],o=e.videoRatio,l=e.videoSizeOnlyPercentage,s=l?' style="display: none !important;"':"",r=e.videoHeightShow?"":' style="display: none !important;"',a=e.videoRatioShow?"":' style="display: none !important;"',c=l||e.videoHeightShow||e.videoRatioShow?"":' style="display: none !important;"';n+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+r+">"+t.dialogBox.height+'</label><label class="size-h"'+a+">("+t.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+'/><label class="se-dialog-size-x"'+c+">"+(l?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+100*e.videoRatio+'%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+r+'/><select class="se-input-select se-video-ratio" title="'+t.dialogBox.ratio+'"'+a+">",r||(n+='<option value=""> - </option>');for(let e=0,t=i.length;e<t;e++)n+='<option value="'+i[e].value+'"'+(o.toString()===i[e].value.toString()?" selected":"")+">"+i[e].name+"</option>";n+='</select><button type="button" title="'+t.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+this.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+s+c+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+t.dialogBox.proportion+"</label></div>"}return n+='</div><div class="se-dialog-footer"><div><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+t.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+t.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+t.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+t.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=n,i},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.context.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){const e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;const t=this.context.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){const e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){const t=e||this.context.video._element,i=this.context.video._container,n=1*t.getAttribute("data-index");let o=i.previousElementSibling||i.nextElementSibling;const l=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(o),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){const t=this.context.video;e?t.videoInputFile&&this.context.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.context.option.videoWidth===t._defaultSizeX?"":this.context.option.videoWidth,t.inputY.value=t._origin_h=this.context.option.videoHeight===t._defaultSizeY?"":this.context.option.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.context.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video","video"===this.currentControllerName)},setVideoRatio:function(e){const t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?100*i+"%":t._defaultSizeY,t.inputY.placeholder=i?100*i+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&32===t.keyCode)return void t.preventDefault();const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),"y"===e&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){const t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let s=0,r=e.length;s<r;s++)/video/i.test(e[s].type)&&(i.push(e[s]),t+=e[s].size);const n=this.context.option.videoUploadSizeLimit;if(n>0){let e=0;const i=this.context.video._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";return void(("function"!==this.functions.onVideoUploadError||this.functions.onVideoUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.video;o._uploadFileLength=i.length;const l={inputWidth:o.inputX.value,inputHeight:o.inputY.value,align:o._align,isUpdate:this.context.dialog.updateModal,element:o._element};if("function"===typeof this.functions.onVideoUploadBefore){const e=this.functions.onVideoUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.video.register.call(this,l,e):this.plugins.video.upload.call(this,l,e)}.bind(this));if("undefined"===typeof e)return;if(!e)return void this.closeLoading();"object"===typeof e&&e.length>0&&(i=e)}this.plugins.video.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!==typeof this.functions.onVideoUploadError||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"===typeof t)return void this.plugins.video.error.call(this,t,null);const i=this.context.option.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(!("string"===typeof i&&i.length>0))throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.');{const o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.context.option.videoUploadHeader,o,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}},callBack_videoUpload:function(e,t){if("function"===typeof this.functions.videoUploadHandler)this.functions.videoUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){const i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let o,l=0,s=i.length;l<s;l++)o={name:i[l].name,size:i[l].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[l].url,e.inputWidth,e.inputHeight,e.align,o,e.isUpdate);this.closeLoading()},setup_url:function(){try{const e=this.context.video;let t=e._linkValue;if(0===t.length)return!1;if(/^<iframe.*\/iframe>$/.test(t)){if(t=(new this._w.DOMParser).parseFromString(t,"text/html").querySelector("iframe").src,0===t.length)return!1}if(/youtu\.?be/.test(t)){if(/^http/.test(t)||(t="https://"+t),t=t.replace("watch?v=",""),/^\/\/.+\/embed\//.test(t)||(t=t.replace(t.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._youtubeQuery+"&"+i[1]}else t+="?"+e._youtubeQuery}else/vimeo\.com/.test(t)&&(t.endsWith("/")&&(t=t.slice(0,-1)),t="https://player.vimeo.com/video/"+t.slice(t.lastIndexOf("/")+1));this.plugins.video.create_video.call(this,this.plugins.video.createIframeTag.call(this),t,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,o,l,s){this.context.resizing._resize_plugin="video";const r=this.context.video;let a=null,c=null,u=!1;if(s){if((e=r._element).src!==t){u=!0;const i=/youtu\.?be/.test(t),n=/vimeo\.com/.test(t);if(!i&&!n||/^iframe$/i.test(e.nodeName))if(i||n||/^videoo$/i.test(e.nodeName))e.src=t;else{const i=this.plugins.video.createVideoTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),r._element=e=i}else{const i=this.plugins.video.createIframeTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),r._element=e=i}}c=r._container,a=this.util.getParentElement(e,"FIGURE")}else u=!0,e.src=t,r._element=e,a=this.plugins.component.set_cover.call(this,e),c=this.plugins.component.set_container.call(this,a,"se-video-container");r._cover=a,r._container=c;const d=this.plugins.resizing._module_getSizeX.call(this,r)!==(i||r._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,r)!==(n||r._videoRatio),h=!s||d;r._resizing&&(this.context.video._proportionChecked=r.proportion.checked,e.setAttribute("data-proportion",r._proportionChecked));let p=!1;h&&(p=this.plugins.video.applySize.call(this)),p&&"center"===o||this.plugins.video.setAlign.call(this,null,e,a,c);let f=!0;s?r._resizing&&this.context.resizing._rotateVertical&&h&&this.plugins.resizing.setTransformSize.call(this,e,null,null):f=this.insertComponent(c,!1,!0,!1),f&&(u&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,l,!0),s&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;const t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);const i=this.util.getParentElement(e,this.util.isMediaComponent)||this.util.getParentElement(e,function(e){return this.isWysiwygDiv(e.parentNode)}.bind(this.util));t._element=e=e.cloneNode(!0);const n=t._cover=this.plugins.component.set_cover.call(this,e),o=t._container=this.plugins.component.set_container.call(this,n,"se-video-container"),l=i.querySelector("figcaption");let s=null;l&&(s=this.util.createElement("DIV"),s.innerHTML=l.innerHTML,this.util.removeItem(l));const r=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,r[0],r[1]),i.parentNode.replaceChild(o,i),s&&i.parentNode.insertBefore(s,o.nextElementSibling),this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0)},onModifyMode:function(e,t){const i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.getAttribute("data-align")||"none",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");n?(n=n.split(","),i._origin_w=n[0],i._origin_h=n[1]):t&&(i._origin_w=t.w,i._origin_h=t.h)},openModify:function(e){const t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]').checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);const e=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,e)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(e,2):e)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||1*e>=1)&&(e=""),i.inputY.placeholder="";for(let o=0,l=n.length;o<l;o++)n[o].value===e?(t=n[o].selected=!0,i.inputY.placeholder=e?100*e+"%":""):n[o].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},applySize:function(e,t){const i=this.context.video;return e||(e=i.inputX.value||this.context.option.videoWidth),t||(t=i.inputY.value||this.context.option.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1):this.plugins.video.setAutoSize.call(this),!1)},setSize:function(e,t,i,n){const o=this.context.video,l=/^(rw|lw)$/.test(n),s=/^(th|bh)$/.test(n);s||(e=this.util.getNumber(e,0)),l||(t=this.util.isNumber(t)?t+o.sizeUnit:t||""),s||(o._element.style.width=e?e+o.sizeUnit:""),l||(o._cover.style.paddingBottom=o._cover.style.height=t),s||/%$/.test(e)||(o._cover.style.width="",o._container.style.width=""),l||/%$/.test(t)?o._element.style.height="":o._element.style.height=t,i||o._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,o)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){const t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);const i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){const e=i[0],n=i[1];t._onlyPercentage||/%$/.test(e)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.video.setPercentSize.call(this,e,n):this.plugins.video.setSize.call(this,e,n),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){const i=this.context.video;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio:this.util.isNumber(t)?t+"%":t,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="","center"===i._align&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const o=this.context.video;e||(e=o._align),t||(t=o._element),i||(i=o._cover),n||(n=o._container),i.style.margin=e&&"none"!==e?"auto":"0",/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,o._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},resetAlign:function(){const e=this.context.video;e._element.setAttribute("data-align",""),e._align="none",e._cover.style.margin="0",this.util.removeClass(e._container,e._floatClassRegExp)},init:function(){const e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.context.option.videoWidth,e._origin_h=this.context.option.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.context.option.videoWidth===e._defaultSizeX?"":this.context.option.videoWidth,e.inputY.value=this.context.option.videoHeight===e._defaultSizeY?"":this.context.option.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}},z={name:"audio",display:"dialog",add:function(e){e.addModule([y.a,w.a,A.a]);const t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:t.option.audioWidth,_origin_h:t.option.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog.call(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let o=this.setController.call(e);i.controller=o,o.addEventListener("mousedown",e.eventStop),n.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),o.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(o),n=null,o=null},setDialog:function(){const e=this.context.option,t=this.lang,i=this.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let n='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+t.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'">'+this.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(n+='<div class="se-dialog-form"><label>'+t.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),n+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=n,i},setController:function(){const e=this.lang,t=this.icons,i=this.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+t.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){const e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);const t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.context.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;const t=this.util.getParentElement(e,this.util.isComponent)||e,i=1*e.getAttribute("data-index"),n=t.previousElementSibling||t.nextElementSibling,o=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){const t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.context.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.context.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.context.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio","audio"===this.currentControllerName)},submit:function(e){const t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let s=0,r=e.length;s<r;s++)/audio/i.test(e[s].type)&&(i.push(e[s]),t+=e[s].size);const n=this.context.option.audioUploadSizeLimit;if(n>0){let e=0;const i=this.context.audio._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";return void(("function"!==this.functions.onAudioUploadError||this.functions.onAudioUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.audio;o._uploadFileLength=i.length;const l={isUpdate:this.context.dialog.updateModal,element:o._element};if("function"===typeof this.functions.onAudioUploadBefore){const e=this.functions.onAudioUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.audio.register.call(this,l,e):this.plugins.audio.upload.call(this,l,e)}.bind(this));if("undefined"===typeof e)return;if(!e)return void this.closeLoading();"object"===typeof e&&e.length>0&&(i=e)}this.plugins.audio.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!==typeof this.functions.onAudioUploadError||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"===typeof t)return void this.plugins.audio.error.call(this,t,null);const i=this.context.option.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,o=new FormData;for(let l=0;l<n;l++)o.append("file-"+l,t[l]);this.plugins.fileManager.upload.call(this,i,this.context.option.audioUploadHeader,o,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if("function"===typeof this.functions.audioUploadHandler)this.functions.audioUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let n,o,l=0,s=i.length;l<s;l++)o=e.isUpdate?e.element:this.plugins.audio._createAudioTag.call(this),n={name:i[l].name,size:i[l].size},this.plugins.audio.create_audio.call(this,o,i[l].url,n,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(0===e.length)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(t){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){const o=this.context.audio;if(n){if(o._element&&(e=o._element),!e||e.src===t)return void this.selectComponent(e,"audio");e.src=t}else{e.src=t;const i=this.plugins.component.set_cover.call(this,e),n=this.plugins.component.set_container.call(this,i,"");if(!this.insertComponent(n,!1,!0,!1))return void this.focus()}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),this.selectComponent(e,"audio"),n&&this.history.push(!1)},updateCover:function(e){const t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);const i=this.util.getParentElement(e,this.util.isMediaComponent)||this.util.getParentElement(e,function(e){return this.isWysiwygDiv(e.parentNode)}.bind(this.util));t._element=e=e.cloneNode(!1);const n=this.plugins.component.set_cover.call(this,e),o=this.plugins.component.set_container.call(this,n,"se-audio-container");i.parentNode.replaceChild(o,i),this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1)},onModifyMode:function(e){const t=this.context.audio,i=t.controller,n=this.util.getOffset(e,this.context.element.wysiwygFrame);i.style.top=n.top+e.offsetHeight+10+"px",i.style.left=n.left-this.context.element.wysiwygFrame.scrollLeft+"px",i.style.display="block";const o=this.context.element.wysiwygFrame.offsetWidth-(i.offsetLeft+i.offsetWidth);o<0?(i.style.left=i.offsetLeft+o+"px",i.firstElementChild.style.left=20-o+"px"):i.firstElementChild.style.left="20px",this.controllersOn(i,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}},N={name:"math",display:"dialog",add:function(e){e.addModule([y.a]);const t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,_mathExp:null};let i=this.setDialog.call(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener("keyup",this._renderMathExp.bind(e,t.math),!1),t.math.focusElement.addEventListener("change",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",function(e){this.fontSize=e.target.value}.bind(t.math.previewElement.style),!1);let n=this.setController_MathButton.call(e);t.math.mathController=n,t.math._mathExp=null,n.addEventListener("mousedown",e.eventStop),i.querySelector(".se-btn-primary").addEventListener("click",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-dialog-content",t.style.display="none",t.innerHTML='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+e.dialogBox.close+'">'+this.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="https://katex.org/docs/supported.html" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size"><option value="1em">1</option><option value="1.5em">1.5</option><option value="2em">2</option><option value="2.5em">2.5</option></select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t},setController_MathButton:function(){const e=this.lang,t=this.util.createElement("DIV");return t.className="se-controller se-controller-link",t.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+this.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+this.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",t},open:function(){this.plugins.dialog.open.call(this,"math","math"===this.currentControllerName)},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp"))return;const t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML}}},_renderer:function(e){const t=this.context.option.katex;return t.src.renderToString(e,t.options)},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=function(){if(0===this.context.math.focusElement.value.trim().length)return!1;const e=this.context.math,t=e.focusElement.value,i=e.previewElement.querySelector(".katex");if(!i)return!1;if(i.className="__se__katex "+i.className,i.setAttribute("contenteditable",!1),i.setAttribute("data-exp",this.util.HTMLEncoder(t)),i.setAttribute("data-font-size",e.fontSizeElement.value),i.style.fontSize=e.fontSizeElement.value,this.context.dialog.updateModal){const t=this.util.getParentElement(e._mathExp,".katex");t.parentNode.replaceChild(i,t),this.setRange(i,0,i,1)}else{const e=this.getSelectedElements();if(e.length>1){const t=this.util.createElement(e[0].nodeName);if(t.appendChild(i),!this.insertNode(t,null,!0))return!1}else if(!this.insertNode(i,null,!0))return!1;const t=this.util.createTextNode(this.util.zeroWidthSpace);i.parentNode.insertBefore(t,i.nextSibling),this.setRange(i,0,i,1)}return e.focusElement.value="",e.fontSizeElement.value="1em",e.previewElement.style.fontSize="1em",e.previewElement.innerHTML="",!0}.bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch(e){this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(e){if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0}else this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();return!1},on:function(e){if(e){const e=this.context.math;if(e._mathExp){const t=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),i=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=t,e.fontSizeElement.value=i,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t),e.previewElement.style.fontSize=i}}else this.plugins.math.init.call(this)},call_controller:function(e){this.context.math._mathExp=e;const t=this.context.math.mathController,i=this.util.getOffset(e,this.context.element.wysiwygFrame);t.style.top=i.top+e.offsetHeight+10+"px",t.style.left=i.left-this.context.element.wysiwygFrame.scrollLeft+"px",t.style.display="block";const n=this.context.element.wysiwygFrame.offsetWidth-(t.offsetLeft+t.offsetWidth);n<0?(t.style.left=t.offsetLeft+n+"px",t.firstElementChild.style.left=20-n+"px"):t.firstElementChild.style.left="20px",this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}},T=i(2293),M=i.n(T),B={name:"imageGallery",add:function(e){e.addModule([M.a]);const t=e.context;t.imageGallery={title:e.lang.toolbar.imageGallery,url:t.options.imageGalleryUrl,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){const t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+e.src+'" alt="'+(e.alt||t)+'" data-command="pick"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e){this.callPlugin("image",function(){const t={name:e.parentNode.querySelector(".__se__img_name").textContent,size:0};this.context.image._altText=e.alt,this.plugins.image.create_image.call(this,e.src,"",!1,this.context.image._origin_w,this.context.image._origin_h,"none",t)}.bind(this),null)}};t.default={blockquote:n,align:o,font:l,fontSize:s,fontColor:a,hiliteColor:c,horizontalRule:u,list:d,table:h,formatBlock:p,lineHeight:f,template:g,paragraphStyle:m,textStyle:b,link:_,image:E,video:L,audio:z,math:N,imageGallery:B}}}]);